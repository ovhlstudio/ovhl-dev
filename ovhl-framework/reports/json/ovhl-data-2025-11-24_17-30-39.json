{
  "rootPath": "E:\\OMNIVERSE-DEV\\ovhl-framework",
  "config": {
    "project": {
      "targetPath": "../ovhl-framework",
      "rojoFile": "default.project.json"
    },
    "aiContext": {
      "lifecycle": "Init(ctx) -> Start()",
      "architecture": [
        "Singleton Service/Controller",
        "No wait()",
        "No script.Parent.Parent"
      ],
      "testing": "TestEZ Mandatory"
    },
    "reporting": {
      "outputDir": "./reports",
      "timestampFormat": "YYYY-MM-DD_HH-mm-ss",
      "maxHistory": 5,
      "naming": {
        "markdown": "ovhl-snapshot-{TIMESTAMP}",
        "json": "ovhl-data-{TIMESTAMP}"
      },
      "layout": [
        "01_Structure",
        "06_Telemetry",
        "03_Security",
        "08_Reusability",
        "02_Dependencies",
        "04_CodeQuality",
        "07_BreakingChanges",
        "99_Snapshot"
      ]
    },
    "audit": {
      "ignore": [
        "**/Packages/**",
        "**/_Index/**"
      ],
      "maxSnapshotLines": 1000
    },
    "penalties": {
      "raceCondition": 20,
      "globalState": 5,
      "missingTelemetry": 10
    }
  },
  "timestamp": "2025-11-24T10:30:39.567Z",
  "results": [
    {
      "id": "01_Structure",
      "title": "üìÅ Project Structure",
      "content": "### üì¶ Statistics Summary\n\n| Metric | Value |\n|---|---|\n| **Files** | 71 |\n| **Folders** | 47 |\n| **Lines** | 4262 |\n| **Size** | 147.21 KB |\n\n### üó∫Ô∏è Distribution\n\n| Scope | Files | Lines |\n|---|---|---|\n| **Server** | 15 | 986 |\n| **Client** | 7 | 494 |\n| **Shared** | 48 | 2780 |\n| **Unknown** | 1 | 2 |\n\n### üå≥ Project Scaffold\n```text\n‚îú‚îÄ‚îÄ üìÅ reports\n‚îÇ   ‚îî‚îÄ‚îÄ üìÅ markdown\n‚îú‚îÄ‚îÄ üåô run.luau\n‚îú‚îÄ‚îÄ üìÅ src\n‚îÇ   ‚îú‚îÄ‚îÄ üìÅ ReplicatedStorage\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ OVHL\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üåô Bootstrap.luau\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Config\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô LoggerConfig.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üåô SystemPanelConfig.luau\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Core\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô ConfigSchema.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô Constants.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô Context.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô Env.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô Framework.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô FrameworkTypes.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô Loader.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô Manifest.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Networking\n‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô Bridge.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô Middleware.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üåô NetworkEnums.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô SharedConfigLoader.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô Signals.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô SmartLogger.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üåô TypeValidator.luau\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Modules\n‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Inventory\n‚îÇ   ‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ üåô SharedConfig.luau\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Types\n‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üìÅ UI\n‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ üìÅ Foundation\n‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üåô API.luau\n‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üåô ActionGuard.luau\n‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üåô Assets.luau\n‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Bridges\n‚îÇ   ‚îÇ           ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üåô Topbar.lua\n‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Components\n‚îÇ   ‚îÇ           ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô AsyncButton.luau\n‚îÇ   ‚îÇ           ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô GridContainer.luau\n‚îÇ   ‚îÇ           ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô ItemSlot.luau\n‚îÇ   ‚îÇ           ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô ScreenWrapper.luau\n‚îÇ   ‚îÇ           ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô SmartButton.luau\n‚îÇ   ‚îÇ           ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô SmartText.luau\n‚îÇ   ‚îÇ           ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô SmartWindow.luau\n‚îÇ   ‚îÇ           ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üåô Window.luau\n‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üåô Motion.luau\n‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üåô MotionPresets.luau\n‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üåô OVHLTheme.luau\n‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üåô SafeLoader.luau\n‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üåô Theme.luau\n‚îÇ   ‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ üåô Util.luau\n‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ üìÅ Views\n‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ üìÅ Inventory\n‚îÇ   ‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ üåô InventoryView.luau\n‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ üìÅ Shop\n‚îÇ   ‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ üåô ShopView.luau\n‚îÇ   ‚îÇ               ‚îî‚îÄ‚îÄ üìÅ System\n‚îÇ   ‚îÇ                   ‚îú‚îÄ‚îÄ üìÅ Components\n‚îÇ   ‚îÇ                   ‚îÇ   ‚îú‚îÄ‚îÄ üåô ConfirmationDialog.luau\n‚îÇ   ‚îÇ                   ‚îÇ   ‚îî‚îÄ‚îÄ üåô PlayerInspector.luau\n‚îÇ   ‚îÇ                   ‚îú‚îÄ‚îÄ üåô FrameworkPanelView.luau\n‚îÇ   ‚îÇ                   ‚îî‚îÄ‚îÄ üìÅ Pages\n‚îÇ   ‚îÇ                       ‚îî‚îÄ‚îÄ üåô PermissionPage.luau\n‚îÇ   ‚îú‚îÄ‚îÄ üìÅ ServerScriptService\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ OVHL\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Config\n‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üåô PermissionConfig.luau\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Core\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô DataMigrator.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô NetworkBridge.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô NetworkGuard.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Permissions\n‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Adapters\n‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üåô HDAdmin.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üåô InternalDB.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô RateLimiter.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üåô ServerKernel.luau\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Modules\n‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Inventory\n‚îÇ   ‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ üåô InventoryService.luau\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üåô ServerRuntime.server.luau\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Services\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô DataManagerService.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô MonetizationService.luau\n‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üåô PermissionService.luau\n‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üåô TestRunner.server.luau\n‚îÇ   ‚îî‚îÄ‚îÄ üìÅ StarterPlayer\n‚îÇ       ‚îî‚îÄ‚îÄ üìÅ StarterPlayerScripts\n‚îÇ           ‚îî‚îÄ‚îÄ üìÅ OVHL\n‚îÇ               ‚îú‚îÄ‚îÄ üåô ClientRuntime.client.luau\n‚îÇ               ‚îú‚îÄ‚îÄ üìÅ Controllers\n‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ üåô FrameworkController.luau\n‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ üåô PermissionController.luau\n‚îÇ               ‚îú‚îÄ‚îÄ üìÅ Core\n‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ üåô ClientKernel.luau\n‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ üåô FinderService.luau\n‚îÇ               ‚îú‚îÄ‚îÄ üìÅ Modules\n‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Inventory\n‚îÇ               ‚îÇ       ‚îî‚îÄ‚îÄ üåô InventoryController.luau\n‚îÇ               ‚îî‚îÄ‚îÄ üåô TestRunner.client.luau\n‚îî‚îÄ‚îÄ üìÅ tests\n    ‚îú‚îÄ‚îÄ üìÅ ReplicatedStorage\n    ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Mocks\n    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô MockDataStore.luau\n    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üåô MockPlayer.luau\n    ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ OVHL\n    ‚îÇ       ‚îî‚îÄ‚îÄ üìÅ Core\n    ‚îÇ           ‚îú‚îÄ‚îÄ üåô Context.spec.luau\n    ‚îÇ           ‚îú‚îÄ‚îÄ üåô Loader.spec.luau\n    ‚îÇ           ‚îî‚îÄ‚îÄ üåô SmartLogger.spec.luau\n    ‚îú‚îÄ‚îÄ üìÅ ServerScriptService\n    ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ OVHL\n    ‚îÇ       ‚îî‚îÄ‚îÄ üìÅ Core\n    ‚îÇ           ‚îî‚îÄ‚îÄ üåô DataMigrator.spec.luau\n    ‚îî‚îÄ‚îÄ üìÅ StarterPlayer\n        ‚îî‚îÄ‚îÄ üìÅ StarterPlayerScripts\n\n```",
      "issues": [],
      "duration": 19
    },
    {
      "id": "02_Dependencies",
      "title": "üîó Dependencies",
      "content": "### üì¶ External Packages (Wally)\n\n| Package | Status | Refs |\n|---|---|---|\n| **TestEZ** | ‚úÖ Active | 2 refs |\n| **Fusion** | ‚úÖ Active | 7 refs |\n| **topbarplus** | ‚úÖ Active | 1 refs |\n| **onyx-ui** | ‚úÖ Active | 2 refs |\n| **Promise** | ‚úÖ Active | 1 refs |\n| **Signal** | ‚úÖ Active | 1 refs |\n| **profileservice** | ‚úÖ Active | 1 refs |\n| **Option** | ‚ö†Ô∏è Unused | 0 refs |\n| **Trove** | ‚úÖ Active | 3 refs |\n\n### üï∑Ô∏è Module Coupling\n- **Core Dependency:** 19 files depend heavily on `Loader.Core` frameworks.\n",
      "issues": [],
      "duration": 9
    },
    {
      "id": "03_Security",
      "title": "üõ°Ô∏è Security Sweep",
      "content": "### üõ°Ô∏è Security Analysis Results\n\n",
      "issues": [
        {
          "type": "WARNING",
          "title": "Potential Global Mutable State",
          "message": "Top-level table 'Bridge' detected. If this stores state, it will persist. Ensure it is stateless or a Constant.",
          "file": "src/ServerScriptService/OVHL/Core/NetworkBridge.luau",
          "line": 11,
          "snippet": "local Bridge = {}",
          "penalty": 5
        },
        {
          "type": "WARNING",
          "title": "Potential Global Mutable State",
          "message": "Top-level table 'Adapters' detected. If this stores state, it will persist. Ensure it is stateless or a Constant.",
          "file": "src/ServerScriptService/OVHL/Core/ServerKernel.luau",
          "line": 12,
          "snippet": "local Adapters = {",
          "penalty": 5
        },
        {
          "type": "WARNING",
          "title": "Potential Global Mutable State",
          "message": "Top-level table 'DataManager' detected. If this stores state, it will persist. Ensure it is stateless or a Constant.",
          "file": "src/ServerScriptService/OVHL/Services/DataManagerService.luau",
          "line": 12,
          "snippet": "local DataManager = {}",
          "penalty": 5
        },
        {
          "type": "WARNING",
          "title": "Potential Global Mutable State",
          "message": "Top-level table 'Profiles' detected. If this stores state, it will persist. Ensure it is stateless or a Constant.",
          "file": "src/ServerScriptService/OVHL/Services/DataManagerService.luau",
          "line": 14,
          "snippet": "local Profiles = {}",
          "penalty": 5
        },
        {
          "type": "WARNING",
          "title": "Potential Global Mutable State",
          "message": "Top-level table 'Handlers' detected. If this stores state, it will persist. Ensure it is stateless or a Constant.",
          "file": "src/ServerScriptService/OVHL/Services/MonetizationService.luau",
          "line": 7,
          "snippet": "local Handlers = {}",
          "penalty": 5
        },
        {
          "type": "WARNING",
          "title": "Potential Global Mutable State",
          "message": "Top-level table 'Hub' detected. If this stores state, it will persist. Ensure it is stateless or a Constant.",
          "file": "src/ServerScriptService/OVHL/Services/PermissionService.luau",
          "line": 7,
          "snippet": "local Hub = {}",
          "penalty": 5
        },
        {
          "type": "WARNING",
          "title": "Potential Global Mutable State",
          "message": "Top-level table 'ConfigLoader' detected. If this stores state, it will persist. Ensure it is stateless or a Constant.",
          "file": "src/ReplicatedStorage/OVHL/Core/SharedConfigLoader.luau",
          "line": 8,
          "snippet": "local ConfigLoader = {}",
          "penalty": 5
        },
        {
          "type": "WARNING",
          "title": "Potential Global Mutable State",
          "message": "Top-level table 'Hub' detected. If this stores state, it will persist. Ensure it is stateless or a Constant.",
          "file": "src/ServerScriptService/OVHL/Modules/Inventory/InventoryService.luau",
          "line": 7,
          "snippet": "local Hub = {}",
          "penalty": 5
        },
        {
          "type": "WARNING",
          "title": "Potential Global Mutable State",
          "message": "Top-level table 'Presets' detected. If this stores state, it will persist. Ensure it is stateless or a Constant.",
          "file": "src/ReplicatedStorage/OVHL/UI/Foundation/MotionPresets.luau",
          "line": 7,
          "snippet": "local Presets = {}",
          "penalty": 5
        },
        {
          "type": "WARNING",
          "title": "Potential Global Mutable State",
          "message": "Top-level table 'Finder' detected. If this stores state, it will persist. Ensure it is stateless or a Constant.",
          "file": "src/StarterPlayer/StarterPlayerScripts/OVHL/Core/FinderService.luau",
          "line": 14,
          "snippet": "local Finder = {}",
          "penalty": 5
        },
        {
          "type": "WARNING",
          "title": "Potential Global Mutable State",
          "message": "Top-level table 'TopbarBridge' detected. If this stores state, it will persist. Ensure it is stateless or a Constant.",
          "file": "src/ReplicatedStorage/OVHL/UI/Foundation/Bridges/Topbar.lua",
          "line": 11,
          "snippet": "local TopbarBridge = {}",
          "penalty": 5
        }
      ],
      "duration": 11
    },
    {
      "id": "04_CodeQuality",
      "title": "üßπ Code Quality",
      "content": "### üìç Path & Quality Analysis\n\n‚úÖ **CLEAN: Architecture Compliant.**\n\n> **üëÆ‚Äç‚ôÇÔ∏è ENFORCEMENT NOTE:**\n> - **No Hardcoded Paths:** Never use `game.ServerScriptService.X`. Use `Loader.Server(\"X\")`.\n> - **No Relative Hell:** Never use `script.Parent.Parent`. Use `Loader.Module(\"Name\")`.\n",
      "issues": [],
      "duration": 9
    },
    {
      "id": "05_UIStack",
      "title": "üé® UI System",
      "content": "### üé® UI Tech Stack Overview\n\n- **Fusion Usage:** 10 files\n- **Onyx Usage:** 5 files\n\n",
      "issues": [
        {
          "type": "INFO",
          "title": "Hardcoded Color",
          "message": "Avoid raw colors. Use **API.Theme** tokens (e.g. Theme.Colors.Base.Main).",
          "file": "src/ReplicatedStorage/OVHL/UI/Foundation/SafeLoader.luau",
          "line": 33,
          "snippet": "BackgroundColor3 = Color3.fromRGB(40, 0, 0),",
          "penalty": 1
        },
        {
          "type": "INFO",
          "title": "Hardcoded Color",
          "message": "Avoid raw colors. Use **API.Theme** tokens (e.g. Theme.Colors.Base.Main).",
          "file": "src/ReplicatedStorage/OVHL/UI/Foundation/SafeLoader.luau",
          "line": 38,
          "snippet": "TextColor3 = Color3.new(1,0.5,0.5),",
          "penalty": 1
        },
        {
          "type": "INFO",
          "title": "Hardcoded Color",
          "message": "Avoid raw colors. Use **API.Theme** tokens (e.g. Theme.Colors.Base.Main).",
          "file": "src/ReplicatedStorage/OVHL/UI/Foundation/Components/ItemSlot.luau",
          "line": 58,
          "snippet": "TextColor3 = Color3.new(0,0,0),",
          "penalty": 1
        },
        {
          "type": "INFO",
          "title": "Hardcoded Color",
          "message": "Avoid raw colors. Use **API.Theme** tokens (e.g. Theme.Colors.Base.Main).",
          "file": "src/ReplicatedStorage/OVHL/UI/Views/System/Components/ConfirmationDialog.luau",
          "line": 22,
          "snippet": "BackgroundColor3 = Color3.new(0, 0, 0),",
          "penalty": 1
        },
        {
          "type": "INFO",
          "title": "Hardcoded Color",
          "message": "Avoid raw colors. Use **API.Theme** tokens (e.g. Theme.Colors.Base.Main).",
          "file": "src/ReplicatedStorage/OVHL/UI/Views/System/Pages/PermissionPage.luau",
          "line": 134,
          "snippet": "scope:New \"TextBox\" { Size = UDim2.new(1, -30, 1, 0), BackgroundTransparency = 1, Text = SearchText, PlaceholderText = \"Search by username...\", PlaceholderColor3 = Color3.fromRGB(100,100,100), TextColor3 = UI.Theme.Colors.BaseContent.Main, TextSize = 16, FontFace = UI.Theme.Font.Body, TextXAlignment = Enum.TextXAlignment.Left, ClearTextOnFocus = false, [UI.OnChange \"Text\"] = function(newText) SearchText:set(newText) end }",
          "penalty": 1
        }
      ],
      "duration": 6
    },
    {
      "id": "06_Telemetry",
      "title": "üì° Telemetry",
      "content": "### üì° Active Telemetry Domains\n\n| Module | Domain |\n|---|---|\n| `NetworkBridge.luau` | **SECURITY** |\n| `NetworkGuard.luau` | **SECURITY** |\n| `ServerKernel.luau` | **SYSTEM** |\n| `DataManagerService.luau` | **DATA** |\n| `MonetizationService.luau` | **SHOP** |\n| `PermissionService.luau` | **PERMISSION** |\n| `Bridge.luau` | **SECURITY** |\n| `SafeLoader.luau` | **USER_INTERFACE** |\n| `InventoryService.luau` | **INVENTORY** |\n| `ClientKernel.luau` | **SYSTEM** |\n| `Topbar.lua` | **TOPBAR** |\n| `AsyncButton.luau` | **UX** |\n| `SmartButton.luau` | **UX** |\n| `Window.luau` | **UI_LAYOUT** |\n",
      "issues": [
        {
          "type": "CRITICAL",
          "title": "Blind Logic (Missing Logger)",
          "message": "This file controls logic but has NO EYES. AI cannot debug it. Inject 'SmartLogger' immediately.",
          "file": "src/StarterPlayer/StarterPlayerScripts/OVHL/Core/FinderService.luau",
          "penalty": 10
        },
        {
          "type": "CRITICAL",
          "title": "Blind Logic (Missing Logger)",
          "message": "This file controls logic but has NO EYES. AI cannot debug it. Inject 'SmartLogger' immediately.",
          "file": "src/ReplicatedStorage/OVHL/UI/Views/Inventory/InventoryView.luau",
          "penalty": 10
        },
        {
          "type": "CRITICAL",
          "title": "Blind Logic (Missing Logger)",
          "message": "This file controls logic but has NO EYES. AI cannot debug it. Inject 'SmartLogger' immediately.",
          "file": "src/ReplicatedStorage/OVHL/UI/Views/Shop/ShopView.luau",
          "penalty": 10
        },
        {
          "type": "CRITICAL",
          "title": "Blind Logic (Missing Logger)",
          "message": "This file controls logic but has NO EYES. AI cannot debug it. Inject 'SmartLogger' immediately.",
          "file": "src/ReplicatedStorage/OVHL/UI/Views/System/FrameworkPanelView.luau",
          "penalty": 10
        }
      ],
      "duration": 8
    },
    {
      "id": "07_BreakingChanges",
      "title": "‚ö†Ô∏è Breaking Changes",
      "content": "### üïµÔ∏è API Contract Diff (HEAD vs HEAD~1)\n\n‚úÖ **CLEAN: No Breaking Changes detected.**\n\n> **üëÆ‚Äç‚ôÇÔ∏è ENFORCEMENT NOTE:**\n> - **API Stability:** Never remove keys from `SharedConfig.Requests`. Deprecate them instead.\n> - **Contract First:** Always define Args and RateLimits before coding the implementation.\n\n\n#### üï∞Ô∏è Git Stats\n```diff\n .gitignore                      |  1 +\n audit-tools/audit.sh            | 73 ++++++++++++++++++++++++-----------------\n audit-tools/lib/file_ops.sh     | 19 +++++++----\n audit-tools/lib/utils.sh        | 34 ++++++++++++-------\n audit-tools/modules/01_stats.sh |  7 +++-\n ovhl-framework/.selene.toml     |  2 +-\n ovhl-tools/README.md            | 16 ++++++++-\n 7 files changed, 100 insertions(+), 52 deletions(-)\n\n```",
      "issues": [],
      "duration": 198
    },
    {
      "id": "08_Reusability",
      "title": "‚ôªÔ∏è UI Reusability",
      "content": "### ‚ôªÔ∏è Reusability Analysis\n\n‚úÖ UI Architecture looks modular.\n",
      "issues": [],
      "duration": 6
    },
    {
      "id": "99_Snapshot",
      "title": "üìö Complete Codebase Snapshot",
      "content": "\n### üì¶ Group: Shared\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/Bootstrap.luau</strong> (18 lines, 493 Bytes)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.Bootstrap`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Core: Bootstrap\r\n   3 | local RunService = game:GetService(\"RunService\")\r\n   4 | local Bootstrap = {}\r\n   5 | \r\n   6 | function Bootstrap.StartServer()\r\n   7 |     if not RunService:IsServer() then return end\r\n   8 |     require(game.ServerScriptService.OVHL.Core.ServerKernel).Boot()\r\n   9 | end\r\n  10 | \r\n  11 | function Bootstrap.StartClient()\r\n  12 |     if not RunService:IsClient() then return end\r\n  13 |     local PS = game.Players.LocalPlayer:WaitForChild(\"PlayerScripts\")\r\n  14 |     require(PS.OVHL.Core.ClientKernel).Boot()\r\n  15 | end\r\n  16 | \r\n  17 | return Bootstrap\r\n  18 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/Config/LoggerConfig.luau</strong> (34 lines, 993 Bytes)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.Config.LoggerConfig`\n\n```lua\n   1 | --!strict\r\n   2 | return {\r\n   3 |     DefaultLevel = \"DEBUG\", -- [FIX] Ganti dari INFO ke DEBUG agar semua narasi muncul\r\n   4 |     UseEmoji = true,\r\n   5 |     UseColor = true,\r\n   6 |     ShowTimestamp = true,\r\n   7 | \r\n   8 |     Domains = {\r\n   9 |         SYSTEM      = \"‚öôÔ∏è SYSTEM\",\r\n  10 |         NETWORK     = \"üåê NETWORK\", \r\n  11 |         SECURITY    = \"üîê SECURITY\",\r\n  12 |         DATA        = \"üíæ DATA\",\r\n  13 |         INVENTORY   = \"üéí INVENTORY\",\r\n  14 |         SHOP        = \"üè™ SHOP\", \r\n  15 |         ADMIN       = \"üëë ADMIN\",\r\n  16 |         PERMISSION  = \"üîê PERMISSION\",\r\n  17 |         \r\n  18 |         -- UI Domains (Telemetry)\r\n  19 |         UX             = \"üëÜ UX\",\r\n  20 |         USER_INTERFACE = \"üé® UI\",\r\n  21 |         TOPBAR         = \"üîò TOPBAR\",\r\n  22 |         \r\n  23 |         DEFAULT     = \"üì¶ GENERAL\"\r\n  24 |     },\r\n  25 | \r\n  26 |     Levels = {\r\n  27 |         DEBUG    = { Weight=1, Icon=\"üîç\" },\r\n  28 |         INFO     = { Weight=2, Icon=\"‚ÑπÔ∏è\" },\r\n  29 |         WARN     = { Weight=3, Icon=\"‚ö†Ô∏è\" },\r\n  30 |         ERROR    = { Weight=4, Icon=\"‚ùå\" },\r\n  31 |         CRITICAL = { Weight=5, Icon=\"üíÄ\" }\r\n  32 |     }\r\n  33 | }\r\n  34 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/Config/SystemPanelConfig.luau</strong> (38 lines, 926 Bytes)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.Config.SystemPanelConfig`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Config: SystemPanelConfig\r\n   3 | -- @Role: Single Source of Truth untuk Framework Panel\r\n   4 | -- @Standard: OVHL Enterprise\r\n   5 | \r\n   6 | return {\r\n   7 | \tMeta = {\r\n   8 | \t\tName = \"FrameworkPanel\",\r\n   9 | \t\tVersion = \"1.0.0\",\r\n  10 | \t},\r\n  11 | \r\n  12 | \t-- Konfigurasi Topbar Icon\r\n  13 | \tTopbar = {\r\n  14 | \t\tEnabled = true,\r\n  15 | \t\tText = \"PANEL\",\r\n  16 | \t\tIcon = \"rbxassetid://6022668961\", -- Settings Icon\r\n  17 | \t\tOrder = 99,\r\n  18 | \t\tPermission = 5, -- Minimal Admin (3) untuk melihat tombol ini\r\n  19 | \t\tShortcut = Enum.KeyCode.F4,\r\n  20 | \t},\r\n  21 | \r\n  22 | \t-- Konfigurasi UI Window\r\n  23 | \tUI = {\r\n  24 | \t\tTitle = \"OVHL COMMAND CENTER\",\r\n  25 | \t\tSize = { X = 800, Y = 500 },\r\n  26 | \t\tSidebarWidth = 200,\r\n  27 | \t\tTransition = \"SlideFromRight\",\r\n  28 | \t},\r\n  29 | \r\n  30 | \t-- Daftar Menu (Data Driven View)\r\n  31 | \tMenus = {\r\n  32 | \t\t{ Id = \"Dashboard\", Label = \"üè† Dashboard\", Order = 1 },\r\n  33 | \t\t{ Id = \"Permission\", Label = \"üë• Permission\", Order = 2 },\r\n  34 | \t\t{ Id = \"Logger\", Label = \"üéõÔ∏è Logger\", Order = 3 },\r\n  35 | \t\t{ Id = \"Network\", Label = \"üì° Network\", Order = 4 },\r\n  36 | \t},\r\n  37 | }\r\n  38 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/ConfigSchema.luau</strong> (43 lines, 1.21 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.ConfigSchema`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Core: ConfigSchema\r\n   3 | -- Validasi struktur config agar tidak crash di runtime\r\n   4 | local ConfigSchema = {}\r\n   5 | \r\n   6 | local REQUIRED = {\r\n   7 |     Meta = { Name=\"string\", Type=\"string\", Version=\"string\" }\r\n   8 | }\r\n   9 | \r\n  10 | local function validate(data, schema, path)\r\n  11 |     local errors = {}\r\n  12 |     for field, expected in pairs(schema) do\r\n  13 |         local val = data[field]\r\n  14 |         local ctx = path .. \".\" .. field\r\n  15 |         \r\n  16 |         if val == nil then\r\n  17 |             table.insert(errors, \"Missing: \" .. ctx)\r\n  18 |         elseif type(expected) == \"table\" then\r\n  19 |             if type(val) ~= \"table\" then\r\n  20 |                 table.insert(errors, ctx .. \" must be table\")\r\n  21 |             else\r\n  22 |                 for _, e in ipairs(validate(val, expected, ctx)) do \r\n  23 |                     table.insert(errors, e) \r\n  24 |                 end\r\n  25 |             end\r\n  26 |         elseif type(val) ~= expected then\r\n  27 |             table.insert(errors, ctx .. \" must be \" .. expected)\r\n  28 |         end\r\n  29 |     end\r\n  30 |     return errors\r\n  31 | end\r\n  32 | \r\n  33 | function ConfigSchema.Validate(cfg, name)\r\n  34 |     local errs = validate(cfg, REQUIRED, name)\r\n  35 |     if #errs > 0 then\r\n  36 |         warn(\"[CONFIG ERROR] \" .. name .. \":\\n\" .. table.concat(errs, \"\\n\"))\r\n  37 |         return false\r\n  38 |     end\r\n  39 |     return true\r\n  40 | end\r\n  41 | \r\n  42 | return ConfigSchema\r\n  43 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Constants.luau</strong> (20 lines, 378 Bytes)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Constants`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Core: Constants\r\n   3 | -- @Role: Single Source of Truth\r\n   4 | local Constants = {\r\n   5 |     SYSTEM = {\r\n   6 |         VERSION = \"0.2.0\",\r\n   7 |         NAME = \"OVHL Framework\"\r\n   8 |     },\r\n   9 |     NET = {\r\n  10 |         TIMEOUT = 10,\r\n  11 |         RETRY_ATTEMPTS = 3\r\n  12 |     },\r\n  13 |     ROLES = {\r\n  14 |         GUEST = \"Guest\",\r\n  15 |         ADMIN = \"Admin\",\r\n  16 |         OWNER = \"Owner\"\r\n  17 |     }\r\n  18 | }\r\n  19 | return table.freeze(Constants)\r\n  20 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Context.luau</strong> (33 lines, 771 Bytes)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Context`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Core: Context (DI Container)\r\n   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)\r\n   4 | \r\n   5 | -- [MIGRATION] Use Dot Syntax Internally\r\n   6 | local SmartLogger = Loader.Core.SmartLogger\r\n   7 | local Signals = Loader.Core.Signals\r\n   8 | local Manifest = Loader.Core.Manifest \r\n   9 | \r\n  10 | local Context = {}\r\n  11 | Context.__index = Context\r\n  12 | \r\n  13 | function Context.New(services)\r\n  14 |     local self = setmetatable({}, Context)\r\n  15 |     \r\n  16 |     self.Manifest = Manifest\r\n  17 |     self.Signals = Signals\r\n  18 |     self.Services = services or {}\r\n  19 |     \r\n  20 |     function self:CreateLogger(domain: string)\r\n  21 |         return SmartLogger.New(domain)\r\n  22 |     end\r\n  23 |     \r\n  24 |     -- Inject Dependencies\r\n  25 |     for name, service in pairs(self.Services) do\r\n  26 |         self[name] = service\r\n  27 |     end\r\n  28 | \r\n  29 |     return self\r\n  30 | end\r\n  31 | \r\n  32 | return Context\r\n  33 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Env.luau</strong> (24 lines, 384 Bytes)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Env`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Core: Env\r\n   3 | local RunService = game:GetService(\"RunService\")\r\n   4 | \r\n   5 | local Env = {}\r\n   6 | \r\n   7 | function Env.IsStudio()\r\n   8 |     return RunService:IsStudio()\r\n   9 | end\r\n  10 | \r\n  11 | function Env.IsServer()\r\n  12 |     return RunService:IsServer()\r\n  13 | end\r\n  14 | \r\n  15 | function Env.IsClient()\r\n  16 |     return RunService:IsClient()\r\n  17 | end\r\n  18 | \r\n  19 | function Env.MockDataStore()\r\n  20 |     return Env.IsStudio()\r\n  21 | end\r\n  22 | \r\n  23 | return table.freeze(Env)\r\n  24 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Framework.luau</strong> (86 lines, 2.42 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Framework`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Core: Framework (Central Factory - V2.2 With Auto-Trove)\r\n   3 | -- @Role: Dependency Injector & Standardizer\r\n   4 | local RS = game:GetService(\"ReplicatedStorage\")\r\n   5 | \r\n   6 | -- Internal Dependencies\r\n   7 | local Loader = require(RS.OVHL.Core.Loader)\r\n   8 | local SmartLogger = Loader.Core(\"SmartLogger\")\r\n   9 | local ActionGuard = Loader.UI.Foundation.ActionGuard\r\n  10 | local Bridge = Loader.Core.Networking.Bridge\r\n  11 | local Trove = Loader.Pkg(\"Trove\") -- [NEW] Load Trove di Pusat\r\n  12 | \r\n  13 | local Framework = {}\r\n  14 | \r\n  15 | function Framework.CreateController(def)\r\n  16 | \tlocal ctrl = def or {}\r\n  17 | \tlocal name = ctrl.Name or \"UnknownController\"\r\n  18 | \r\n  19 | \t-- 1. Auto-Inject Logger & Tools\r\n  20 | \tctrl.Logger = SmartLogger.New(name:upper())\r\n  21 | \tctrl.Bridge = Bridge.New()\r\n  22 | \tctrl.Guard = ActionGuard\r\n  23 | \tctrl.Trove = Trove.new() -- [NEW] Otomatis pasang Tong Sampah Pintar\r\n  24 | \r\n  25 | \t-- 2. Auto-Load Config (SMART LOADER PATCH)\r\n  26 | \tif ctrl.ConfigName then\r\n  27 | \t\tlocal loadedConfig = nil\r\n  28 | \t\tlocal loadSource = \"None\"\r\n  29 | \r\n  30 | \t\t-- [STRATEGY A] Cek di Module Feature (Inventory, Shop)\r\n  31 | \t\tlocal successA, resA = pcall(function()\r\n  32 | \t\t\treturn Loader.Module(ctrl.ConfigName).SharedConfig\r\n  33 | \t\tend)\r\n  34 | \t\tif successA and resA then\r\n  35 | \t\t\tloadedConfig = resA\r\n  36 | \t\t\tloadSource = \"Module\"\r\n  37 | \t\telse\r\n  38 | \t\t\t-- [STRATEGY B] Cek di Global Config Folder (SystemPanelConfig)\r\n  39 | \t\t\tlocal successB, resB = pcall(function()\r\n  40 | \t\t\t\treturn Loader.Config(ctrl.ConfigName)\r\n  41 | \t\t\tend)\r\n  42 | \t\t\tif successB and resB then\r\n  43 | \t\t\t\tloadedConfig = resB\r\n  44 | \t\t\t\tloadSource = \"GlobalConfig\"\r\n  45 | \t\t\tend\r\n  46 | \t\tend\r\n  47 | \r\n  48 | \t\t-- [RESULT CHECK]\r\n  49 | \t\tif loadedConfig then\r\n  50 | \t\t\tctrl.Config = loadedConfig\r\n  51 | \t\t\tctrl.Logger:Debug(\"ConfigLoaded\", { Source = loadSource, Name = ctrl.ConfigName })\r\n  52 | \t\telse\r\n  53 | \t\t\tctrl.Logger:Error(\"ConfigCritical\", \"FAILED TO LOAD CONFIG: \" .. ctrl.ConfigName)\r\n  54 | \t\t\tctrl.Config = { Meta = { Error = \"Missing\" }, UI = {}, Topbar = {} }\r\n  55 | \t\tend\r\n  56 | \tend\r\n  57 | \r\n  58 | \t-- 3. Lifecycle Wrapper\r\n  59 | \tlocal originalInit = ctrl.Init\r\n  60 | \tfunction ctrl:Init(ctx)\r\n  61 | \t\tif originalInit then\r\n  62 | \t\t\t-- Bungkus dengan pcall biar kalau Init error, gak matiin thread utama\r\n  63 | \t\t\tlocal s, err = pcall(originalInit, self, ctx)\r\n  64 | \t\t\tif not s then\r\n  65 | \t\t\t\tctrl.Logger:Error(\"InitCrash\", err)\r\n  66 | \t\t\tend\r\n  67 | \t\tend\r\n  68 | \tend\r\n  69 | \r\n  70 | \t-- [NEW] Auto Cleanup Method\r\n  71 | \t-- Framework sekarang punya standar cara mematikan Controller\r\n  72 | \tfunction ctrl:Destroy()\r\n  73 | \t\tif self.Shutdown then\r\n  74 | \t\t\tself:Shutdown()\r\n  75 | \t\tend -- Panggil custom shutdown user dulu\r\n  76 | \t\tif self.Trove then\r\n  77 | \t\t\tself.Trove:Destroy() -- Bersihkan sampah otomatis\r\n  78 | \t\t\tself.Trove = nil\r\n  79 | \t\tend\r\n  80 | \tend\r\n  81 | \r\n  82 | \treturn ctrl\r\n  83 | end\r\n  84 | \r\n  85 | return Framework\r\n  86 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/FrameworkTypes.luau</strong> (34 lines, 962 Bytes)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.FrameworkTypes`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Core: FrameworkTypes\r\n   3 | -- Definisi Kontrak untuk Type Checking Luau\r\n   4 | local FrameworkTypes = {}\r\n   5 | \r\n   6 | export type Logger = {\r\n   7 |     Info: (self: Logger, msg: string, data: any?) -> (),\r\n   8 |     Warn: (self: Logger, msg: string, data: any?) -> (),\r\n   9 |     Error: (self: Logger, msg: string, data: any?) -> (),\r\n  10 |     Debug: (self: Logger, msg: string, data: any?) -> (),\r\n  11 | }\r\n  12 | \r\n  13 | export type Manifest = {\r\n  14 |     Identity: { Name: string, Namespace: string },\r\n  15 |     Version: { Major: number, Minor: number, Patch: number, Full: string },\r\n  16 |     Metadata: { BuildType: string }\r\n  17 | }\r\n  18 | \r\n  19 | export type Context = {\r\n  20 |     Manifest: Manifest,\r\n  21 |     Services: { [string]: any },\r\n  22 |     CreateLogger: (self: Context, domain: string) -> Logger,\r\n  23 |     [string]: any -- Allow dynamic injection\r\n  24 | }\r\n  25 | \r\n  26 | export type Service = {\r\n  27 |     Init: (self: Service, ctx: Context) -> ()?,\r\n  28 |     Start: (self: Service) -> ()?,\r\n  29 |     Shutdown: (self: Service) -> ()?,\r\n  30 |     [any]: any\r\n  31 | }\r\n  32 | \r\n  33 | return FrameworkTypes\r\n  34 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Loader.luau</strong> (133 lines, 4.28 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Loader`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Core: Loader v2.2 (Recursive Legacy Support)\r\n   3 | local ReplicatedStorage = game:GetService(\"ReplicatedStorage\")\r\n   4 | local ServerScriptService = game:GetService(\"ServerScriptService\")\r\n   5 | local RunService = game:GetService(\"RunService\")\r\n   6 | \r\n   7 | local Loader = {}\r\n   8 | \r\n   9 | -- Root References\r\n  10 | local ROOTS = {\r\n  11 | \tCore = ReplicatedStorage:WaitForChild(\"OVHL\"):WaitForChild(\"Core\"),\r\n  12 | \tConfig = ReplicatedStorage.OVHL:WaitForChild(\"Config\"),\r\n  13 | \tUI = ReplicatedStorage.OVHL:WaitForChild(\"UI\"),\r\n  14 | \tSharedModules = ReplicatedStorage.OVHL:WaitForChild(\"Modules\"),\r\n  15 | \tPackages = ReplicatedStorage:WaitForChild(\"Packages\")\r\n  16 | }\r\n  17 | \r\n  18 | -- Helper: Listing Available Files\r\n  19 | local function getAvailable(instance: Instance)\r\n  20 |     local list = {}\r\n  21 |     for _, c in ipairs(instance:GetChildren()) do table.insert(list, c.Name) end\r\n  22 |     return table.concat(list, \", \")\r\n  23 | end\r\n  24 | \r\n  25 | -- [[ HELPER: PROXY GENERATOR ]]\r\n  26 | local function createProxy(rootInstance: Instance, pathHistory: string)\r\n  27 | \tlocal proxy = newproxy(true)\r\n  28 | \tlocal meta = getmetatable(proxy)\r\n  29 | \r\n  30 | \t-- 1. DOT SYNTAX HANDLER (Modern)\r\n  31 | \tmeta.__index = function(_, key)\r\n  32 | \t\tlocal currentPath = pathHistory .. \".\" .. key\r\n  33 | \t\tlocal child = rootInstance:FindFirstChild(key)\r\n  34 | \r\n  35 | \t\t-- Smart Package Resolution\r\n  36 | \t\tif not child and rootInstance == ROOTS.Packages then\r\n  37 | \t\t\tlocal lowerKey = key:lower()\r\n  38 | \t\t\tfor _, c in ipairs(rootInstance:GetChildren()) do\r\n  39 | \t\t\t\tif c.Name:lower() == lowerKey or c.Name:find(\"_\" .. lowerKey .. \"@\") then\r\n  40 | \t\t\t\t\tchild = c\r\n  41 | \t\t\t\t\tbreak\r\n  42 | \t\t\t\tend\r\n  43 | \t\t\tend\r\n  44 | \t\tend\r\n  45 | \r\n  46 | \t\tif not child then\r\n  47 | \t\t\terror(string.format(\r\n  48 |                 \"[Loader] ‚ùå Path Error: '%s' not found in %s.\\n   Available: %s\", \r\n  49 |                 key, rootInstance.Name, getAvailable(rootInstance)\r\n  50 |             ))\r\n  51 | \t\tend\r\n  52 | \r\n  53 | \t\tif child:IsA(\"ModuleScript\") then\r\n  54 | \t\t\treturn require(child)\r\n  55 | \t\telseif child:IsA(\"Folder\") then\r\n  56 | \t\t\treturn createProxy(child, currentPath)\r\n  57 | \t\telse\r\n  58 | \t\t\treturn child\r\n  59 | \t\tend\r\n  60 | \tend\r\n  61 | \r\n  62 | \t-- 2. CALL SYNTAX HANDLER (Legacy Recursive Fix)\r\n  63 |     -- Menangani: Loader.Core(\"Networking/Bridge\")\r\n  64 | \tmeta.__call = function(_, pathString: string)\r\n  65 |         local current = rootInstance\r\n  66 |         \r\n  67 |         -- [FIX] Split string by \"/\" untuk menelusuri folder\r\n  68 |         for _, segment in ipairs(string.split(pathString, \"/\")) do\r\n  69 |             local nextObj = current:FindFirstChild(segment)\r\n  70 |             \r\n  71 |             -- Fallback check untuk Packages (Wally renaming)\r\n  72 |             if not nextObj and current == ROOTS.Packages then\r\n  73 |                 local lower = segment:lower()\r\n  74 |                 for _, c in ipairs(current:GetChildren()) do\r\n  75 |                     if c.Name:lower() == lower or c.Name:find(\"_\" .. lower .. \"@\") then\r\n  76 |                         nextObj = c; break\r\n  77 |                     end\r\n  78 |                 end\r\n  79 |             end\r\n  80 |             \r\n  81 |             if not nextObj then\r\n  82 |                 error(string.format(\"[Loader] Legacy Path Error: Segment '%s' not found in '%s'. Path: %s\", segment, current.Name, pathString))\r\n  83 |             end\r\n  84 |             \r\n  85 |             current = nextObj\r\n  86 |         end\r\n  87 |         \r\n  88 |         if current:IsA(\"ModuleScript\") then\r\n  89 | \t\t    return require(current)\r\n  90 |         else\r\n  91 |             return current -- Return instance/folder\r\n  92 |         end\r\n  93 | \tend\r\n  94 |     \r\n  95 |     meta.__tostring = function() return \"LoaderProxy[\" .. rootInstance.Name .. \"]\" end\r\n  96 | \r\n  97 | \treturn proxy\r\n  98 | end\r\n  99 | \r\n 100 | -- [[ EXPORTS ]]\r\n 101 | Loader.Core = createProxy(ROOTS.Core, \"Core\")\r\n 102 | Loader.Config = createProxy(ROOTS.Config, \"Config\")\r\n 103 | Loader.Pkg = createProxy(ROOTS.Packages, \"Packages\")\r\n 104 | Loader.UI = createProxy(ROOTS.UI, \"UI\")\r\n 105 | \r\n 106 | -- Feature Loader\r\n 107 | Loader.Module = function(featureName: string, subModule: string?)\r\n 108 | \tlocal folder = ROOTS.SharedModules:FindFirstChild(featureName)\r\n 109 | \tif not folder then error(\"Feature not found: \" .. featureName) end\r\n 110 | \t\r\n 111 |     -- Legacy Support\r\n 112 |     if subModule then\r\n 113 |         local sub = folder:FindFirstChild(subModule)\r\n 114 |         if not sub then error(\"SubModule '\"..subModule..\"' not found in \" .. featureName) end\r\n 115 |         return require(sub)\r\n 116 |     end\r\n 117 |     \r\n 118 |     -- New Support\r\n 119 | \treturn createProxy(folder, \"Module.\" .. featureName)\r\n 120 | end\r\n 121 | \r\n 122 | -- Server Loader\r\n 123 | if RunService:IsServer() then\r\n 124 | \tlocal ServerRoot = ServerScriptService:WaitForChild(\"OVHL\")\r\n 125 | \tLoader.Server = createProxy(ServerRoot, \"Server\")\r\n 126 | else\r\n 127 |     Loader.Server = setmetatable({}, {\r\n 128 |         __index = function() error(\"[Loader] Loader.Server cannot be used on Client!\") end\r\n 129 |     })\r\n 130 | end\r\n 131 | \r\n 132 | return Loader\r\n 133 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Manifest.luau</strong> (22 lines, 444 Bytes)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Manifest`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Core: Manifest (Single Source of Truth)\r\n   3 | -- Identitas & Versi Framework\r\n   4 | return {\r\n   5 |     Identity = {\r\n   6 |         Name = \"OVHL Framework\",\r\n   7 |         Namespace = \"omniverse\"\r\n   8 |     },\r\n   9 |     \r\n  10 |     Version = {\r\n  11 |         Major = 0,\r\n  12 |         Minor = 1,\r\n  13 |         Patch = 0,\r\n  14 |         Full = \"0.1.0\"\r\n  15 |     },\r\n  16 |     \r\n  17 |     Metadata = {\r\n  18 |         BuildType = \"Alpha\", -- Development / Staging / Production\r\n  19 |         LastUpdated = \"2025-11-22\"\r\n  20 |     }\r\n  21 | }\r\n  22 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/SharedConfigLoader.luau</strong> (40 lines, 1.07 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.SharedConfigLoader`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Core: SharedConfigLoader\r\n   3 | -- Mencari dan memuat SharedConfig dari folder Modules\r\n   4 | local RS = game:GetService(\"ReplicatedStorage\")\r\n   5 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)\r\n   6 | local Schema = Loader.Core(\"ConfigSchema\")\r\n   7 | \r\n   8 | local ConfigLoader = {}\r\n   9 | \r\n  10 | function ConfigLoader.Load(moduleName)\r\n  11 |     -- Cari folder module\r\n  12 |     local root = RS.OVHL.Modules\r\n  13 |     local moduleFolder = root:FindFirstChild(moduleName)\r\n  14 |     \r\n  15 |     if not moduleFolder then\r\n  16 |         warn(\"[Config] Module not found: \" .. moduleName)\r\n  17 |         return {}\r\n  18 |     end\r\n  19 |     \r\n  20 |     -- Cari file config\r\n  21 |     local configFile = moduleFolder:FindFirstChild(\"SharedConfig\")\r\n  22 |     if not configFile then\r\n  23 |         return {} -- Config is optional, return empty\r\n  24 |     end\r\n  25 |     \r\n  26 |     -- Require & Validate\r\n  27 |     local success, data = pcall(require, configFile)\r\n  28 |     if not success then\r\n  29 |         warn(\"[Config] Syntax Error in \" .. moduleName .. \": \" .. tostring(data))\r\n  30 |         return {}\r\n  31 |     end\r\n  32 |     \r\n  33 |     -- Validasi Schema\r\n  34 |     Schema.Validate(data, moduleName)\r\n  35 |     \r\n  36 |     return data\r\n  37 | end\r\n  38 | \r\n  39 | return ConfigLoader\r\n  40 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Signals.luau</strong> (28 lines, 590 Bytes)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Signals`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Core: Signals (Event Bus)\r\n   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)\r\n   4 | local Signal = Loader.Pkg(\"Signal\")\r\n   5 | \r\n   6 | local Signals = {}\r\n   7 | Signals._registry = {}\r\n   8 | \r\n   9 | function Signals:Get(name)\r\n  10 |     if not self._registry[name] then\r\n  11 |         self._registry[name] = Signal.new()\r\n  12 |     end\r\n  13 |     return self._registry[name]\r\n  14 | end\r\n  15 | \r\n  16 | function Signals:Fire(name, ...)\r\n  17 |     local sig = self._registry[name]\r\n  18 |     if sig then\r\n  19 |         sig:Fire(...)\r\n  20 |     end\r\n  21 | end\r\n  22 | \r\n  23 | function Signals:Connect(name, callback)\r\n  24 |     return self:Get(name):Connect(callback)\r\n  25 | end\r\n  26 | \r\n  27 | return Signals\r\n  28 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/SmartLogger.luau</strong> (97 lines, 2.87 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.SmartLogger`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Core: SmartLogger\r\n   3 | -- @PortedFrom: Snapshot V4.0\r\n   4 | local HttpService = game:GetService(\"HttpService\")\r\n   5 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)\r\n   6 | \r\n   7 | local Config = Loader.Config(\"LoggerConfig\")\r\n   8 | local Env = Loader.Core(\"Env\")\r\n   9 | \r\n  10 | local SmartLogger = {}\r\n  11 | SmartLogger.__index = SmartLogger\r\n  12 | \r\n  13 | local CONTEXT_TAG = Env.IsServer() and \"[SERVER]\" or \"[CLIENT]\"\r\n  14 | \r\n  15 | function SmartLogger.New(domain, overrides)\r\n  16 |     local self = setmetatable({}, SmartLogger)\r\n  17 |     self._rawDomain = domain or \"SYSTEM\"\r\n  18 |     \r\n  19 |     local mapped = Config.Domains[self._rawDomain]\r\n  20 |     if mapped then\r\n  21 |         self._domainDisplay = mapped\r\n  22 |     else\r\n  23 |         self._domainDisplay = string.format(\"üì¶ %s\", self._rawDomain:upper())\r\n  24 |     end\r\n  25 |     \r\n  26 |     local defLvl = Config.DefaultLevel or \"INFO\"\r\n  27 |     local myLvl = (overrides and overrides.LogLevel) or defLvl\r\n  28 |     self._weight = Config.Levels[myLvl] and Config.Levels[myLvl].Weight or 2\r\n  29 |     \r\n  30 |     return self\r\n  31 | end\r\n  32 | \r\n  33 | function SmartLogger:_safeDump(data, depth)\r\n  34 |     depth = depth or 0\r\n  35 |     if depth > 2 then return \"...\" end\r\n  36 |     \r\n  37 |     local t = type(data)\r\n  38 |     if t == \"table\" then\r\n  39 |         local parts = {}\r\n  40 |         for k, v in pairs(data) do\r\n  41 |             if type(k) == \"string\" then\r\n  42 |                 table.insert(parts, k .. \"=\" .. self:_safeDump(v, depth + 1))\r\n  43 |             end\r\n  44 |         end\r\n  45 |         return \"{\" .. table.concat(parts, \", \") .. \"}\"\r\n  46 |     elseif t == \"userdata\" then\r\n  47 |         return typeof(data)\r\n  48 |     else\r\n  49 |         return tostring(data)\r\n  50 |     end\r\n  51 | end\r\n  52 | \r\n  53 | function SmartLogger:_safeFormat(level, message, data)\r\n  54 |     if not message then return nil end\r\n  55 |     \r\n  56 |     local cfg = Config.Levels[level]\r\n  57 |     if not cfg then return nil end\r\n  58 |     \r\n  59 |     local meta = \"\"\r\n  60 |     if data ~= nil then\r\n  61 |         local success, result = pcall(function()\r\n  62 |             return HttpService:JSONEncode(data)\r\n  63 |         end)\r\n  64 |         if success then\r\n  65 |             meta = \" ‚îÇ \" .. result\r\n  66 |         else\r\n  67 |             meta = \" ‚îÇ [RAW] \" .. self:_safeDump(data)\r\n  68 |         end\r\n  69 |     end\r\n  70 | \r\n  71 |     local levelIcon = cfg.Icon or \"üìù\"\r\n  72 |     -- [SAFE] Lune menangani karakter newline (\\n) secara native di sini\r\n  73 |     return string.format(\"%s %s %s\\n   ‚îî‚îÄ‚îÄ %s%s\", \r\n  74 |         levelIcon, CONTEXT_TAG, self._domainDisplay, message, meta)\r\n  75 | end\r\n  76 | \r\n  77 | function SmartLogger:_log(level, message, data)\r\n  78 |     local cfg = Config.Levels[level]\r\n  79 |     if not cfg or cfg.Weight < self._weight then return end\r\n  80 |     \r\n  81 |     local logMessage = self:_safeFormat(level, message, data)\r\n  82 |     if not logMessage then return end\r\n  83 |     \r\n  84 |     if level == \"ERROR\" or level == \"CRITICAL\" then\r\n  85 |         warn(logMessage)\r\n  86 |     else\r\n  87 |         print(logMessage)\r\n  88 |     end\r\n  89 | end\r\n  90 | \r\n  91 | function SmartLogger:Debug(m, d) self:_log(\"DEBUG\", m, d) end\r\n  92 | function SmartLogger:Info(m, d)  self:_log(\"INFO\", m, d) end\r\n  93 | function SmartLogger:Warn(m, d)  self:_log(\"WARN\", m, d) end\r\n  94 | function SmartLogger:Error(m, d) self:_log(\"ERROR\", m, d) end\r\n  95 | \r\n  96 | return SmartLogger\r\n  97 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/TypeValidator.luau</strong> (54 lines, 2.02 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.TypeValidator`\n\n```lua\n   1 | --!strict\r\n   2 | -- [[ Type Validator - Strict Runtime Checking ]]\r\n   3 | -- @Role: Validates arguments passed via NetworkBridge\r\n   4 | \r\n   5 | local TypeValidator = {}\r\n   6 | \r\n   7 | local TYPE_CHECKERS = {\r\n   8 |     string = function(v) return type(v) == 'string' end,\r\n   9 |     number = function(v) return type(v) == 'number' end,\r\n  10 |     boolean = function(v) return type(v) == 'boolean' end,\r\n  11 |     table = function(v) return type(v) == 'table' end,\r\n  12 |     ['function'] = function(v) return type(v) == 'function' end,\r\n  13 |     Instance = function(v) return typeof(v) == 'Instance' end,\r\n  14 |     Vector3 = function(v) return typeof(v) == 'Vector3' end,\r\n  15 |     Color3 = function(v) return typeof(v) == 'Color3' end,\r\n  16 |     Player = function(v) return typeof(v) == 'Instance' and v:IsA('Player') end,\r\n  17 |     any = function(v) return true end\r\n  18 | }\r\n  19 | \r\n  20 | function TypeValidator.Validate(args, schema)\r\n  21 |     if not schema then return true end\r\n  22 |     local errors = {}\r\n  23 | \r\n  24 |     for i, spec in ipairs(schema) do\r\n  25 |         local val = args[i]\r\n  26 |         local name = spec.name or ('arg #' .. i)\r\n  27 |         \r\n  28 |         -- Handle simple string types for backward compatibility\r\n  29 |         local requiredType = type(spec) == 'string' and spec or spec.type\r\n  30 |         local isOptional = (type(spec) == 'table' and spec.optional)\r\n  31 | \r\n  32 |         if val == nil then\r\n  33 |             if not isOptional then\r\n  34 |                 table.insert(errors, string.format('%s is required', name))\r\n  35 |             end\r\n  36 |         else\r\n  37 |             local checker = TYPE_CHECKERS[requiredType]\r\n  38 |             if not checker then\r\n  39 |                 -- Fallback to basic type check\r\n  40 |                 if type(val) ~= requiredType and typeof(val) ~= requiredType then\r\n  41 |                      table.insert(errors, string.format('%s expected %s, got %s', name, requiredType, typeof(val)))\r\n  42 |                 end\r\n  43 |             elseif not checker(val) then\r\n  44 |                 table.insert(errors, string.format('%s invalid format for %s', name, requiredType))\r\n  45 |             end\r\n  46 |         end\r\n  47 |     end\r\n  48 | \r\n  49 |     if #errors > 0 then return false, table.concat(errors, '; ') end\r\n  50 |     return true\r\n  51 | end\r\n  52 | \r\n  53 | return TypeValidator\r\n  54 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Networking/Bridge.luau</strong> (210 lines, 5.68 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Networking.Bridge`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Component: NetworkBridge (Shared v2.3 - Fixed Request Logic)\r\n   3 | -- @Role: Traffic Controller & Security Checkpoint\r\n   4 | local ReplicatedStorage = game:GetService(\"ReplicatedStorage\")\r\n   5 | local RunService = game:GetService(\"RunService\")\r\n   6 | local ServerScriptService = game:GetService(\"ServerScriptService\")\r\n   7 | \r\n   8 | local Loader = require(ReplicatedStorage.OVHL.Core.Loader)\r\n   9 | local Promise = Loader.Pkg(\"Promise\")\r\n  10 | \r\n  11 | local Bridge = {}\r\n  12 | Bridge.__index = Bridge\r\n  13 | \r\n  14 | local IS_SERVER = RunService:IsServer()\r\n  15 | \r\n  16 | -- Lazy load Server modules\r\n  17 | local Guard, TypeValidator\r\n  18 | if IS_SERVER then\r\n  19 | \tGuard = require(ServerScriptService.OVHL.Core.NetworkGuard)\r\n  20 | \tTypeValidator = Loader.Core(\"TypeValidator\")\r\n  21 | end\r\n  22 | \r\n  23 | function Bridge.New(ctx)\r\n  24 | \tlocal self = setmetatable({\r\n  25 | \t\t_root = nil,\r\n  26 | \t}, Bridge)\r\n  27 | \r\n  28 | \tif IS_SERVER then\r\n  29 | \t\t-- SERVER SIDE SETUP\r\n  30 | \t\tlocal secLog = ctx:CreateLogger(\"SECURITY\")\r\n  31 | \t\tlocal netLog = ctx:CreateLogger(\"NETWORK\")\r\n  32 | \t\tself._logger = netLog\r\n  33 | \t\tself._secLog = secLog\r\n  34 | \t\tself._limit = ctx.RateLimiter\r\n  35 | \r\n  36 | \t\tself._root = ReplicatedStorage:FindFirstChild(\"OVHL_Remotes\") or Instance.new(\"Folder\", ReplicatedStorage)\r\n  37 | \t\tself._root.Name = \"OVHL_Remotes\"\r\n  38 | \t\tself._services = {}\r\n  39 | \r\n  40 | \t\tself._secLog:Info(\"System\", \"üõ°Ô∏è Security Systems (Guard & Limiter) Connected\")\r\n  41 | \telse\r\n  42 | \t\t-- CLIENT SIDE SETUP\r\n  43 | \t\t-- Tunggu folder remotes (Max 20 detik)\r\n  44 | \t\tself._root = ReplicatedStorage:WaitForChild(\"OVHL_Remotes\", 20)\r\n  45 | \t\tif not self._root then\r\n  46 | \t\t\twarn(\"[Bridge] Critical: OVHL_Remotes folder not found after 20s!\")\r\n  47 | \t\tend\r\n  48 | \tend\r\n  49 | \r\n  50 | \treturn self\r\n  51 | end\r\n  52 | \r\n  53 | -- [[ SERVER API ]]\r\n  54 | function Bridge:Register(serviceName, netConfig)\r\n  55 | \tif not IS_SERVER then\r\n  56 | \t\treturn\r\n  57 | \tend\r\n  58 | \r\n  59 | \tlocal reqs = netConfig and netConfig.Requests or {}\r\n  60 | \tfor methodName, rules in pairs(reqs) do\r\n  61 | \t\t-- NAMA REMOTE: Service_Method\r\n  62 | \t\tlocal remoteName = serviceName .. \"_\" .. methodName\r\n  63 | \t\tlocal rf = self._root:FindFirstChild(remoteName) or Instance.new(\"RemoteFunction\", self._root)\r\n  64 | \t\trf.Name = remoteName\r\n  65 | \r\n  66 | \t\tlocal limitKey = serviceName .. \":\" .. methodName\r\n  67 | \t\tif rules.RateLimit and self._limit then\r\n  68 | \t\t\tself._limit:SetRule(limitKey, rules.RateLimit.Max, rules.RateLimit.Interval)\r\n  69 | \t\tend\r\n  70 | \r\n  71 | \t\trf.OnServerInvoke = function(player, ...)\r\n  72 | \t\t\treturn self:_handleInvoke(player, serviceName, methodName, rules, ...)\r\n  73 | \t\tend\r\n  74 | \tend\r\n  75 | \r\n  76 | \tlocal events = netConfig and netConfig.Events or {}\r\n  77 | \tfor _, eventName in ipairs(events) do\r\n  78 | \t\t-- NAMA REMOTE: Service/Event\r\n  79 | \t\tlocal remoteName = serviceName .. \"/\" .. eventName\r\n  80 | \t\tlocal re = self._root:FindFirstChild(remoteName) or Instance.new(\"RemoteEvent\", self._root)\r\n  81 | \t\tre.Name = remoteName\r\n  82 | \tend\r\n  83 | \r\n  84 | \treturn {\r\n  85 | \t\tOnInvoke = function() end,\r\n  86 | \t\tFire = function(...) end,\r\n  87 | \t}\r\n  88 | end\r\n  89 | \r\n  90 | function Bridge:_handleInvoke(player, serviceName, methodName, rules, ...)\r\n  91 | \t-- A. Rate Limit\r\n  92 | \tlocal limitKey = serviceName .. \":\" .. methodName\r\n  93 | \tif rules.RateLimit and self._limit and not self._limit:Check(player, limitKey) then\r\n  94 | \t\tself._secLog:Warn(\"RateLimit\", { Plr = player.Name, Action = methodName })\r\n  95 | \t\treturn { Success = false, Error = \"Too Many Requests\", Code = 429 }\r\n  96 | \tend\r\n  97 | \r\n  98 | \t-- B. Inbound Guard\r\n  99 | \tlocal rawArgs = { ... }\r\n 100 | \tlocal cleanArgs = {}\r\n 101 | \tfor i, v in ipairs(rawArgs) do\r\n 102 | \t\tcleanArgs[i] = Guard.CleanIn(v, 0, player)\r\n 103 | \tend\r\n 104 | \r\n 105 | \t-- C. Type Validation\r\n 106 | \tif rules.Args then\r\n 107 | \t\tlocal ok, err = TypeValidator.Validate(cleanArgs, rules.Args)\r\n 108 | \t\tif not ok then\r\n 109 | \t\t\treturn { Success = false, Error = \"Invalid Arguments\", Code = 400 }\r\n 110 | \t\tend\r\n 111 | \tend\r\n 112 | \r\n 113 | \t-- D. Execution\r\n 114 | \tlocal service = self._services[serviceName]\r\n 115 | \tif service and service[methodName] then\r\n 116 | \t\tlocal success, result = pcall(service[methodName], service, player, table.unpack(cleanArgs))\r\n 117 | \t\tif not success then\r\n 118 | \t\t\treturn { Success = false, Error = \"Internal Server Error\" }\r\n 119 | \t\tend\r\n 120 | \r\n 121 | \t\t-- E. Outbound Guard\r\n 122 | \t\tlocal sanitized = Guard.SanitizeOutbound(result)\r\n 123 | \t\tif type(sanitized) == \"table\" and sanitized.Success ~= nil then\r\n 124 | \t\t\treturn sanitized\r\n 125 | \t\tend\r\n 126 | \t\treturn { Success = true, Data = sanitized }\r\n 127 | \tend\r\n 128 | \r\n 129 | \treturn { Success = false, Error = \"Service Not Bound\" }\r\n 130 | end\r\n 131 | \r\n 132 | function Bridge:Bind(name, srv)\r\n 133 | \tself._services[name] = srv\r\n 134 | end\r\n 135 | \r\n 136 | function Bridge:Fire(player, serviceName, eventName, ...)\r\n 137 | \tif not IS_SERVER then\r\n 138 | \t\treturn\r\n 139 | \tend\r\n 140 | \tlocal remoteName = serviceName .. \"/\" .. eventName\r\n 141 | \tlocal re = self._root:FindFirstChild(remoteName)\r\n 142 | \tif re then\r\n 143 | \t\tre:FireClient(player, ...)\r\n 144 | \tend\r\n 145 | end\r\n 146 | \r\n 147 | function Bridge:FireAll(serviceName, eventName, ...)\r\n 148 | \tif not IS_SERVER then\r\n 149 | \t\treturn\r\n 150 | \tend\r\n 151 | \tlocal remoteName = serviceName .. \"/\" .. eventName\r\n 152 | \tlocal re = self._root:FindFirstChild(remoteName)\r\n 153 | \tif re then\r\n 154 | \t\tre:FireAllClients(...)\r\n 155 | \tend\r\n 156 | end\r\n 157 | \r\n 158 | -- [[ CLIENT API ]]\r\n 159 | -- [FIX] Parameter sekarang (serviceName, methodName, ...args)\r\n 160 | function Bridge:Request(serviceName, methodName, ...)\r\n 161 | \tif IS_SERVER then\r\n 162 | \t\terror(\"Request is Client-Only\")\r\n 163 | \tend\r\n 164 | \tlocal args = { ... }\r\n 165 | \r\n 166 | \treturn Promise.new(function(resolve, reject)\r\n 167 | \t\tif not self._root then\r\n 168 | \t\t\treturn reject(\"Bridge not initialized\")\r\n 169 | \t\tend\r\n 170 | \r\n 171 | \t\t-- [FIX] Target nama remote yang benar: Service_Method\r\n 172 | \t\tlocal remoteName = serviceName .. \"_\" .. methodName\r\n 173 | \r\n 174 | \t\t-- Timeout 20s\r\n 175 | \t\tlocal rf = self._root:WaitForChild(remoteName, 45)\r\n 176 | \t\tif not rf then\r\n 177 | \t\t\treturn reject(\"Timeout: Remote '\" .. remoteName .. \"' not found\")\r\n 178 | \t\tend\r\n 179 | \r\n 180 | \t\tlocal result = rf:InvokeServer(table.unpack(args))\r\n 181 | \r\n 182 | \t\tif type(result) == \"table\" and result.Success ~= nil then\r\n 183 | \t\t\tif result.Success then\r\n 184 | \t\t\t\tresolve(result.Data)\r\n 185 | \t\t\telse\r\n 186 | \t\t\t\treject(result.Error)\r\n 187 | \t\t\tend\r\n 188 | \t\telse\r\n 189 | \t\t\tresolve(result)\r\n 190 | \t\tend\r\n 191 | \tend)\r\n 192 | end\r\n 193 | \r\n 194 | function Bridge:Listen(serviceName, eventName, callback)\r\n 195 | \tif IS_SERVER then\r\n 196 | \t\treturn\r\n 197 | \tend\r\n 198 | \tif not self._root then\r\n 199 | \t\treturn\r\n 200 | \tend\r\n 201 | \r\n 202 | \tlocal remoteName = serviceName .. \"/\" .. eventName\r\n 203 | \tlocal re = self._root:WaitForChild(remoteName, 45)\r\n 204 | \tif re then\r\n 205 | \t\tre.OnClientEvent:Connect(callback)\r\n 206 | \tend\r\n 207 | end\r\n 208 | \r\n 209 | return Bridge\r\n 210 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Networking/Middleware.luau</strong> (33 lines, 954 Bytes)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Networking.Middleware`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Core: Middleware (Chain of Responsibility)\r\n   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)\r\n   4 | local Enums = Loader.Core(\"Networking/NetworkEnums\")\r\n   5 | \r\n   6 | local Middleware = {}\r\n   7 | \r\n   8 | -- Tipe: function(player, requestData) -> (shouldContinue, errorMsg, statusCode)\r\n   9 | \r\n  10 | function Middleware.RateLimiter(maxRequests, interval)\r\n  11 |     return function(player, _)\r\n  12 |         -- TODO: Implementasi Real Rate Limit di Phase 4\r\n  13 |         return true\r\n  14 |     end\r\n  15 | end\r\n  16 | \r\n  17 | function Middleware.AdminOnly(rankId)\r\n  18 |     return function(player, _)\r\n  19 |         -- Mockup: Selalu boleh di Studio\r\n  20 |         if game:GetService(\"RunService\"):IsStudio() then return true end\r\n  21 |         return false, \"Access Denied\", Enums.Status.FORBIDDEN\r\n  22 |     end\r\n  23 | end\r\n  24 | \r\n  25 | function Middleware.Validator(schema)\r\n  26 |     return function(_, args)\r\n  27 |         if not args then return false, \"Missing Arguments\", Enums.Status.BAD_REQUEST end\r\n  28 |         return true\r\n  29 |     end\r\n  30 | end\r\n  31 | \r\n  32 | return Middleware\r\n  33 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Networking/NetworkEnums.luau</strong> (19 lines, 428 Bytes)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Networking.NetworkEnums`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Core: NetworkEnums\r\n   3 | -- Standar Status Code ala HTTP untuk Game Networking\r\n   4 | return table.freeze({\r\n   5 |     Status = {\r\n   6 |         OK = 200,\r\n   7 |         BAD_REQUEST = 400,\r\n   8 |         UNAUTHORIZED = 401,\r\n   9 |         FORBIDDEN = 403,\r\n  10 |         NOT_FOUND = 404,\r\n  11 |         RATE_LIMITED = 429,\r\n  12 |         INTERNAL_ERROR = 500\r\n  13 |     },\r\n  14 |     Events = {\r\n  15 |         SystemHandshake = \"SYS_HANDSHAKE\",\r\n  16 |         SystemPing = \"SYS_PING\"\r\n  17 |     }\r\n  18 | })\r\n  19 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/Modules/Inventory/SharedConfig.luau</strong> (66 lines, 1.36 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.Modules.Inventory.SharedConfig`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Feature: Inventory Config\r\n   3 | -- @Standard: OVHL v0.2.1 (Action Ready)\r\n   4 | \r\n   5 | return {\r\n   6 | \tMeta = {\r\n   7 | \t\tName = \"Inventory\",\r\n   8 | \t\tType = \"Feature\",\r\n   9 | \t\tVersion = \"4.2.0\",\r\n  10 | \t},\r\n  11 | \r\n  12 | \tTopbar = {\r\n  13 | \t\tEnabled = true,\r\n  14 | \t\tText = \"BAG\",\r\n  15 | \t\tIcon = \"rbxassetid://96226541857519\",\r\n  16 | \t\tShortcut = Enum.KeyCode.B,\r\n  17 | \t\tOrder = 1,\r\n  18 | \t\tPermission = 0,\r\n  19 | \t},\r\n  20 | \r\n  21 | \tLayout = {\r\n  22 | \t\tMode = \"Grid\",\r\n  23 | \t\tGrid = {\r\n  24 | \t\t\tCellSize = { X = 150, Y = 230 },\r\n  25 | \t\t\tGap = { X = 12, Y = 12 },\r\n  26 | \t\t\tSort = Enum.SortOrder.LayoutOrder,\r\n  27 | \t\t},\r\n  28 | \t},\r\n  29 | \r\n  30 | \tUI = {\r\n  31 | \t\tTitle = \"MY BACKPACK\",\r\n  32 | \t\tEmptyState = \"No items found.\",\r\n  33 | \t\tTransition = \"Slide\",\r\n  34 | \r\n  35 | \t\tRarityColors = {\r\n  36 | \t\t\tCommon = Color3.fromHex(\"94A3B8\"),\r\n  37 | \t\t\tUncommon = Color3.fromHex(\"10B981\"),\r\n  38 | \t\t\tRare = Color3.fromHex(\"3B82F6\"),\r\n  39 | \t\t\tEpic = Color3.fromHex(\"8B5CF6\"),\r\n  40 | \t\t\tLegendary = Color3.fromHex(\"F59E0B\"),\r\n  41 | \t\t\tMythic = Color3.fromHex(\"EF4444\"),\r\n  42 | \t\t},\r\n  43 | \r\n  44 | \t\tActions = {\r\n  45 | \t\t\t{ Id = \"Equip\", Label = \"EQUIP\", Style = \"Primary\" },\r\n  46 | \t\t\t{ Id = \"Drop\", Label = \"DROP\", Style = \"Danger\" },\r\n  47 | \t\t},\r\n  48 | \t},\r\n  49 | \r\n  50 | \tNetwork = {\r\n  51 | \t\tRoute = \"Inventory\",\r\n  52 | \t\tRequests = {\r\n  53 | \t\t\tGetItems = {\r\n  54 | \t\t\t\tRateLimit = { Max = 5, Interval = 1 },\r\n  55 | \t\t\t\tArgs = {},\r\n  56 | \t\t\t},\r\n  57 | \t\t\t-- [NEW] Endpoint untuk Aksi\r\n  58 | \t\t\tPerformAction = {\r\n  59 | \t\t\t\tRateLimit = { Max = 4, Interval = 1 }, -- Strict Security via Bridge\r\n  60 | \t\t\t\tArgs = { { name = \"itemId\", type = \"any\" }, { name = \"action\", type = \"string\" } },\r\n  61 | \t\t\t},\r\n  62 | \t\t},\r\n  63 | \t\tEvents = {},\r\n  64 | \t},\r\n  65 | }\r\n  66 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/ActionGuard.luau</strong> (58 lines, 1.87 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.ActionGuard`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Foundation: ActionGuard (Global Logic Gatekeeper)\r\n   3 | -- @Role: Mencegah Spam, Race Condition, dan Menghandle Confirmation Flow\r\n   4 | local RS = game:GetService(\"ReplicatedStorage\")\r\n   5 | local Loader = require(RS.OVHL.Core.Loader)\r\n   6 | local Signals = Loader.Core(\"Signals\")\r\n   7 | \r\n   8 | local ActionGuard = {}\r\n   9 | local _isBusy = false -- Global Lock\r\n  10 | \r\n  11 | -- [[ API UTAMA ]]\r\n  12 | -- @param opts: { Confirm: {Title, Msg}, Debounce: number }\r\n  13 | -- @param callback: Fungsi yang akan dijalankan jika lolos guard\r\n  14 | function ActionGuard.Run(opts, callback)\r\n  15 |     -- 1. Global Busy Check\r\n  16 |     if _isBusy then \r\n  17 |         warn(\"[ActionGuard] System Busy / Spam Detected\")\r\n  18 |         return \r\n  19 |     end\r\n  20 |     \r\n  21 |     -- 2. Lock System\r\n  22 |     _isBusy = true\r\n  23 |     \r\n  24 |     -- Helper untuk unlock (dipanggil saat selesai/batal)\r\n  25 |     local function unlock()\r\n  26 |         _isBusy = false\r\n  27 |     end\r\n  28 | \r\n  29 |     -- 3. Confirmation Flow\r\n  30 |     if opts.Confirm then\r\n  31 |         -- Kirim Sinyal ke UI System (FrameworkController) buat nampilin Dialog\r\n  32 |         Signals:Fire(\"SystemUI:RequestConfirm\", {\r\n  33 |             Title = opts.Confirm.Title,\r\n  34 |             Message = opts.Confirm.Msg,\r\n  35 |             \r\n  36 |             -- Callback Result dari UI\r\n  37 |             OnResult = function(confirmed)\r\n  38 |                 if confirmed then\r\n  39 |                     -- Eksekusi aksi nyata\r\n  40 |                     local success, err = pcall(callback)\r\n  41 |                     if not success then warn(\"[ActionGuard] Execution Error:\", err) end\r\n  42 |                 end\r\n  43 |                 -- Buka gembok setelah user milih Yes/No atau Timeout\r\n  44 |                 unlock()\r\n  45 |             end\r\n  46 |         })\r\n  47 |     else\r\n  48 |         -- Langsung Eksekusi (Instant Action)\r\n  49 |         local success, err = pcall(callback)\r\n  50 |         if not success then warn(\"[ActionGuard] Execution Error:\", err) end\r\n  51 |         \r\n  52 |         -- Debounce sederhana buat Instant Action\r\n  53 |         task.delay(opts.Debounce or 0.5, unlock)\r\n  54 |     end\r\n  55 | end\r\n  56 | \r\n  57 | return ActionGuard\r\n  58 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/API.luau</strong> (46 lines, 1.37 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.API`\n\n```lua\n   1 | --!strict\r\n   2 | -- @UI: API (Motion System Integrated)\r\n   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)\r\n   4 | \r\n   5 | local Fusion = Loader.Pkg(\"Fusion\")\r\n   6 | local Onyx = Loader.Pkg(\"onyx-ui\")\r\n   7 | \r\n   8 | local Assets = Loader.UI.Foundation.Assets\r\n   9 | local Motion = Loader.UI.Foundation.Motion\r\n  10 | local MotionPresets = Loader.UI.Foundation.MotionPresets\r\n  11 | local Theme = Loader.UI.Foundation.OVHLTheme\r\n  12 | local Util = Loader.UI.Foundation.Util\r\n  13 | local SafeLoader = Loader.UI.Foundation.SafeLoader\r\n  14 | \r\n  15 | local API = {}\r\n  16 | \r\n  17 | for k,v in pairs(Fusion) do API[k] = v end\r\n  18 | \r\n  19 | API.Fusion = Fusion\r\n  20 | API.Onyx = Onyx\r\n  21 | API.Theme = Theme\r\n  22 | API.Motion = Motion\r\n  23 | API.MotionPresets = MotionPresets\r\n  24 | API.Assets = Assets\r\n  25 | API.Util = Util\r\n  26 | API.SafeLoader = SafeLoader\r\n  27 | API.Themer = Onyx.Themer\r\n  28 | \r\n  29 | function API.New(scope, class) return Fusion.New(scope, class) end\r\n  30 | \r\n  31 | local Components = {\r\n  32 |     AsyncButton = Loader.UI.Foundation.Components.AsyncButton(API),\r\n  33 |     SmartText = Loader.UI.Foundation.Components.SmartText(API),\r\n  34 |     SmartWindow = Loader.UI.Foundation.Components.SmartWindow(API),\r\n  35 |     GridContainer = Loader.UI.Foundation.Components.GridContainer(API),\r\n  36 |     ScreenWrapper = Loader.UI.Foundation.Components.ScreenWrapper(API),\r\n  37 |     ItemSlot = Loader.UI.Foundation.Components.ItemSlot(API)\r\n  38 | }\r\n  39 | API.Components = Components\r\n  40 | \r\n  41 | function API.NewScope()\r\n  42 |     return Fusion.scoped(Fusion, Util, Components)\r\n  43 | end\r\n  44 | \r\n  45 | return table.freeze(API)\r\n  46 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Assets.luau</strong> (15 lines, 433 Bytes)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Assets`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Asset: Icon Registry (Updated)\r\n   3 | return table.freeze({\r\n   4 |     Icons = {\r\n   5 |         -- [FIX] Ganti ID Close ke yang lebih modern/HD (Lucide Style X)\r\n   6 |         Close = \"rbxassetid://11293981586\", \r\n   7 |         Loading = \"rbxassetid://16960657067\", \r\n   8 |     },\r\n   9 |     Placeholders = {\r\n  10 |         Sword = \"rbxassetid://13006407439\", \r\n  11 |         Potion = \"rbxassetid://12905487363\",\r\n  12 |         Generic = \"rbxassetid://12663335633\" \r\n  13 |     }\r\n  14 | })\r\n  15 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Motion.luau</strong> (32 lines, 895 Bytes)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Motion`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Foundation: Motion (Scope Safe)\r\n   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)\r\n   4 | local Fusion = Loader.Pkg(\"Fusion\")\r\n   5 | \r\n   6 | local Motion = {}\r\n   7 | \r\n   8 | -- Fusion 0.3 Spring\r\n   9 | local SPEED_BASE = 25\r\n  10 | local DAMP_BASE = 1\r\n  11 | local SPEED_BOUNCY = 30\r\n  12 | local DAMP_BOUNCY = 0.6\r\n  13 | \r\n  14 | function Motion.Spring(scope, targetValue)\r\n  15 |     return Fusion.Spring(scope, targetValue, SPEED_BASE, DAMP_BASE)\r\n  16 | end\r\n  17 | \r\n  18 | function Motion.Bouncy(scope, targetValue)\r\n  19 |     return Fusion.Spring(scope, targetValue, SPEED_BOUNCY, DAMP_BOUNCY)\r\n  20 | end\r\n  21 | \r\n  22 | -- [FIXED] Hover Scale Logic without Scope Leak\r\n  23 | function Motion.HoverScale(scope, isHoveredState)\r\n  24 |     -- Kita buat spring terpisah yang mengikuti boolean\r\n  25 |     local target = Fusion.Computed(scope, function(use)\r\n  26 |         return use(isHoveredState) and 1.05 or 1\r\n  27 |     end)\r\n  28 |     return Fusion.Spring(scope, target, SPEED_BASE, DAMP_BASE)\r\n  29 | end\r\n  30 | \r\n  31 | return Motion\r\n  32 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/MotionPresets.luau</strong> (104 lines, 3.66 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.MotionPresets`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Foundation: MotionPresets v2.0 (Directional)\r\n   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)\r\n   4 | local Fusion = Loader.Pkg(\"Fusion\")\r\n   5 | local Motion = Loader.UI.Foundation.Motion\r\n   6 | \r\n   7 | local Presets = {}\r\n   8 | \r\n   9 | -- [HELPER]\r\n  10 | local function bind(scope, state, valTrue, valFalse, motionType)\r\n  11 |     local target = Fusion.Computed(scope, function(use)\r\n  12 |         return use(state) and valTrue or valFalse\r\n  13 |     end)\r\n  14 |     return motionType(scope, target)\r\n  15 | end\r\n  16 | \r\n  17 | -- ==========================================\r\n  18 | -- 1. BASIC ANIMATIONS\r\n  19 | -- ==========================================\r\n  20 | \r\n  21 | -- POP UP (Zoom In + Fade)\r\n  22 | function Presets.PopUp(scope, isVisible)\r\n  23 |     return {\r\n  24 |         Scale = bind(scope, isVisible, 1, 0.8, Motion.Bouncy),\r\n  25 |         Transparency = bind(scope, isVisible, 0, 1, Motion.Spring),\r\n  26 |         Position = UDim2.fromScale(0.5, 0.5),\r\n  27 |         AnchorPoint = Vector2.new(0.5, 0.5)\r\n  28 |     }\r\n  29 | end\r\n  30 | \r\n  31 | -- FADE (Alpha Only)\r\n  32 | function Presets.Fade(scope, isVisible)\r\n  33 |     return {\r\n  34 |         Scale = 1,\r\n  35 |         Transparency = bind(scope, isVisible, 0, 1, Motion.Spring),\r\n  36 |         Position = UDim2.fromScale(0.5, 0.5),\r\n  37 |         AnchorPoint = Vector2.new(0.5, 0.5)\r\n  38 |     }\r\n  39 | end\r\n  40 | \r\n  41 | -- ==========================================\r\n  42 | -- 2. DIRECTIONAL SLIDES (OFF-SCREEN ENTRY)\r\n  43 | -- ==========================================\r\n  44 | \r\n  45 | -- SLIDE FROM BOTTOM (Naik ke atas)\r\n  46 | -- Cocok untuk: Inventory, Shop, Mobile Cards\r\n  47 | function Presets.SlideFromBottom(scope, isVisible)\r\n  48 |     return {\r\n  49 |         Scale = 1,\r\n  50 |         Transparency = bind(scope, isVisible, 0, 1, Motion.Spring),\r\n  51 |         -- Visible: Tengah (0.5, 0.5). Hidden: Bawah Layar (0.5, 1.5)\r\n  52 |         Position = bind(scope, isVisible, UDim2.fromScale(0.5, 0.5), UDim2.fromScale(0.5, 1.5), Motion.Bouncy),\r\n  53 |         AnchorPoint = Vector2.new(0.5, 0.5)\r\n  54 |     }\r\n  55 | end\r\n  56 | \r\n  57 | -- SLIDE FROM TOP (Turun ke bawah)\r\n  58 | -- Cocok untuk: Settings, Notifications\r\n  59 | function Presets.SlideFromTop(scope, isVisible)\r\n  60 |     return {\r\n  61 |         Scale = 1,\r\n  62 |         Transparency = bind(scope, isVisible, 0, 1, Motion.Spring),\r\n  63 |         -- Visible: Tengah. Hidden: Atas Layar (0.5, -0.5)\r\n  64 |         Position = bind(scope, isVisible, UDim2.fromScale(0.5, 0.5), UDim2.fromScale(0.5, -0.5), Motion.Bouncy),\r\n  65 |         AnchorPoint = Vector2.new(0.5, 0.5)\r\n  66 |     }\r\n  67 | end\r\n  68 | \r\n  69 | -- SLIDE FROM LEFT (Masuk dari kiri)\r\n  70 | -- Cocok untuk: Sidebar Menu, Navigation\r\n  71 | function Presets.SlideFromLeft(scope, isVisible)\r\n  72 |     return {\r\n  73 |         Scale = 1,\r\n  74 |         Transparency = bind(scope, isVisible, 0, 1, Motion.Spring), -- Optional: set 0 kalau mau solid terus\r\n  75 |         -- Visible: Kiri Tengah (Atur posisi sesuai kebutuhan, misal Sidebar biasanya nempel kiri)\r\n  76 |         -- Disini kita buat ke tengah layar dulu biar konsisten sama SmartWindow\r\n  77 |         Position = bind(scope, isVisible, UDim2.fromScale(0.5, 0.5), UDim2.fromScale(-0.5, 0.5), Motion.Bouncy),\r\n  78 |         AnchorPoint = Vector2.new(0.5, 0.5)\r\n  79 |     }\r\n  80 | end\r\n  81 | \r\n  82 | -- SLIDE FROM RIGHT (Masuk dari kanan)\r\n  83 | -- Cocok untuk: Details Panel, Inspect\r\n  84 | function Presets.SlideFromRight(scope, isVisible)\r\n  85 |     return {\r\n  86 |         Scale = 1,\r\n  87 |         Transparency = bind(scope, isVisible, 0, 1, Motion.Spring),\r\n  88 |         -- Hidden: Kanan Layar (1.5)\r\n  89 |         Position = bind(scope, isVisible, UDim2.fromScale(0.5, 0.5), UDim2.fromScale(1.5, 0.5), Motion.Bouncy),\r\n  90 |         AnchorPoint = Vector2.new(0.5, 0.5)\r\n  91 |     }\r\n  92 | end\r\n  93 | \r\n  94 | -- ==========================================\r\n  95 | -- 3. ALIASES (Shortcuts)\r\n  96 | -- ==========================================\r\n  97 | Presets.Slide = Presets.SlideFromBottom -- Default \"Slide\" = Bottom\r\n  98 | Presets.SlideBottom = Presets.SlideFromBottom\r\n  99 | Presets.SlideTop = Presets.SlideFromTop\r\n 100 | Presets.SlideLeft = Presets.SlideFromLeft\r\n 101 | Presets.SlideRight = Presets.SlideFromRight\r\n 102 | \r\n 103 | return table.freeze(Presets)\r\n 104 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/OVHLTheme.luau</strong> (53 lines, 1.61 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.OVHLTheme`\n\n```lua\n   1 | --!strict\r\n   2 | -- @UI: OVHLTheme (Enterprise Design Tokens)\r\n   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)\r\n   4 | local Fusion = Loader.Pkg(\"Fusion\")\r\n   5 | local Onyx = Loader.Pkg(\"onyx-ui\")\r\n   6 | local Util = Loader.UI.Foundation.Util\r\n   7 | \r\n   8 | local Scope = Fusion.scoped(Fusion)\r\n   9 | \r\n  10 | -- Palet Warna (Zinc & Emerald)\r\n  11 | local P = {\r\n  12 |     Zinc950 = Color3.fromHex(\"09090b\"), -- Background Gelap\r\n  13 |     Zinc900 = Color3.fromHex(\"18181b\"), -- Card Background\r\n  14 |     Zinc800 = Color3.fromHex(\"27272a\"), -- Border/Stroke\r\n  15 |     Zinc400 = Color3.fromHex(\"a1a1aa\"), -- Text Muted\r\n  16 |     White   = Color3.fromHex(\"ffffff\"), -- Text Main\r\n  17 |     \r\n  18 |     Emerald500 = Color3.fromHex(\"10b981\"), -- Primary Action\r\n  19 |     Red500     = Color3.fromHex(\"ef4444\"), -- Destructive\r\n  20 | }\r\n  21 | \r\n  22 | local OVHLTheme = Onyx.Themer.NewTheme(Scope, {\r\n  23 |     Colors = {\r\n  24 |         Base        = { Main = P.Zinc900, Alt = P.Zinc950 },\r\n  25 |         BaseContent = { Main = P.White, Muted = P.Zinc400 },\r\n  26 |         Primary     = { Main = P.Emerald500 },\r\n  27 |         Neutral     = { Main = P.Zinc800 },\r\n  28 |         Error       = { Main = P.Red500 },\r\n  29 |     },\r\n  30 |     CornerRadius = {\r\n  31 |         Small  = 4,\r\n  32 |         Base   = 8,\r\n  33 |         Large  = 12\r\n  34 |     },\r\n  35 |     StrokeThickness = {\r\n  36 |         Base = 1,\r\n  37 |         Focus = 2\r\n  38 |     },\r\n  39 |     -- [NEW] Spacing Tokens (Single Source of Truth)\r\n  40 |     Spacing = {\r\n  41 |         Small  = 4,\r\n  42 |         Medium = 8,\r\n  43 |         Large  = 12,\r\n  44 |         XLarge = 16\r\n  45 |     },\r\n  46 |     Font = {\r\n  47 |         Body    = Util.ToFont(\"rbxasset://fonts/families/GothamSSm.json\", Enum.FontWeight.Medium),\r\n  48 |         Heading = Util.ToFont(\"rbxasset://fonts/families/GothamSSm.json\", Enum.FontWeight.Bold)\r\n  49 |     }\r\n  50 | })\r\n  51 | \r\n  52 | return OVHLTheme\r\n  53 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/SafeLoader.luau</strong> (48 lines, 1.47 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.SafeLoader`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Foundation: SafeLoader (With Telemetry)\r\n   3 | local RS = game:GetService(\"ReplicatedStorage\")\r\n   4 | local Loader = require(RS.OVHL.Core.Loader)\r\n   5 | local Fusion = Loader.Pkg(\"Fusion\")\r\n   6 | local SmartLogger = Loader.Core(\"SmartLogger\")\r\n   7 | \r\n   8 | local SafeLoader = {}\r\n   9 | local Logger = SmartLogger.New(\"USER_INTERFACE\")\r\n  10 | \r\n  11 | function SafeLoader.Mount(scope, componentFunc, props)\r\n  12 |     local viewName = \"UnknownView\"\r\n  13 |     if props.Config and props.Config.Meta then\r\n  14 |         viewName = props.Config.Meta.Name .. \"View\"\r\n  15 |     end\r\n  16 | \r\n  17 |     local success, result = xpcall(function()\r\n  18 |         return componentFunc(scope, props)\r\n  19 |     end, debug.traceback)\r\n  20 | \r\n  21 |     if success then\r\n  22 |         Logger:Info(\"MountSuccess\", { -- Pakai Info agar pasti muncul\r\n  23 |             View = viewName,\r\n  24 |             Screen = props.Name or \"Screen\"\r\n  25 |         })\r\n  26 |         return result\r\n  27 |     else\r\n  28 |         Logger:Error(\"MountFailed\", { View = viewName, Error = result })\r\n  29 |         \r\n  30 |         return scope:New \"Frame\" {\r\n  31 |             Name = \"ErrorBoundary\",\r\n  32 |             Size = UDim2.fromScale(1, 1),\r\n  33 |             BackgroundColor3 = Color3.fromRGB(40, 0, 0),\r\n  34 |             ZIndex = 9999,\r\n  35 |             [Fusion.Children] = {\r\n  36 |                 scope:New \"TextLabel\" {\r\n  37 |                     Text = \"UI ERROR: \" .. tostring(result),\r\n  38 |                     TextColor3 = Color3.new(1,0.5,0.5),\r\n  39 |                     Size = UDim2.fromScale(1,1),\r\n  40 |                     BackgroundTransparency = 0.5\r\n  41 |                 }\r\n  42 |             }\r\n  43 |         }\r\n  44 |     end\r\n  45 | end\r\n  46 | \r\n  47 | return SafeLoader\r\n  48 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Theme.luau</strong> (2 lines, 44 Bytes)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Theme`\n\n```lua\n   1 | --!strict\r\n   2 | -- Deprecated. Use OVHLTheme.luau\n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Util.luau</strong> (39 lines, 1.32 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Util`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Foundation: UI Utilities\r\n   3 | -- @Responsibility: Data Conversion & Asset Normalization\r\n   4 | local Util = {}\r\n   5 | \r\n   6 | -- [[ FONT CONVERTER ]]\r\n   7 | -- Mengubah string config menjadi Font Object yang valid\r\n   8 | function Util.ToFont(fontSource, weight, style)\r\n   9 |     if typeof(fontSource) == \"Font\" then\r\n  10 |         return fontSource\r\n  11 |     elseif type(fontSource) == \"string\" then\r\n  12 |         -- Default fallback args\r\n  13 |         local w = weight or Enum.FontWeight.Regular\r\n  14 |         local s = style or Enum.FontStyle.Normal\r\n  15 |         \r\n  16 |         -- Cek apakah ini Enum.Font legacy (jarang dipakai di framework modern) atau Asset ID\r\n  17 |         if fontSource:match(\"^rbxasset\") then\r\n  18 |             return Font.new(fontSource, w, s)\r\n  19 |         else\r\n  20 |             -- Fallback jika string nama font biasa (Gotham, etc) - though Font.new usually takes ID\r\n  21 |             return Font.new(\"rbxasset://fonts/families/GothamSSm.json\", w, s)\r\n  22 |         end\r\n  23 |     end\r\n  24 |     -- Fallback total\r\n  25 |     return Font.new(\"rbxasset://fonts/families/GothamSSm.json\")\r\n  26 | end\r\n  27 | \r\n  28 | -- [[ ASSET ID CLEANER ]]\r\n  29 | -- Memastikan ID selalu format \"rbxassetid://...\"\r\n  30 | function Util.CleanAssetId(id)\r\n  31 |     if not id then return \"\" end\r\n  32 |     local str = tostring(id)\r\n  33 |     if str:match(\"^rbxasset\") then return str end\r\n  34 |     if str:match(\"^%d+$\") then return \"rbxassetid://\" .. str end\r\n  35 |     return str\r\n  36 | end\r\n  37 | \r\n  38 | return table.freeze(Util)\r\n  39 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Views/Shop/ShopView.luau</strong> (44 lines, 1.55 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Views.Shop.ShopView`\n\n```lua\n   1 | --!strict\r\n   2 | -- @View: ShopView\r\n   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)\r\n   4 | local UI = Loader.UI.Foundation.API\r\n   5 | local Children = UI.Children\r\n   6 | \r\n   7 | return function(scope, props)\r\n   8 |     local Config = props.Config\r\n   9 |     local State = props.State\r\n  10 |     \r\n  11 |     return scope:ScreenWrapper {\r\n  12 |         Name = \"ShopScreen\",\r\n  13 |         Enabled = true,\r\n  14 |         Order = 15,\r\n  15 |         \r\n  16 |         [Children] = {\r\n  17 |             scope:SmartWindow {\r\n  18 |                 Title = Config.UI.Title,\r\n  19 |                 Size = UDim2.fromOffset(600, 450),\r\n  20 |                 OnClose = props.OnClose,\r\n  21 |                 Visible = State.Visible,\r\n  22 |                 Transition = Config.UI.Transition or \"PopUp\",\r\n  23 |                 \r\n  24 |                 [Children] = {\r\n  25 |                     scope:GridContainer {\r\n  26 |                         CellSize = Config.Layout.Grid.CellSize,\r\n  27 |                         Gap = Config.Layout.Grid.Gap,\r\n  28 |                         [Children] = {\r\n  29 |                             UI.ForValues(scope, State.Items, function(use, innerScope, item)\r\n  30 |                                 local displayItem = table.clone(item)\r\n  31 |                                 displayItem.Name = item.Name .. \" ($\" .. item.Price .. \")\"\r\n  32 |                                 displayItem.Count = \"INF\"\r\n  33 |                                 return innerScope:ItemSlot {\r\n  34 |                                     Item = displayItem, Config = Config, OnAction = props.OnAction\r\n  35 |                                 }\r\n  36 |                             end)\r\n  37 |                         }\r\n  38 |                     }\r\n  39 |                 }\r\n  40 |             }\r\n  41 |         }\r\n  42 |     }\r\n  43 | end\r\n  44 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Views/System/FrameworkPanelView.luau</strong> (83 lines, 4.28 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Views.System.FrameworkPanelView`\n\n```lua\n   1 | --!strict\r\n   2 | -- @View: FrameworkPanelView (Cleaned - No More Inspector Popup)\r\n   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)\r\n   4 | local UI = Loader.UI.Foundation.API\r\n   5 | local Children = UI.Children\r\n   6 | \r\n   7 | local PermissionPage = Loader.UI(\"Views/System/Pages/PermissionPage\")\r\n   8 | local ConfirmationDialog = Loader.UI(\"Views/System/Components/ConfirmationDialog\")\r\n   9 | \r\n  10 | return function(scope, props)\r\n  11 |     local State = props.State\r\n  12 |     local Actions = props.Actions\r\n  13 |     local Config = props.Config\r\n  14 |     local UIConfig = Config.UI\r\n  15 |     local MenuList = Config.Menus\r\n  16 | \r\n  17 |     local MainContent = UI.Computed(scope, function(use)\r\n  18 |         local tab = use(State.CurrentTab)\r\n  19 |         if tab == \"Permission\" then return PermissionPage(scope, { State = State, Actions = Actions })\r\n  20 |         elseif tab == \"Dashboard\" then return scope:SmartText { Text = \"Welcome to \" .. UIConfig.Title, Align = Enum.TextXAlignment.Center }\r\n  21 |         else return scope:SmartText { Text = \"Feature Coming Soon: \" .. tab, Align = Enum.TextXAlignment.Center } end\r\n  22 |     end)\r\n  23 | \r\n  24 |     -- Confirmation tetap Popup (Layer paling atas) karena dia Global Alert\r\n  25 |     local ConfirmationLayer = UI.Computed(scope, function(use)\r\n  26 |         local confirmData = use(State.Confirmation)\r\n  27 |         if confirmData then\r\n  28 |             return ConfirmationDialog(scope, { Data = confirmData, OnClose = Actions.ResolveConfirmation })\r\n  29 |         end\r\n  30 |         return scope:New \"Frame\" { Visible = false }\r\n  31 |     end)\r\n  32 | \r\n  33 |     return scope:ScreenWrapper {\r\n  34 |         Name = \"FrameworkPanel\",\r\n  35 |         Enabled = true,\r\n  36 |         Order = 100,\r\n  37 |         \r\n  38 |         [Children] = {\r\n  39 |             scope:SmartWindow {\r\n  40 |                 Title = UIConfig.Title,\r\n  41 |                 Size = UDim2.fromOffset(UIConfig.Size.X, UIConfig.Size.Y),\r\n  42 |                 OnClose = props.OnClose,\r\n  43 |                 Visible = State.Visible,\r\n  44 |                 Transition = UIConfig.Transition,\r\n  45 |                 \r\n  46 |                 [Children] = {\r\n  47 |                     scope:New \"Frame\" {\r\n  48 |                         Name = \"MainLayout\",\r\n  49 |                         Size = UDim2.fromScale(1, 1),\r\n  50 |                         BackgroundTransparency = 1,\r\n  51 |                         [Children] = {\r\n  52 |                             scope:New \"UIListLayout\" { FillDirection = Enum.FillDirection.Horizontal, Padding = UDim.new(0, 0), SortOrder = Enum.SortOrder.LayoutOrder },\r\n  53 |                             \r\n  54 |                             -- Sidebar\r\n  55 |                             scope:New \"Frame\" {\r\n  56 |                                 Name = \"Sidebar\", Size = UDim2.new(0, UIConfig.SidebarWidth, 1, 0), BackgroundColor3 = Color3.fromHex(\"09090b\"), BorderSizePixel = 0, LayoutOrder = 1, ZIndex = 2,\r\n  57 |                                 [Children] = {\r\n  58 |                                     scope:New \"UIPadding\" { PaddingTop = UDim.new(0, 16), PaddingBottom = UDim.new(0, 16), PaddingLeft = UDim.new(0, 12), PaddingRight = UDim.new(0, 12) },\r\n  59 |                                     scope:New \"UIListLayout\" { Padding = UDim.new(0, 8), SortOrder = Enum.SortOrder.LayoutOrder },\r\n  60 |                                     UI.ForValues(scope, MenuList, function(use, innerScope, item)\r\n  61 |                                         local isActive = use(State.CurrentTab) == item.Id\r\n  62 |                                         return innerScope:AsyncButton { Text = item.Label, Size = UDim2.new(1, 0, 0, 40), Style = isActive and \"Filled\" or \"Ghost\", LayoutOrder = item.Order, OnClick = function() State.CurrentTab:set(item.Id) end }\r\n  63 |                                     end)\r\n  64 |                                 }\r\n  65 |                             },\r\n  66 |                             \r\n  67 |                             -- Content\r\n  68 |                             scope:New \"Frame\" {\r\n  69 |                                 Name = \"Content\", Size = UDim2.new(1, -UIConfig.SidebarWidth, 1, 0), BackgroundTransparency = 1, LayoutOrder = 2, ClipsDescendants = true,\r\n  70 |                                 [Children] = {\r\n  71 |                                     scope:New \"UIPadding\" { PaddingTop = UDim.new(0, 24), PaddingBottom = UDim.new(0, 24), PaddingLeft = UDim.new(0, 24), PaddingRight = UDim.new(0, 24) },\r\n  72 |                                     MainContent\r\n  73 |                                 }\r\n  74 |                             }\r\n  75 |                         }\r\n  76 |                     }\r\n  77 |                 }\r\n  78 |             },\r\n  79 |             ConfirmationLayer -- Layer 2 (Alert Only)\r\n  80 |         }\r\n  81 |     }\r\n  82 | end\r\n  83 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Views/Inventory/InventoryView.luau</strong> (58 lines, 2.19 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Views.Inventory.InventoryView`\n\n```lua\n   1 | --!strict\r\n   2 | -- @View: InventoryView (Wired Correctly)\r\n   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)\r\n   4 | local UI = Loader.UI.Foundation.API\r\n   5 | local Children = UI.Children\r\n   6 | \r\n   7 | return function(scope, props)\r\n   8 |     local Config = props.Config\r\n   9 |     local State = props.State\r\n  10 |     \r\n  11 |     return scope:ScreenWrapper {\r\n  12 |         Name = \"InventoryScreen\",\r\n  13 |         Enabled = true,\r\n  14 |         Order = 10,\r\n  15 |         \r\n  16 |         [Children] = {\r\n  17 |             scope:SmartWindow {\r\n  18 |                 Title = Config.UI.Title,\r\n  19 |                 Size = UDim2.fromOffset(650, 500),\r\n  20 |                 OnClose = props.OnClose,\r\n  21 |                 Visible = State.Visible,\r\n  22 |                 Transition = Config.UI.Transition or \"PopUp\",\r\n  23 |                 \r\n  24 |                 [Children] = {\r\n  25 |                     scope:GridContainer {\r\n  26 |                         CellSize = Config.Layout.Grid.CellSize, \r\n  27 |                         Gap = Config.Layout.Grid.Gap,\r\n  28 |                         \r\n  29 |                         [Children] = {\r\n  30 |                             UI.ForValues(scope, State.Items, function(use, innerScope, item)\r\n  31 |                                 return innerScope:ItemSlot {\r\n  32 |                                     Item = item,\r\n  33 |                                     Config = Config,\r\n  34 |                                     \r\n  35 |                                     -- [FIXED] Jalur komunikasi disambung kembali\r\n  36 |                                     OnAction = props.OnAction\r\n  37 |                                 }\r\n  38 |                             end),\r\n  39 |                             \r\n  40 |                             UI.Computed(scope, function(use)\r\n  41 |                                 if #use(State.Items) == 0 then\r\n  42 |                                     return scope:SmartText {\r\n  43 |                                         Variant = \"Body\",\r\n  44 |                                         Text = Config.UI.EmptyState,\r\n  45 |                                         Size = 16,\r\n  46 |                                         Align = Enum.TextXAlignment.Center\r\n  47 |                                     }\r\n  48 |                                 end\r\n  49 |                                 return nil\r\n  50 |                             end)\r\n  51 |                         }\r\n  52 |                     }\r\n  53 |                 }\r\n  54 |             }\r\n  55 |         }\r\n  56 |     }\r\n  57 | end\r\n  58 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Bridges/Topbar.lua</strong> (81 lines, 2.4 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Bridges.Topbar`\n\n```lua\n   1 | -- @Bridge: TopbarPlus (With Security Check)\n   2 | local RS = game:GetService(\"ReplicatedStorage\")\n   3 | local Players = game:GetService(\"Players\")\n   4 | local Loader = require(RS.OVHL.Core.Loader)\n   5 | local SmartLogger = Loader.Core(\"SmartLogger\")\n   6 | \n   7 | local TopbarPlus = Loader.Pkg(\"topbarplus\")\n   8 | local Fusion = Loader.Pkg(\"Fusion\")\n   9 | local API = Loader.UI(\"Foundation/API\")\n  10 | \n  11 | local TopbarBridge = {}\n  12 | local _initialized = false\n  13 | local Logger = nil \n  14 | \n  15 | function TopbarBridge.Init()\n  16 |     if _initialized then return end\n  17 |     _initialized = true\n  18 |     Logger = SmartLogger.New(\"TOPBAR\")\n  19 |     \n  20 |     local Theme = API.Theme\n  21 |     local peek = Fusion.peek\n  22 |     local C = Theme.Colors\n  23 |     \n  24 |     TopbarPlus.setDisplayOrder(10000)\n  25 |     TopbarPlus.modifyBaseTheme({\n  26 |         {\"IconBackgroundColor\", peek(C.Base.Main)},\n  27 |         {\"IconBorderColor\", peek(C.Neutral.Main)},\n  28 |         {\"IconImageColor\", peek(C.BaseContent.Main)},\n  29 |         {\"IconLabelColor\", peek(C.BaseContent.Main)},\n  30 |         {\"WidgetBackgroundColor\", peek(C.Base.Main)},\n  31 |         {\"WidgetBorderColor\", peek(C.Neutral.Main)},\n  32 |         {\"IconCornerRadius\", UDim.new(0, 8)},\n  33 |     })\n  34 |     \n  35 |     Logger:Info(\"System\", \"Bridge Initialized\")\n  36 | end\n  37 | \n  38 | function TopbarBridge.Register(name, config, toggleFunc)\n  39 |     TopbarBridge.Init()\n  40 |     \n  41 |     if not config or not config.Enabled then return nil end\n  42 |     \n  43 |     -- [SECURITY CHECK] The Gatekeeper\n  44 |     if config.Permission then\n  45 |         local myRank = Players.LocalPlayer:GetAttribute(\"OVHL_Rank\") or 0\n  46 |         if myRank < config.Permission then\n  47 |             Logger:Debug(\"Hidden\", { \n  48 |                 Module = name, \n  49 |                 Reason = \"Low Rank\", \n  50 |                 Req = config.Permission, \n  51 |                 Got = myRank \n  52 |             })\n  53 |             return nil -- Jangan bikin icon sama sekali!\n  54 |         end\n  55 |     end\n  56 |     \n  57 |     Logger:Info(\"Register\", { Name = name, Perm = config.Permission or 0 })\n  58 |     \n  59 |     local icon = TopbarPlus.new()\n  60 |         :setLabel(config.Text or name)\n  61 |         :setImage(config.Icon)\n  62 |         :setOrder(config.Order or 10)\n  63 |         \n  64 |     if config.Caption then icon:setCaption(config.Caption) end\n  65 |     if config.Shortcut then icon:bindToggleKey(config.Shortcut) end\n  66 |     \n  67 |     icon.selected:Connect(function() \n  68 |         Logger:Debug(\"Interaction\", {Action=\"Open\", Module=name})\n  69 |         toggleFunc(true) \n  70 |     end)\n  71 |     \n  72 |     icon.deselected:Connect(function() \n  73 |         Logger:Debug(\"Interaction\", {Action=\"Close\", Module=name})\n  74 |         toggleFunc(false) \n  75 |     end)\n  76 |     \n  77 |     return icon\n  78 | end\n  79 | \n  80 | return TopbarBridge\n  81 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Views/System/Components/ConfirmationDialog.luau</strong> (124 lines, 5.34 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Views.System.Components.ConfirmationDialog`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Component: Global Confirmation Dialog\r\n   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)\r\n   4 | local UI = Loader.UI.Foundation.API\r\n   5 | local Children = UI.Children\r\n   6 | \r\n   7 | return function(scope, props)\r\n   8 |     local Data = props.Data -- { Title, Message, OnConfirm, OnCancel }\r\n   9 |     \r\n  10 |     -- Animasi Timer Bar (5 Detik berkurang)\r\n  11 |     local TimeLeft = scope:Value(1) -- 1 = Penuh, 0 = Habis\r\n  12 |     local Tween = UI.Fusion.Tween(scope, TimeLeft, \r\n  13 |         TweenInfo.new(5, Enum.EasingStyle.Linear)\r\n  14 |     )\r\n  15 |     \r\n  16 |     -- Start Timer pas mount\r\n  17 |     TimeLeft:set(0) \r\n  18 | \r\n  19 |     return scope:New \"Frame\" {\r\n  20 |         Name = \"ConfirmationOverlay\",\r\n  21 |         Size = UDim2.fromScale(1, 1),\r\n  22 |         BackgroundColor3 = Color3.new(0, 0, 0),\r\n  23 |         BackgroundTransparency = 0.6, -- Dimmed Background\r\n  24 |         ZIndex = 1000, -- Paling Atas\r\n  25 |         \r\n  26 |         [Children] = {\r\n  27 |             -- Modal Window\r\n  28 |             scope:New \"Frame\" {\r\n  29 |                 AnchorPoint = Vector2.new(0.5, 0.5),\r\n  30 |                 Position = UDim2.fromScale(0.5, 0.5),\r\n  31 |                 Size = UDim2.fromOffset(400, 220),\r\n  32 |                 BackgroundColor3 = UI.Theme.Colors.Base.Main,\r\n  33 |                 \r\n  34 |                 [Children] = {\r\n  35 |                     scope:New \"UICorner\" { CornerRadius = UDim.new(0, 12) },\r\n  36 |                     scope:New \"UIStroke\" { Color = UI.Theme.Colors.Error.Main, Thickness = 2 }, -- Merah biar kerasa penting\r\n  37 |                     scope:New \"UIPadding\" { PaddingTop=UDim.new(0,20), PaddingBottom=UDim.new(0,20), PaddingLeft=UDim.new(0,24), PaddingRight=UDim.new(0,24) },\r\n  38 |                     \r\n  39 |                     scope:New \"UIListLayout\" {\r\n  40 |                         SortOrder = Enum.SortOrder.LayoutOrder,\r\n  41 |                         HorizontalAlignment = Enum.HorizontalAlignment.Center,\r\n  42 |                         Padding = UDim.new(0, 12)\r\n  43 |                     },\r\n  44 |                     \r\n  45 |                     -- Header\r\n  46 |                     scope:SmartText { \r\n  47 |                         Text = Data.Title or \"CONFIRMATION\", \r\n  48 |                         Variant = \"Header\", \r\n  49 |                         Size = 20, \r\n  50 |                         Color = \"Error\",\r\n  51 |                         LayoutOrder = 1\r\n  52 |                     },\r\n  53 |                     \r\n  54 |                     -- Message Body\r\n  55 |                     scope:SmartText { \r\n  56 |                         Text = Data.Message or \"Are you sure?\", \r\n  57 |                         Variant = \"Body\", \r\n  58 |                         Size = 16, \r\n  59 |                         Align = Enum.TextXAlignment.Center,\r\n  60 |                         LayoutOrder = 2,\r\n  61 |                         Color = \"BaseContent\"\r\n  62 |                     },\r\n  63 |                     \r\n  64 |                     -- Spacer\r\n  65 |                     scope:New \"Frame\" { Size = UDim2.new(1,0,0,20), BackgroundTransparency = 1, LayoutOrder = 3 },\r\n  66 |                     \r\n  67 |                     -- Action Buttons\r\n  68 |                     scope:New \"Frame\" {\r\n  69 |                         Size = UDim2.new(1, 0, 0, 40),\r\n  70 |                         BackgroundTransparency = 1,\r\n  71 |                         LayoutOrder = 4,\r\n  72 |                         [Children] = {\r\n  73 |                             scope:New \"UIListLayout\" { \r\n  74 |                                 FillDirection = Enum.FillDirection.Horizontal, \r\n  75 |                                 HorizontalAlignment = Enum.HorizontalAlignment.Center,\r\n  76 |                                 Padding = UDim.new(0, 16)\r\n  77 |                             },\r\n  78 |                             \r\n  79 |                             -- Cancel\r\n  80 |                             scope:AsyncButton {\r\n  81 |                                 Text = \"CANCEL\",\r\n  82 |                                 Size = UDim2.fromOffset(120, 40),\r\n  83 |                                 Style = \"Ghost\",\r\n  84 |                                 OnClick = function()\r\n  85 |                                     if props.OnClose then props.OnClose(false) end\r\n  86 |                                 end\r\n  87 |                             },\r\n  88 |                             \r\n  89 |                             -- Confirm\r\n  90 |                             scope:AsyncButton {\r\n  91 |                                 Text = \"CONFIRM\",\r\n  92 |                                 Size = UDim2.fromOffset(120, 40),\r\n  93 |                                 Style = \"Filled\",\r\n  94 |                                 Color = UI.Theme.Colors.Error.Main, -- Merah\r\n  95 |                                 OnClick = function()\r\n  96 |                                     if props.OnClose then props.OnClose(true) end\r\n  97 |                                 end\r\n  98 |                             }\r\n  99 |                         }\r\n 100 |                     },\r\n 101 |                     \r\n 102 |                     -- Timer Bar (Visual)\r\n 103 |                     scope:New \"Frame\" {\r\n 104 |                         Name = \"TimerContainer\",\r\n 105 |                         Size = UDim2.new(1, 0, 0, 4),\r\n 106 |                         Position = UDim2.new(0, 0, 1, -2), -- Nempel bawah\r\n 107 |                         AnchorPoint = Vector2.new(0, 1),\r\n 108 |                         BackgroundTransparency = 1,\r\n 109 |                         LayoutOrder = 5, -- Paling bawah urutan\r\n 110 |                         [Children] = {\r\n 111 |                             scope:New \"Frame\" {\r\n 112 |                                 BackgroundColor3 = UI.Theme.Colors.Error.Main,\r\n 113 |                                 Size = UI.Computed(scope, function(use)\r\n 114 |                                     return UDim2.fromScale(use(Tween), 1)\r\n 115 |                                 end)\r\n 116 |                             }\r\n 117 |                         }\r\n 118 |                     }\r\n 119 |                 }\r\n 120 |             }\r\n 121 |         }\r\n 122 |     }\r\n 123 | end\r\n 124 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Views/System/Components/PlayerInspector.luau</strong> (140 lines, 7.61 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Views.System.Components.PlayerInspector`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Component: Player Inspector Deck (Fixed: Solid Interaction & Dark Theme)\r\n   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)\r\n   4 | local UI = Loader.UI.Foundation.API\r\n   5 | local Children = UI.Children\r\n   6 | local Fusion = UI.Fusion\r\n   7 | \r\n   8 | return function(scope, props)\r\n   9 |     local PlayerData = props.Player\r\n  10 |     local Actions = props.Actions\r\n  11 |     local OnClose = props.OnClose\r\n  12 |     \r\n  13 |     local RANKS = {\r\n  14 |         { Id = 0, Label = \"GUEST\", Color = \"BaseContent\" },\r\n  15 |         { Id = 1, Label = \"VIP\",   Color = \"Primary\" },\r\n  16 |         { Id = 2, Label = \"MOD\",   Color = \"Primary\" },\r\n  17 |         { Id = 3, Label = \"ADMIN\", Color = \"Primary\" },\r\n  18 |         { Id = 4, Label = \"HEAD\",  Color = \"Error\" },\r\n  19 |         { Id = 5, Label = \"OWNER\", Color = \"Error\" }\r\n  20 |     }\r\n  21 | \r\n  22 |     return scope:SmartWindow {\r\n  23 |         Title = \"INSPECT: \" .. PlayerData.Name,\r\n  24 |         Size = UDim2.fromOffset(700, 400),\r\n  25 |         OnClose = OnClose,\r\n  26 |         Transition = \"PopUp\",\r\n  27 |         \r\n  28 |         [Children] = {\r\n  29 |             -- MAIN LAYOUT\r\n  30 |             scope:New \"Frame\" {\r\n  31 |                 Size = UDim2.fromScale(1, 1),\r\n  32 |                 BackgroundTransparency = 1,\r\n  33 |                 -- [FIX 1] Active = true MENCEGAH KLIK TEMBUS KE BELAKANG\r\n  34 |                 Active = true, \r\n  35 |                 \r\n  36 |                 [Children] = {\r\n  37 |                     scope:New \"UIListLayout\" { FillDirection = Enum.FillDirection.Horizontal, Padding = UDim.new(0, 0) },\r\n  38 |                     \r\n  39 |                     -- [[ KIRI: IDENTITY (35%) ]]\r\n  40 |                     scope:New \"Frame\" {\r\n  41 |                         Name = \"IdentityCol\",\r\n  42 |                         Size = UDim2.new(0.35, 0, 1, 0),\r\n  43 |                         -- [FIX 2] Force Dark Color (Zinc950) biar gak Putih\r\n  44 |                         BackgroundColor3 = Color3.fromHex(\"09090b\"), \r\n  45 |                         BorderSizePixel = 0,\r\n  46 |                         \r\n  47 |                         [Children] = {\r\n  48 |                             scope:New \"UIPadding\" { PaddingTop=UDim.new(0,24), PaddingBottom=UDim.new(0,24), PaddingLeft=UDim.new(0,16), PaddingRight=UDim.new(0,16) },\r\n  49 |                             scope:New \"UIListLayout\" { HorizontalAlignment = Enum.HorizontalAlignment.Center, Padding = UDim.new(0, 16), SortOrder=Enum.SortOrder.LayoutOrder },\r\n  50 |                             \r\n  51 |                             -- Big Avatar\r\n  52 |                             scope:New \"ImageLabel\" {\r\n  53 |                                 LayoutOrder = 1,\r\n  54 |                                 Size = UDim2.fromOffset(120, 120),\r\n  55 |                                 BackgroundTransparency = 1,\r\n  56 |                                 Image = \"rbxthumb://type=AvatarHeadShot&id=\" .. PlayerData.UserId .. \"&w=420&h=420\",\r\n  57 |                                 [Children] = { \r\n  58 |                                     scope:New \"UICorner\" { CornerRadius = UDim.new(1, 0) },\r\n  59 |                                     scope:New \"UIStroke\" { Color = UI.Theme.Colors.BaseContent.Main, Thickness = 2, Transparency = 0.8 }\r\n  60 |                                 }\r\n  61 |                             },\r\n  62 |                             \r\n  63 |                             -- Names\r\n  64 |                             scope:New \"Frame\" {\r\n  65 |                                 LayoutOrder = 2,\r\n  66 |                                 Size = UDim2.new(1, 0, 0, 60),\r\n  67 |                                 BackgroundTransparency = 1,\r\n  68 |                                 [Children] = {\r\n  69 |                                     scope:New \"UIListLayout\" { HorizontalAlignment = Enum.HorizontalAlignment.Center, Padding = UDim.new(0, 4) },\r\n  70 |                                     scope:SmartText { Text = PlayerData.Name, Size = 20, Variant = \"Header\", Align = Enum.TextXAlignment.Center },\r\n  71 |                                     scope:SmartText { Text = \"ID: \" .. PlayerData.UserId, Size = 14, Color = \"Neutral\", Align = Enum.TextXAlignment.Center }\r\n  72 |                                 }\r\n  73 |                             },\r\n  74 |                             \r\n  75 |                             -- Current Rank Display\r\n  76 |                             scope:New \"Frame\" {\r\n  77 |                                 LayoutOrder = 3,\r\n  78 |                                 Size = UDim2.new(1, 0, 0, 80),\r\n  79 |                                 BackgroundColor3 = UI.Theme.Colors.Base.Main, -- Agak terang dikit dari background col\r\n  80 |                                 [Children] = {\r\n  81 |                                     scope:New \"UICorner\" { CornerRadius = UDim.new(0, 8) },\r\n  82 |                                     scope:New \"UIListLayout\" { VerticalAlignment = Enum.VerticalAlignment.Center, HorizontalAlignment = Enum.HorizontalAlignment.Center },\r\n  83 |                                     scope:SmartText { Text = \"CURRENT RANK\", Size = 12, Color = \"Neutral\" },\r\n  84 |                                     scope:SmartText { Text = string.upper(PlayerData.Role) .. \" [\"..PlayerData.Rank..\"]\", Size = 24, Variant = \"Header\", Color = \"Primary\" }\r\n  85 |                                 }\r\n  86 |                             }\r\n  87 |                         }\r\n  88 |                     },\r\n  89 |                     \r\n  90 |                     -- [[ KANAN: CONTROL MATRIX (65%) ]]\r\n  91 |                     scope:New \"Frame\" {\r\n  92 |                         Name = \"ControlCol\",\r\n  93 |                         Size = UDim2.new(0.65, 0, 1, 0),\r\n  94 |                         BackgroundTransparency = 1,\r\n  95 |                         \r\n  96 |                         [Children] = {\r\n  97 |                             scope:New \"UIPadding\" { PaddingTop=UDim.new(0,24), PaddingBottom=UDim.new(0,24), PaddingLeft=UDim.new(0,24), PaddingRight=UDim.new(0,24) },\r\n  98 |                             scope:New \"UIListLayout\" { Padding = UDim.new(0, 12), SortOrder = Enum.SortOrder.LayoutOrder },\r\n  99 |                             \r\n 100 |                             scope:SmartText { Text = \"SET RANK AUTHORITY\", Variant = \"Header\", Size = 16, LayoutOrder = 1 },\r\n 101 |                             \r\n 102 |                             -- GRID BUTTONS\r\n 103 |                             scope:New \"Frame\" {\r\n 104 |                                 LayoutOrder = 2,\r\n 105 |                                 Size = UDim2.new(1, 0, 0, 160),\r\n 106 |                                 BackgroundTransparency = 1,\r\n 107 |                                 \r\n 108 |                                 [Children] = {\r\n 109 |                                     scope:New \"UIGridLayout\" {\r\n 110 |                                         CellSize = UDim2.new(0.3, 0, 0, 60),\r\n 111 |                                         CellPadding = UDim2.new(0.05, 0, 0.05, 0),\r\n 112 |                                         FillDirectionMaxCells = 3\r\n 113 |                                     },\r\n 114 |                                     \r\n 115 |                                     UI.ForValues(scope, RANKS, function(use, innerScope, rank)\r\n 116 |                                         local isCurrent = rank.Id == PlayerData.Rank\r\n 117 |                                         local style = isCurrent and \"Filled\" or \"Outline\"\r\n 118 |                                         \r\n 119 |                                         return innerScope:AsyncButton {\r\n 120 |                                             Text = rank.Label .. \"\\n[\"..rank.Id..\"]\",\r\n 121 |                                             Style = style,\r\n 122 |                                             Color = isCurrent and UI.Theme.Colors.Primary.Main or nil,\r\n 123 |                                             \r\n 124 |                                             OnClick = function()\r\n 125 |                                                 if not isCurrent then\r\n 126 |                                                     Actions.RequestRankChange(PlayerData, rank.Id, rank.Label)\r\n 127 |                                                 end\r\n 128 |                                             end\r\n 129 |                                         }\r\n 130 |                                     end)\r\n 131 |                                 }\r\n 132 |                             }\r\n 133 |                         }\r\n 134 |                     }\r\n 135 |                 }\r\n 136 |             }\r\n 137 |         }\r\n 138 |     }\r\n 139 | end\r\n 140 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Views/System/Pages/PermissionPage.luau</strong> (145 lines, 12.5 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Views.System.Pages.PermissionPage`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Page: PermissionPage (Grid Layout Typo Fixed)\r\n   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)\r\n   4 | local UI = Loader.UI.Foundation.API\r\n   5 | local Children = UI.Children\r\n   6 | local Fusion = UI.Fusion\r\n   7 | \r\n   8 | local DUMMY_DATA = {\r\n   9 |     { UserId = 1, Name = \"Roblox\", Rank = 5, Role = \"God\" },\r\n  10 |     { UserId = 2, Name = \"JohnDoe\", Rank = 2, Role = \"Mod\" },\r\n  11 | }\r\n  12 | \r\n  13 | local RANKS = {\r\n  14 |     { Id = 0, Label = \"GUEST\", Color = \"BaseContent\" },\r\n  15 |     { Id = 1, Label = \"VIP\",   Color = \"Primary\" },\r\n  16 |     { Id = 2, Label = \"MOD\",   Color = \"Primary\" },\r\n  17 |     { Id = 3, Label = \"ADMIN\", Color = \"Primary\" },\r\n  18 |     { Id = 4, Label = \"HEAD\",  Color = \"Error\" },\r\n  19 |     { Id = 5, Label = \"OWNER\", Color = \"Error\" }\r\n  20 | }\r\n  21 | \r\n  22 | return function(scope, props)\r\n  23 |     local State = props.State\r\n  24 |     local Actions = props.Actions\r\n  25 |     local SearchText = scope:Value(\"\")\r\n  26 |     local C = UI.Theme.Colors\r\n  27 | \r\n  28 |     -- [[ PLAYER ROW ]]\r\n  29 |     local function PlayerRow(innerScope, player)\r\n  30 |         local badgeColor = Fusion.peek(C.BaseContent.Main)\r\n  31 |         local badgeText = \"GUEST\"\r\n  32 |         if player.Rank >= 5 then badgeColor = Fusion.peek(C.Error.Main); badgeText = \"OWNER\"\r\n  33 |         elseif player.Rank >= 3 then badgeColor = Fusion.peek(C.Primary.Main); badgeText = \"ADMIN\"\r\n  34 |         elseif player.Rank >= 1 then badgeColor = Color3.fromHex(\"3b82f6\"); badgeText = string.upper(player.Role)\r\n  35 |         else badgeText = string.upper(player.Role) end\r\n  36 | \r\n  37 |         return innerScope:New \"TextButton\" {\r\n  38 |             Name = \"Card_\" .. player.Name, Size = UDim2.new(1, 0, 0, 72), BackgroundColor3 = UI.Theme.Colors.Base.Main, AutoButtonColor = true, Text = \"\",\r\n  39 |             [UI.OnEvent \"Activated\"] = function() Actions.OpenInspector(player) end,\r\n  40 |             [Children] = {\r\n  41 |                 innerScope:New \"UICorner\" { CornerRadius = UDim.new(0, 8) },\r\n  42 |                 innerScope:New \"UIStroke\" { Color = UI.Theme.Colors.Neutral.Main, Transparency = 0.6, Thickness = 1.5 },\r\n  43 |                 innerScope:New \"UIPadding\" { PaddingLeft = UDim.new(0, 12), PaddingRight = UDim.new(0, 12) },\r\n  44 |                 innerScope:New \"UIListLayout\" { FillDirection = Enum.FillDirection.Horizontal, VerticalAlignment = Enum.VerticalAlignment.Center, Padding = UDim.new(0, 12), SortOrder = Enum.SortOrder.LayoutOrder },\r\n  45 |                 \r\n  46 |                 innerScope:New \"ImageLabel\" { LayoutOrder = 1, Size = UDim2.fromOffset(48, 48), BackgroundColor3 = UI.Theme.Colors.Base.Alt, Image = \"rbxthumb://type=AvatarHeadShot&id=\" .. player.UserId .. \"&w=150&h=150\", [Children] = { innerScope:New \"UICorner\" { CornerRadius = UDim.new(1, 0) } } },\r\n  47 |                 \r\n  48 |                 innerScope:New \"Frame\" { LayoutOrder = 2, Size = UDim2.new(0.4, 0, 1, 0), BackgroundTransparency = 1, [Children] = {\r\n  49 |                     innerScope:New \"UIListLayout\" { SortOrder = Enum.SortOrder.LayoutOrder, VerticalAlignment = Enum.VerticalAlignment.Center },\r\n  50 |                     innerScope:SmartText { Text = player.Name, Variant = \"Body\", Size = 16, LayoutOrder = 1, Color = \"BaseContent\" },\r\n  51 |                     innerScope:New \"TextLabel\" { LayoutOrder = 2, AutomaticSize = Enum.AutomaticSize.XY, BackgroundTransparency = 1, Text = \"ID: \" .. player.UserId, TextColor3 = UI.Theme.Colors.BaseContent.Main, TextTransparency = 0.4, TextSize = 14, FontFace = UI.Theme.Font.Body, TextXAlignment = Enum.TextXAlignment.Left }\r\n  52 |                 }},\r\n  53 |                 \r\n  54 |                 innerScope:New \"Frame\" { LayoutOrder = 3, Size = UDim2.new(0.4, 0, 1, 0), BackgroundTransparency = 1, [Children] = {\r\n  55 |                     innerScope:New \"UIListLayout\" { HorizontalAlignment = Enum.HorizontalAlignment.Right, VerticalAlignment = Enum.VerticalAlignment.Center },\r\n  56 |                     innerScope:New \"Frame\" { Size = UDim2.fromOffset(100, 28), BackgroundColor3 = badgeColor, BackgroundTransparency = 0.9, [Children] = {\r\n  57 |                         innerScope:New \"UICorner\" { CornerRadius = UDim.new(1, 0) },\r\n  58 |                         innerScope:New \"UIStroke\" { Color = badgeColor, Transparency = 0.2, Thickness = 1.5 },\r\n  59 |                         innerScope:New \"TextLabel\" { Size = UDim2.fromScale(1, 1), BackgroundTransparency = 1, Text = badgeText, TextColor3 = badgeColor, FontFace = UI.Theme.Font.Body, TextSize = 12, TextXAlignment = Enum.TextXAlignment.Center, TextYAlignment = Enum.TextYAlignment.Center }\r\n  60 |                     }}\r\n  61 |                 }}\r\n  62 |             }\r\n  63 |         }\r\n  64 |     end\r\n  65 | \r\n  66 |     -- [[ MAIN RENDERER ]]\r\n  67 |     return UI.Computed(scope, function(use)\r\n  68 |         local selectedPlayer = use(State.SelectedPlayer)\r\n  69 | \r\n  70 |         -- === INSPECTOR VIEW ===\r\n  71 |         if selectedPlayer then\r\n  72 |             return scope:New \"Frame\" {\r\n  73 |                 Name = \"InspectorView\", Size = UDim2.fromScale(1, 1), BackgroundTransparency = 1,\r\n  74 |                 [Children] = {\r\n  75 |                     scope:New \"UIListLayout\" { Padding = UDim.new(0, 16), SortOrder = Enum.SortOrder.LayoutOrder, FillDirection = Enum.FillDirection.Vertical },\r\n  76 |                     \r\n  77 |                     -- Header\r\n  78 |                     scope:New \"Frame\" { Name = \"Header\", Size = UDim2.new(1, 0, 0, 40), BackgroundTransparency = 1, [Children] = {\r\n  79 |                         scope:New \"UIListLayout\" { FillDirection = Enum.FillDirection.Horizontal, VerticalAlignment = Enum.VerticalAlignment.Center, Padding = UDim.new(0, 12) },\r\n  80 |                         scope:AsyncButton { Text = \"< BACK\", Size = UDim2.fromOffset(80, 36), Style = \"Outline\", OnClick = function() Actions.CloseInspector() end },\r\n  81 |                         scope:SmartText { Text = \"INSPECTING: \" .. string.upper(selectedPlayer.Name), Variant = \"Header\", Size = 18 }\r\n  82 |                     }},\r\n  83 |                     \r\n  84 |                     -- Body\r\n  85 |                     scope:New \"Frame\" { Name = \"Body\", Size = UDim2.new(1, 0, 1, -56), BackgroundTransparency = 1, [Children] = {\r\n  86 |                         scope:New \"UIListLayout\" { FillDirection = Enum.FillDirection.Horizontal, Padding = UDim.new(0, 16) },\r\n  87 |                         -- Identity\r\n  88 |                         scope:New \"Frame\" { Size = UDim2.new(0.35, 0, 1, 0), BackgroundColor3 = UI.Theme.Colors.Base.Main, [Children] = {\r\n  89 |                             scope:New \"UICorner\" { CornerRadius = UDim.new(0, 8) }, scope:New \"UIStroke\" { Color = UI.Theme.Colors.Neutral.Main, Transparency = 0.7 }, scope:New \"UIPadding\" { PaddingTop=UDim.new(0,20), PaddingBottom=UDim.new(0,20) }, scope:New \"UIListLayout\" { HorizontalAlignment = Enum.HorizontalAlignment.Center, Padding = UDim.new(0, 12), SortOrder = Enum.SortOrder.LayoutOrder },\r\n  90 |                             scope:New \"ImageLabel\" { LayoutOrder = 1, Size = UDim2.fromOffset(100, 100), BackgroundColor3 = UI.Theme.Colors.Base.Alt, Image = \"rbxthumb://type=AvatarHeadShot&id=\" .. selectedPlayer.UserId .. \"&w=420&h=420\", [Children] = { scope:New \"UICorner\" { CornerRadius = UDim.new(1, 0) } } },\r\n  91 |                             scope:SmartText { LayoutOrder=2, Text = selectedPlayer.Name, Size = 18, Variant = \"Header\", Align = Enum.TextXAlignment.Center },\r\n  92 |                             scope:SmartText { LayoutOrder=3, Text = \"Rank: \" .. selectedPlayer.Rank, Size = 14, Color = \"Neutral\", Align = Enum.TextXAlignment.Center }\r\n  93 |                         }},\r\n  94 |                         -- Controls\r\n  95 |                         scope:New \"Frame\" { Size = UDim2.new(0.65, -16, 1, 0), BackgroundColor3 = UI.Theme.Colors.Base.Main, [Children] = {\r\n  96 |                             scope:New \"UICorner\" { CornerRadius = UDim.new(0, 8) }, scope:New \"UIStroke\" { Color = UI.Theme.Colors.Neutral.Main, Transparency = 0.7 }, scope:New \"UIPadding\" { PaddingTop=UDim.new(0,20), PaddingLeft=UDim.new(0,20), PaddingRight=UDim.new(0,20) }, scope:New \"UIListLayout\" { Padding = UDim.new(0, 12), SortOrder = Enum.SortOrder.LayoutOrder },\r\n  97 |                             scope:SmartText { Text = \"CHANGE RANK\", Variant = \"Header\", Size = 16 },\r\n  98 |                             scope:New \"Frame\" { Size = UDim2.new(1, 0, 0, 200), BackgroundTransparency = 1, [Children] = {\r\n  99 |                                 -- [FIX] Typo Fixed: UDim2 for CellPadding\r\n 100 |                                 scope:New \"UIGridLayout\" { CellSize = UDim2.new(0.31, 0, 0, 50), CellPadding = UDim2.new(0.03, 0, 0.03, 0), FillDirectionMaxCells = 3 },\r\n 101 |                                 UI.ForValues(scope, RANKS, function(use, innerScope, rank)\r\n 102 |                                     local isCurrent = rank.Id == selectedPlayer.Rank\r\n 103 |                                     local style = isCurrent and \"Filled\" or \"Outline\"\r\n 104 |                                     return innerScope:AsyncButton { Text = rank.Label .. \"\\n[\"..rank.Id..\"]\", Style = style, Color = isCurrent and UI.Theme.Colors.Primary.Main or nil, OnClick = function() if not isCurrent then Actions.RequestRankChange(selectedPlayer, rank.Id, rank.Label) end end }\r\n 105 |                                 end)\r\n 106 |                             }}\r\n 107 |                         }}\r\n 108 |                     }}\r\n 109 |                 }\r\n 110 |             }\r\n 111 |         end\r\n 112 | \r\n 113 |         -- === LIST VIEW ===\r\n 114 |         local FilteredList = {}\r\n 115 |         local query = use(SearchText):lower()\r\n 116 |         local realData = use(State.PlayerList)\r\n 117 |         local function match(p) if query == \"\" then return true end if string.find(p.Name:lower(), query, 1, true) then return true end if string.find(tostring(p.UserId), query, 1, true) then return true end return false end\r\n 118 |         for _, p in ipairs(realData) do if match(p) then table.insert(FilteredList, p) end end\r\n 119 |         for _, p in ipairs(DUMMY_DATA) do if match(p) then table.insert(FilteredList, p) end end\r\n 120 | \r\n 121 |         return scope:New \"Frame\" {\r\n 122 |             Name = \"ListView\", Size = UDim2.fromScale(1, 1), BackgroundTransparency = 1,\r\n 123 |             [Children] = {\r\n 124 |                 scope:New \"UIListLayout\" { Padding = UDim.new(0, 16), SortOrder = Enum.SortOrder.LayoutOrder, FillDirection = Enum.FillDirection.Vertical },\r\n 125 |                 scope:New \"Frame\" { Name = \"HeaderSplit\", LayoutOrder = 1, Size = UDim2.new(1, 0, 0, 84), BackgroundTransparency = 1, [Children] = {\r\n 126 |                     scope:New \"Frame\" { Name = \"TopRow\", Size = UDim2.new(1, 0, 0, 40), BackgroundTransparency = 1, [Children] = {\r\n 127 |                         scope:New \"UIListLayout\" { FillDirection = Enum.FillDirection.Horizontal },\r\n 128 |                         scope:New \"Frame\" { LayoutOrder = 1, Size = UDim2.new(0.7, 0, 1, 0), BackgroundTransparency = 1, [Children] = { scope:New \"UIPadding\" { PaddingTop = UDim.new(0, 8) }, scope:SmartText { Text = \"USER MANAGEMENT\", Variant = \"Header\", Size = 18 } }},\r\n 129 |                         scope:New \"Frame\" { LayoutOrder = 2, Size = UDim2.new(0.3, 0, 1, 0), BackgroundTransparency = 1, [Children] = { scope:New \"UIListLayout\" { HorizontalAlignment = Enum.HorizontalAlignment.Right, VerticalAlignment = Enum.VerticalAlignment.Center }, scope:AsyncButton { Text = \"REFRESH\", Size = UDim2.fromOffset(90, 32), Style = \"Outline\", OnClick = function() Actions.RefreshPlayers() end } }}\r\n 130 |                     }},\r\n 131 |                     scope:New \"Frame\" { Name = \"SearchRow\", Size = UDim2.new(1, 0, 0, 40), Position = UDim2.fromOffset(0, 44), BackgroundColor3 = UI.Theme.Colors.Base.Main, [Children] = {\r\n 132 |                         scope:New \"UICorner\" { CornerRadius = UDim.new(0, 8) }, scope:New \"UIStroke\" { Color = UI.Theme.Colors.Neutral.Main, Transparency = 0.6 }, scope:New \"UIPadding\" { PaddingLeft = UDim.new(0, 12), PaddingRight = UDim.new(0, 12) }, scope:New \"UIListLayout\" { FillDirection=Enum.FillDirection.Horizontal, VerticalAlignment=Enum.VerticalAlignment.Center, Padding=UDim.new(0,10) },\r\n 133 |                         scope:New \"ImageLabel\" { Size = UDim2.fromOffset(18, 18), BackgroundTransparency = 1, Image = \"rbxassetid://11293977827\", ImageColor3 = UI.Theme.Colors.BaseContent.Muted },\r\n 134 |                         scope:New \"TextBox\" { Size = UDim2.new(1, -30, 1, 0), BackgroundTransparency = 1, Text = SearchText, PlaceholderText = \"Search by username...\", PlaceholderColor3 = Color3.fromRGB(100,100,100), TextColor3 = UI.Theme.Colors.BaseContent.Main, TextSize = 16, FontFace = UI.Theme.Font.Body, TextXAlignment = Enum.TextXAlignment.Left, ClearTextOnFocus = false, [UI.OnChange \"Text\"] = function(newText) SearchText:set(newText) end }\r\n 135 |                     }}\r\n 136 |                 }},\r\n 137 |                 scope:New \"ScrollingFrame\" { LayoutOrder = 2, Name = \"ListContainer\", Size = UDim2.new(1, 0, 1, -100), BackgroundTransparency = 1, CanvasSize = UDim2.new(0, 0, 0, 0), AutomaticCanvasSize = Enum.AutomaticSize.Y, ScrollBarThickness = 4, [Children] = {\r\n 138 |                     scope:New \"UIListLayout\" { Padding = UDim.new(0, 8), SortOrder = Enum.SortOrder.LayoutOrder },\r\n 139 |                     UI.ForValues(scope, FilteredList, function(use, innerScope, player) return PlayerRow(innerScope, player) end)\r\n 140 |                 }}\r\n 141 |             }\r\n 142 |         }\r\n 143 |     end)\r\n 144 | end\r\n 145 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Components/AsyncButton.luau</strong> (75 lines, 2.71 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Components.AsyncButton`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Component: AsyncButton (Telemetry Enabled)\r\n   3 | -- @Standard: OVHL Gold (With UX Logs)\r\n   4 | \r\n   5 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)\r\n   6 | local SmartLogger = Loader.Core.SmartLogger\r\n   7 | local UXLogger = SmartLogger.New(\"UX\") -- [CRITICAL] Logger khusus User Experience\r\n   8 | \r\n   9 | return function(API)\r\n  10 |     local Onyx = API.Onyx\r\n  11 |     \r\n  12 |     return function(scope, props)\r\n  13 |         local isProcessing = scope:Value(false)\r\n  14 |         \r\n  15 |         -- Ambil nama tombol untuk log\r\n  16 |         local btnName = props.Text or \"UnknownButton\"\r\n  17 |         \r\n  18 |         return Onyx.Components.Button(scope, {\r\n  19 |             Size = props.Size,\r\n  20 |             LayoutOrder = props.LayoutOrder,\r\n  21 |             Style = props.Style or \"Filled\",\r\n  22 |             Color = props.Color,\r\n  23 |             \r\n  24 |             Disabled = API.Computed(scope, function(use)\r\n  25 |                 return props.Disabled or use(isProcessing)\r\n  26 |             end),\r\n  27 |             \r\n  28 |             Content = API.Computed(scope, function(use)\r\n  29 |                 if use(isProcessing) then return { \"...\" } else return { btnName } end\r\n  30 |             end),\r\n  31 |             \r\n  32 |             OnActivate = function()\r\n  33 |                 -- [TELEMETRY] Log detik ini juga saat klik terjadi\r\n  34 |                 UXLogger:Info(\"Interact\", { \r\n  35 |                     Element = btnName, \r\n  36 |                     State = \"Clicked\",\r\n  37 |                     Processing = API.Fusion.peek(isProcessing) \r\n  38 |                 })\r\n  39 | \r\n  40 |                 -- Debounce Check\r\n  41 |                 if API.Fusion.peek(isProcessing) then \r\n  42 |                     UXLogger:Debug(\"Debounce\", \"Click ignored (Processing)\")\r\n  43 |                     return \r\n  44 |                 end\r\n  45 |                 \r\n  46 |                 if props.OnClick then\r\n  47 |                     isProcessing:set(true)\r\n  48 |                     \r\n  49 |                     -- Bungkus xpcall\r\n  50 |                     local success, result = xpcall(function()\r\n  51 |                         return props.OnClick()\r\n  52 |                     end, debug.traceback)\r\n  53 |                     \r\n  54 |                     if not success then\r\n  55 |                         UXLogger:Error(\"ClickError\", { Element = btnName, Trace = result })\r\n  56 |                         isProcessing:set(false)\r\n  57 |                         return\r\n  58 |                     end\r\n  59 |                     \r\n  60 |                     -- Handle Promise\r\n  61 |                     if result and typeof(result) == \"table\" and result.andThen then\r\n  62 |                         result:finally(function()\r\n  63 |                             isProcessing:set(false)\r\n  64 |                             UXLogger:Info(\"TaskDone\", { Element = btnName })\r\n  65 |                         end)\r\n  66 |                     else\r\n  67 |                         task.wait(0.1)\r\n  68 |                         isProcessing:set(false)\r\n  69 |                     end\r\n  70 |                 end\r\n  71 |             end\r\n  72 |         })\r\n  73 |     end\r\n  74 | end\r\n  75 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Components/GridContainer.luau</strong> (37 lines, 1.32 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Components.GridContainer`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Component: GridContainer\r\n   3 | -- @Role: Layout Wrapper\r\n   4 | return function(API)\r\n   5 |     local function New(scope, class) return API.New(scope, class) end\r\n   6 | \r\n   7 |     return function(scope, props)\r\n   8 |         local cellSize = props.CellSize or {X=100, Y=100}\r\n   9 |         local gap = props.Gap or {X=10, Y=10}\r\n  10 |         \r\n  11 |         return New(scope, \"ScrollingFrame\") {\r\n  12 |             Name = \"GridContainer\",\r\n  13 |             Size = UDim2.fromScale(1, 1),\r\n  14 |             BackgroundTransparency = 1,\r\n  15 |             CanvasSize = UDim2.new(0, 0, 0, 0),\r\n  16 |             AutomaticCanvasSize = Enum.AutomaticSize.Y,\r\n  17 |             ScrollBarThickness = 4,\r\n  18 |             \r\n  19 |             [API.Children] = {\r\n  20 |                 New(scope, \"UIPadding\") {\r\n  21 |                     PaddingTop = UDim.new(0, 10), PaddingBottom = UDim.new(0, 10),\r\n  22 |                     PaddingLeft = UDim.new(0, 10), PaddingRight = UDim.new(0, 10)\r\n  23 |                 },\r\n  24 |                 \r\n  25 |                 New(scope, \"UIGridLayout\") {\r\n  26 |                     CellSize = UDim2.fromOffset(cellSize.X, cellSize.Y),\r\n  27 |                     CellPadding = UDim2.fromOffset(gap.X, gap.Y),\r\n  28 |                     HorizontalAlignment = Enum.HorizontalAlignment.Center,\r\n  29 |                     SortOrder = Enum.SortOrder.LayoutOrder\r\n  30 |                 },\r\n  31 |                 \r\n  32 |                 props[API.Children]\r\n  33 |             }\r\n  34 |         }\r\n  35 |     end\r\n  36 | end\r\n  37 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Components/ItemSlot.luau</strong> (155 lines, 6.71 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Components.ItemSlot`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Component: ItemSlot v3.1 (Visual States)\r\n   3 | return function(API)\r\n   4 | \tlocal Theme = API.Theme\r\n   5 |     local Assets = API.Assets\r\n   6 |     local function New(scope, class) return API.New(scope, class) end\r\n   7 | \t\r\n   8 | \treturn function(scope, props)\r\n   9 | \t\tlocal Item = props.Item\r\n  10 | \t\tlocal Config = props.Config or {}\r\n  11 | \t\t\r\n  12 |         -- [STATE] Cek status Equipped\r\n  13 |         local isEquipped = Item.Equipped == true\r\n  14 |         \r\n  15 |         -- [STYLE] Rarity Color (Override jadi GOLD jika equipped)\r\n  16 | \t\tlocal rarityColors = Config.UI and Config.UI.RarityColors or {}\r\n  17 | \t\tlocal baseColor = rarityColors[Item.Rarity] or Theme.Colors.Neutral.Main\r\n  18 |         \r\n  19 |         local borderColor = isEquipped and Color3.fromHex(\"FFD700\") or baseColor -- Gold if equipped\r\n  20 |         local borderThickness = isEquipped and 3 or 2\r\n  21 |         \r\n  22 |         local imageId = Item.Icon \r\n  23 |         if not imageId or imageId == \"\" then\r\n  24 |             imageId = Assets.Placeholders.Generic\r\n  25 |             if string.find(Item.Name, \"Sword\") then imageId = Assets.Placeholders.Sword end\r\n  26 |             if string.find(Item.Name, \"Potion\") then imageId = Assets.Placeholders.Potion end\r\n  27 |         end\r\n  28 | \r\n  29 | \t\treturn New(scope, \"Frame\") {\r\n  30 | \t\t\tName = \"Slot_\" .. (Item.Id or \"0\"),\r\n  31 | \t\t\tSize = UDim2.fromScale(1, 1),\r\n  32 | \t\t\tBackgroundColor3 = Theme.Colors.Base.Main,\r\n  33 |             \r\n  34 | \t\t\t[API.Children] = {\r\n  35 | \t\t\t\tNew(scope, \"UICorner\") { CornerRadius = UDim.new(0, Theme.CornerRadius.Base) },\r\n  36 | \t\t\t\t\r\n  37 |                 -- Border (Dynamic Color)\r\n  38 |                 New(scope, \"UIStroke\") {\r\n  39 | \t\t\t\t\tColor = borderColor,\r\n  40 | \t\t\t\t\tThickness = borderThickness,\r\n  41 | \t\t\t\t\tTransparency = isEquipped and 0 or 0.3,\r\n  42 | \t\t\t\t\tApplyStrokeMode = Enum.ApplyStrokeMode.Border\r\n  43 | \t\t\t\t},\r\n  44 |                 \r\n  45 |                 -- Equipped Tag (Corner)\r\n  46 |                 isEquipped and New(scope, \"Frame\") {\r\n  47 |                     Size = UDim2.fromOffset(24, 24),\r\n  48 |                     Position = UDim2.new(1, -4, 0, 4),\r\n  49 |                     AnchorPoint = Vector2.new(1, 0),\r\n  50 |                     BackgroundColor3 = Color3.fromHex(\"FFD700\"),\r\n  51 |                     ZIndex = 5,\r\n  52 |                     [API.Children] = {\r\n  53 |                         New(scope, \"UICorner\") { CornerRadius = UDim.new(0, 4) },\r\n  54 |                         New(scope, \"TextLabel\") {\r\n  55 |                             Text = \"E\",\r\n  56 |                             Size = UDim2.fromScale(1,1),\r\n  57 |                             BackgroundTransparency = 1,\r\n  58 |                             TextColor3 = Color3.new(0,0,0),\r\n  59 |                             FontFace = Theme.Font.Heading,\r\n  60 |                             TextSize = 14\r\n  61 |                         }\r\n  62 |                     }\r\n  63 |                 } or nil,\r\n  64 | \t\t\t\t\r\n  65 | \t\t\t\tNew(scope, \"Frame\") {\r\n  66 | \t\t\t\t\tSize = UDim2.fromScale(1, 1),\r\n  67 | \t\t\t\t\tBackgroundTransparency = 1,\r\n  68 | \t\t\t\t\t\r\n  69 | \t\t\t\t\t[API.Children] = {\r\n  70 | \t\t\t\t\t\tNew(scope, \"UIPadding\") {\r\n  71 | \t\t\t\t\t\t\tPaddingTop = UDim.new(0, Theme.Spacing.Medium), \r\n  72 |                             PaddingBottom = UDim.new(0, Theme.Spacing.Medium),\r\n  73 | \t\t\t\t\t\t\tPaddingLeft = UDim.new(0, Theme.Spacing.Medium), \r\n  74 |                             PaddingRight = UDim.new(0, Theme.Spacing.Medium),\r\n  75 | \t\t\t\t\t\t},\r\n  76 |                         \r\n  77 |                         New(scope, \"UIListLayout\") {\r\n  78 |                             SortOrder = Enum.SortOrder.LayoutOrder,\r\n  79 |                             Padding = UDim.new(0, Theme.Spacing.Small),\r\n  80 |                             HorizontalAlignment = Enum.HorizontalAlignment.Center,\r\n  81 |                             VerticalAlignment = Enum.VerticalAlignment.Top\r\n  82 |                         },\r\n  83 |                         \r\n  84 |                         -- 1. IMAGE\r\n  85 |                         New(scope, \"ImageLabel\") {\r\n  86 |                             LayoutOrder = 1,\r\n  87 |                             Size = UDim2.fromOffset(80, 80),\r\n  88 |                             BackgroundTransparency = 1,\r\n  89 |                             Image = imageId,\r\n  90 |                             ScaleType = Enum.ScaleType.Fit\r\n  91 |                         },\r\n  92 | \r\n  93 | \t\t\t\t\t\t-- 2. NAME\r\n  94 |                         scope:SmartText {\r\n  95 |                             LayoutOrder = 2,\r\n  96 |                             Text = Item.Name,\r\n  97 |                             Variant = \"Body\", \r\n  98 |                             Align = Enum.TextXAlignment.Center,\r\n  99 |                             Size = 14\r\n 100 |                         },\r\n 101 |                         \r\n 102 |                         -- 3. RARITY\r\n 103 |                         scope:SmartText {\r\n 104 |                             LayoutOrder = 3,\r\n 105 |                             Text = string.upper(Item.Rarity),\r\n 106 |                             Variant = \"Caption\",\r\n 107 |                             Align = Enum.TextXAlignment.Center,\r\n 108 |                             Color = baseColor \r\n 109 |                         },\r\n 110 | \r\n 111 |                         -- 5. ACTION BUTTONS\r\n 112 |                         New(scope, \"Frame\") {\r\n 113 |                             LayoutOrder = 5,\r\n 114 |                             Size = UDim2.new(1, 0, 0, 0),\r\n 115 |                             AutomaticSize = Enum.AutomaticSize.Y,\r\n 116 |                             BackgroundTransparency = 1,\r\n 117 |                             \r\n 118 |                             [API.Children] = {\r\n 119 |                                 New(scope, \"UIListLayout\") {\r\n 120 |                                     FillDirection = Enum.FillDirection.Vertical,\r\n 121 |                                     Padding = UDim.new(0, Theme.Spacing.Small),\r\n 122 |                                     HorizontalAlignment = Enum.HorizontalAlignment.Center\r\n 123 |                                 },\r\n 124 |                                 \r\n 125 |                                 API.ForValues(scope, Config.UI.Actions or {}, function(use, innerScope, action)\r\n 126 |                                     -- [LOGIC] Swap Text \"EQUIP\" -> \"UNEQUIP\"\r\n 127 |                                     local label = action.Label\r\n 128 |                                     local style = action.Style\r\n 129 |                                     \r\n 130 |                                     if action.Id == \"Equip\" and isEquipped then\r\n 131 |                                         label = \"UNEQUIP\"\r\n 132 |                                         style = \"Outlined\" -- Ganti style biar beda\r\n 133 |                                     end\r\n 134 |                                 \r\n 135 |                                     return innerScope:AsyncButton {\r\n 136 |                                         Text = label,\r\n 137 |                                         Style = style,\r\n 138 |                                         Size = UDim2.new(1, 0, 0, 28),\r\n 139 |                                         \r\n 140 |                                         OnClick = function()\r\n 141 |                                             if props.OnAction then\r\n 142 |                                                 props.OnAction(Item, action.Id, function() end)\r\n 143 |                                             end\r\n 144 |                                         end\r\n 145 |                                     }\r\n 146 |                                 end)\r\n 147 |                             }\r\n 148 |                         }\r\n 149 | \t\t\t\t\t}\r\n 150 | \t\t\t\t}\r\n 151 | \t\t\t}\r\n 152 | \t\t}\r\n 153 | \tend\r\n 154 | end\r\n 155 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Components/ScreenWrapper.luau</strong> (52 lines, 1.53 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Components.ScreenWrapper`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Component: ScreenWrapper\r\n   3 | -- @Standard: Explicit API Usage\r\n   4 | return function(API)\r\n   5 | \tlocal Themer = API.Themer\r\n   6 | \tlocal Theme = API.Theme\r\n   7 |     -- [FIX] Ambil AutoScaler langsung dari Onyx, jangan via scope\r\n   8 |     local AutoScaler = API.Onyx.Components.AutoScaler or API.Onyx.AutoScaler\r\n   9 | \r\n  10 | \treturn function(scope, props)\r\n  11 | \t\tlocal PlayerGui = game.Players.LocalPlayer:WaitForChild(\"PlayerGui\")\r\n  12 | \r\n  13 | \t\treturn API.New(scope, \"ScreenGui\") {\r\n  14 | \t\t\tName = props.Name or \"OVHL_Screen\",\r\n  15 | \t\t\tParent = PlayerGui,\r\n  16 | \t\t\tResetOnSpawn = false,\r\n  17 | \t\t\tIgnoreGuiInset = true,\r\n  18 | \t\t\tDisplayOrder = props.Order or 10,\r\n  19 | \t\t\tEnabled = props.Enabled,\r\n  20 | \r\n  21 | \t\t\t[API.Children] = {\r\n  22 | \t\t\t\t-- [FIX] Explicit Call: AutoScaler(scope, props)\r\n  23 |                 -- Onyx components biasanya dipanggil sebagai fungsi: Component(scope, props)\r\n  24 | \t\t\t\tAutoScaler(scope, {\r\n  25 | \t\t\t\t\tName = \"ResponsiveCanvas\",\r\n  26 | \t\t\t\t\tBaseResolution = Vector2.new(1280, 720),\r\n  27 | \t\t\t\t\tMinScale = 0.5,\r\n  28 | \t\t\t\t\tMaxScale = 1.5,\r\n  29 | \t\t\t\t\tAnchorPoint = Vector2.new(0.5, 0.5),\r\n  30 | \t\t\t\t\tPosition = UDim2.fromScale(0.5, 0.5),\r\n  31 | \t\t\t\t\tSize = UDim2.fromScale(1, 1),\r\n  32 | \t\t\t\t\tBackgroundTransparency = 1,\r\n  33 | \r\n  34 | \t\t\t\t\t[API.Children] = {\r\n  35 | \t\t\t\t\t\tThemer.Theme:is(Theme):during(function()\r\n  36 | \t\t\t\t\t\t\treturn API.New(scope, \"Frame\") {\r\n  37 | \t\t\t\t\t\t\t\tName = \"ProviderScope\",\r\n  38 | \t\t\t\t\t\t\t\tAnchorPoint = Vector2.new(0.5, 0.5),\r\n  39 | \t\t\t\t\t\t\t\tPosition = UDim2.fromScale(0.5, 0.5),\r\n  40 | \t\t\t\t\t\t\t\tSize = UDim2.fromScale(1, 1),\r\n  41 | \t\t\t\t\t\t\t\tBackgroundTransparency = 1,\r\n  42 | \t\t\t\t\t\t\t\tActive = false,\r\n  43 | \t\t\t\t\t\t\t\t[API.Children] = props[API.Children],\r\n  44 | \t\t\t\t\t\t\t}\r\n  45 | \t\t\t\t\t\tend),\r\n  46 | \t\t\t\t\t},\r\n  47 | \t\t\t\t}),\r\n  48 | \t\t\t},\r\n  49 | \t\t}\r\n  50 | \tend\r\n  51 | end\r\n  52 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Components/SmartButton.luau</strong> (47 lines, 1.58 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Components.SmartButton`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Component: SmartButton (With Telemetry)\r\n   3 | local RS = game:GetService(\"ReplicatedStorage\")\r\n   4 | local Loader = require(RS.OVHL.Core.Loader)\r\n   5 | local SmartLogger = Loader.Core(\"SmartLogger\")\r\n   6 | \r\n   7 | -- Logger khusus interaksi User\r\n   8 | local UXLogger = SmartLogger.New(\"UX\") \r\n   9 | \r\n  10 | return function(API)\r\n  11 |     return function(scope, props)\r\n  12 |         -- Map OVHL Style to Onyx Style\r\n  13 |         local style = \"Filled\"\r\n  14 |         if props.Style == \"Outline\" then style = \"Outlined\" end\r\n  15 |         if props.Style == \"Ghost\" then style = \"Ghost\" end\r\n  16 |         \r\n  17 |         local color = nil\r\n  18 |         if props.Style == \"Danger\" then color = API.Util.Colors.Red[\"500\"] end\r\n  19 |         \r\n  20 |         -- Ambil Text untuk Log (Bisa string atau State)\r\n  21 |         local btnText = props.Text or \"Unknown\"\r\n  22 |         \r\n  23 |         return scope:Button {\r\n  24 |             Content = { props.Text },\r\n  25 |             Style = style,\r\n  26 |             Color = color,\r\n  27 |             Size = props.Size,\r\n  28 |             LayoutOrder = props.LayoutOrder,\r\n  29 |             \r\n  30 |             -- [TELEMETRY] Intercept Activation\r\n  31 |             OnActivate = function()\r\n  32 |                 -- 1. Lapor Dulu!\r\n  33 |                 local txt = (type(btnText) == \"string\") and btnText or \"DynamicState\"\r\n  34 |                 UXLogger:Info(\"Click\", { \r\n  35 |                     Button = txt, \r\n  36 |                     Style = props.Style,\r\n  37 |                     Context = props.Context or \"UI\"\r\n  38 |                 })\r\n  39 |                 \r\n  40 |                 -- 2. Jalankan Logic Asli\r\n  41 |                 if props.OnClick then props.OnClick() end\r\n  42 |                 if props.OnActivate then props.OnActivate() end\r\n  43 |             end\r\n  44 |         }\r\n  45 |     end\r\n  46 | end\r\n  47 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Components/SmartText.luau</strong> (36 lines, 1.23 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Components.SmartText`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Component: SmartText\r\n   3 | -- @Role: Standardized Typography\r\n   4 | return function(API)\r\n   5 |     local Theme = API.Theme\r\n   6 |     local function New(scope, class) return API.New(scope, class) end\r\n   7 | \r\n   8 |     local VARIANTS = {\r\n   9 |         Header = { Size = 24, Font = \"Heading\", Color = \"BaseContent\" },\r\n  10 |         SubHeader = { Size = 18, Font = \"Body\", Color = \"BaseContent\" },\r\n  11 |         Body = { Size = 14, Font = \"Body\", Color = \"BaseContent\" },\r\n  12 |         Caption = { Size = 12, Font = \"Body\", Color = \"Neutral\" },\r\n  13 |     }\r\n  14 | \r\n  15 |     return function(scope, props)\r\n  16 |         local variant = VARIANTS[props.Variant or \"Body\"]\r\n  17 |         \r\n  18 |         return New(scope, \"TextLabel\") {\r\n  19 |             Name = props.Name or \"Text\",\r\n  20 |             Text = props.Text or \"\",\r\n  21 |             LayoutOrder = props.LayoutOrder,\r\n  22 |             \r\n  23 |             -- Styling\r\n  24 |             BackgroundTransparency = 1,\r\n  25 |             TextColor3 = Theme.Colors[variant.Color].Main,\r\n  26 |             TextSize = props.Size or variant.Size,\r\n  27 |             FontFace = Theme.Font[variant.Font],\r\n  28 |             TextXAlignment = props.Align or Enum.TextXAlignment.Left,\r\n  29 |             \r\n  30 |             -- Auto Size\r\n  31 |             AutomaticSize = Enum.AutomaticSize.XY,\r\n  32 |             Size = UDim2.fromScale(0, 0),\r\n  33 |         }\r\n  34 |     end\r\n  35 | end\r\n  36 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Components/SmartWindow.luau</strong> (107 lines, 5.07 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Components.SmartWindow`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Component: SmartWindow v5.2 (Solid Input Block)\r\n   3 | return function(API)\r\n   4 |     local Theme = API.Theme\r\n   5 |     local Assets = API.Assets\r\n   6 |     local MotionPresets = API.MotionPresets\r\n   7 |     local function New(scope, class) return API.New(scope, class) end\r\n   8 | \r\n   9 |     return function(scope, props)\r\n  10 |         local isVisible = props.Visible\r\n  11 |         if isVisible == nil then isVisible = scope:Value(true) end\r\n  12 |         \r\n  13 |         local styleName = props.Transition or \"PopUp\"\r\n  14 |         local presetFunc = MotionPresets[styleName] or MotionPresets.PopUp\r\n  15 |         local animProps = presetFunc(scope, isVisible)\r\n  16 |         \r\n  17 |         local isRendering = API.Computed(scope, function(use)\r\n  18 |             local t = use(animProps.Transparency)\r\n  19 |             return t < 0.99\r\n  20 |         end)\r\n  21 |         \r\n  22 |         return New(scope, \"Frame\") {\r\n  23 |             Name = \"WindowFrame\",\r\n  24 |             AnchorPoint = animProps.AnchorPoint,\r\n  25 |             Position = animProps.Position,\r\n  26 |             Size = props.Size or UDim2.fromOffset(500, 400),\r\n  27 |             BackgroundTransparency = 1, -- Root tetep transparan biar gak kotak kaku\r\n  28 |             Visible = isRendering,\r\n  29 |             \r\n  30 |             [API.Children] = {\r\n  31 |                 New(scope, \"UIScale\") { Scale = animProps.Scale },\r\n  32 |                 \r\n  33 |                 New(scope, \"CanvasGroup\") {\r\n  34 |                     Name = \"Canvas\",\r\n  35 |                     Size = UDim2.fromScale(1, 1),\r\n  36 |                     BackgroundColor3 = Theme.Colors.Base.Main,\r\n  37 |                     GroupTransparency = animProps.Transparency,\r\n  38 |                     \r\n  39 |                     -- [FIX CRITICAL] AKTIFKAN INPUT SINK\r\n  40 |                     -- Ini membuat Window jadi benda padat bagi Mouse.\r\n  41 |                     -- Klik tidak akan tembus ke UI di belakangnya.\r\n  42 |                     Active = true, \r\n  43 |                     \r\n  44 |                     [API.Children] = {\r\n  45 |                         New(scope, \"UICorner\") { CornerRadius = UDim.new(0, 12) },\r\n  46 |                         New(scope, \"UIStroke\") { Color = Theme.Colors.Neutral.Main, Thickness = 1 },\r\n  47 |                         \r\n  48 |                         -- [[ HEADER ]]\r\n  49 |                         New(scope, \"Frame\") {\r\n  50 |                             Name = \"Header\",\r\n  51 |                             Size = UDim2.new(1, 0, 0, 48),\r\n  52 |                             BackgroundTransparency = 1,\r\n  53 |                             \r\n  54 |                             [API.Children] = {\r\n  55 |                                 New(scope, \"UIPadding\") { PaddingLeft = UDim.new(0, 16), PaddingRight = UDim.new(0, 16) },\r\n  56 |                                 \r\n  57 |                                 New(scope, \"UIListLayout\") {\r\n  58 |                                     FillDirection = Enum.FillDirection.Horizontal,\r\n  59 |                                     VerticalAlignment = Enum.VerticalAlignment.Center,\r\n  60 |                                     HorizontalAlignment = Enum.HorizontalAlignment.Right,\r\n  61 |                                     SortOrder = Enum.SortOrder.LayoutOrder\r\n  62 |                                 },\r\n  63 | \r\n  64 |                                 -- TITLE CONTAINER\r\n  65 |                                 New(scope, \"Frame\") {\r\n  66 |                                     Name = \"TitleContainer\",\r\n  67 |                                     Size = UDim2.new(1, -30, 1, 0),\r\n  68 |                                     BackgroundTransparency = 1,\r\n  69 |                                     LayoutOrder = 1,\r\n  70 |                                     [API.Children] = {\r\n  71 |                                         New(scope, \"UIListLayout\") { VerticalAlignment = Enum.VerticalAlignment.Center, HorizontalAlignment = Enum.HorizontalAlignment.Left },\r\n  72 |                                         scope:SmartText {\r\n  73 |                                             Variant = \"Header\",\r\n  74 |                                             Text = props.Title or \"Window\",\r\n  75 |                                             Size = 20,\r\n  76 |                                             Align = Enum.TextXAlignment.Left\r\n  77 |                                         }\r\n  78 |                                     }\r\n  79 |                                 },\r\n  80 |                                 \r\n  81 |                                 -- CLOSE BUTTON\r\n  82 |                                 New(scope, \"ImageButton\") {\r\n  83 |                                     LayoutOrder = 2,\r\n  84 |                                     Size = UDim2.fromOffset(24, 24),\r\n  85 |                                     BackgroundTransparency = 1,\r\n  86 |                                     Image = Assets.Icons.Close,\r\n  87 |                                     ImageColor3 = Theme.Colors.BaseContent.Main,\r\n  88 |                                     [API.OnEvent \"Activated\"] = props.OnClose\r\n  89 |                                 }\r\n  90 |                             }\r\n  91 |                         },\r\n  92 |                         \r\n  93 |                         -- [[ BODY ]]\r\n  94 |                         New(scope, \"Frame\") {\r\n  95 |                             Name = \"Body\",\r\n  96 |                             Position = UDim2.fromOffset(0, 48),\r\n  97 |                             Size = UDim2.new(1, 0, 1, -48),\r\n  98 |                             BackgroundTransparency = 1,\r\n  99 |                             [API.Children] = props[API.Children]\r\n 100 |                         }\r\n 101 |                     }\r\n 102 |                 }\r\n 103 |             }\r\n 104 |         }\r\n 105 |     end\r\n 106 | end\r\n 107 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Components/Window.luau</strong> (48 lines, 1.65 KB)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Components.Window`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Component: Window (Standard Offset)\r\n   3 | local RS = game:GetService(\"ReplicatedStorage\")\r\n   4 | local Loader = require(RS.OVHL.Core.Loader)\r\n   5 | local SmartLogger = Loader.Core(\"SmartLogger\")\r\n   6 | \r\n   7 | local Logger = SmartLogger.New(\"UI_LAYOUT\")\r\n   8 | \r\n   9 | return function(API)\r\n  10 |     return function(scope, props)\r\n  11 |         local defaultSize = UDim2.fromOffset(500, 400) -- Sedikit diperlebar\r\n  12 |         local targetSize = props.Size or defaultSize\r\n  13 |         \r\n  14 |         Logger:Debug(\"WindowInit\", {\r\n  15 |             Title = props.Title,\r\n  16 |             Size = tostring(targetSize),\r\n  17 |             Note = \"Centered in Scaled Canvas\"\r\n  18 |         })\r\n  19 |     \r\n  20 |         return scope:Card {\r\n  21 |             Name = \"WindowFrame\",\r\n  22 |             \r\n  23 |             -- [CRITICAL FIX] Pastikan Window juga Centered di dalam Canvas\r\n  24 |             AnchorPoint = Vector2.new(0.5, 0.5),\r\n  25 |             Position = UDim2.fromScale(0.5, 0.5),\r\n  26 |             Size = targetSize,\r\n  27 |             \r\n  28 |             List = { FillDirection = Enum.FillDirection.Vertical, Padding = scope:UDim(0, 0) },\r\n  29 |             Padding = { All = scope:UDim(0, 0) },\r\n  30 |             \r\n  31 |             [API.Children] = {\r\n  32 |                 scope:TitleBar {\r\n  33 |                     Content = { props.Title or \"Window\" },\r\n  34 |                     OnClose = props.OnClose,\r\n  35 |                     CloseButtonDisabled = (props.OnClose == nil)\r\n  36 |                 },\r\n  37 |                 scope:Frame {\r\n  38 |                     Name = \"Body\",\r\n  39 |                     Size = UDim2.new(1, 0, 1, -48),\r\n  40 |                     BackgroundTransparency = 1,\r\n  41 |                     Padding = { All = scope:UDim(0, 16) },\r\n  42 |                     [API.Children] = props[API.Children]\r\n  43 |                 }\r\n  44 |             }\r\n  45 |         }\r\n  46 |     end\r\n  47 | end\r\n  48 | \n```\n</details>\n\n### üì¶ Group: Server\n\n\n<details>\n<summary><strong>üåô src/ServerScriptService/OVHL/ServerRuntime.server.luau</strong> (4 lines, 92 Bytes)</summary>\n\n**Rojo Path:** `game.ServerScriptService.OVHL.ServerRuntime.server`\n\n```lua\n   1 | --!strict\r\n   2 | -- Server Runtime\r\n   3 | require(game.ReplicatedStorage.OVHL.Bootstrap).StartServer()\r\n   4 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ServerScriptService/OVHL/TestRunner.server.luau</strong> (64 lines, 1.8 KB)</summary>\n\n**Rojo Path:** `game.ServerScriptService.OVHL.TestRunner.server`\n\n```lua\n   1 | --!strict\r\n   2 | -- @System: TestRunner (Server Side)\r\n   3 | local ReplicatedStorage = game:GetService(\"ReplicatedStorage\")\r\n   4 | local ServerScriptService = game:GetService(\"ServerScriptService\")\r\n   5 | local RunService = game:GetService(\"RunService\")\r\n   6 | \r\n   7 | -- Cuma jalan di Studio biar gak ganggu Production game\r\n   8 | if not RunService:IsStudio() then\r\n   9 | \treturn\r\n  10 | end\r\n  11 | \r\n  12 | task.defer(function()\r\n  13 | \t-- Tunggu sebentar biar loading game/plugin selesai dulu\r\n  14 | \ttask.wait(2)\r\n  15 | \r\n  16 | \tprint(\"\\nüß™ [SERVER] STARTING TEST RUNNER...\")\r\n  17 | \r\n  18 | \t-- 1. Load TesEZ (Pake Loader framework lu biar konsisten)\r\n  19 | \tlocal Loader = require(ReplicatedStorage.OVHL.Core.Loader)\r\n  20 | \tlocal TesEZ\r\n  21 | \r\n  22 | \tpcall(function()\r\n  23 | \t\tTesEZ = Loader.Pkg(\"TestEZ\") -- Atau require(ReplicatedStorage.Packages.TestEZ)\r\n  24 | \tend)\r\n  25 | \r\n  26 | \tif not TesEZ then\r\n  27 | \t\twarn(\"‚ö†Ô∏è [SERVER] TesEZ not found! Please run 'wally install'.\")\r\n  28 | \t\treturn\r\n  29 | \tend\r\n  30 | \r\n  31 | \t-- 2. Tentukan Folder Target (Sesuai Mapping Rojo yang baru)\r\n  32 | \t-- Kita pake WaitForChild biar aman kalau loadingnya telat dikit\r\n  33 | \tlocal testRoots = {\r\n  34 | \t\tReplicatedStorage:WaitForChild(\"Tests\", 10), -- Shared Tests\r\n  35 | \t\tServerScriptService:WaitForChild(\"Tests\", 10), -- Server Tests\r\n  36 | \t}\r\n  37 | \r\n  38 | \t-- Filter kalau foldernya ternyata kosong/gak ke-sync\r\n  39 | \tlocal validRoots = {}\r\n  40 | \tfor _, folder in ipairs(testRoots) do\r\n  41 | \t\tif folder then\r\n  42 | \t\t\ttable.insert(validRoots, folder)\r\n  43 | \t\telse\r\n  44 | \t\t\twarn(\"‚ö†Ô∏è [SERVER] Missing Test Folder (Check Rojo Mapping)\")\r\n  45 | \t\tend\r\n  46 | \tend\r\n  47 | \r\n  48 | \tif #validRoots == 0 then\r\n  49 | \t\twarn(\"‚ö†Ô∏è [SERVER] No tests found to run.\")\r\n  50 | \t\treturn\r\n  51 | \tend\r\n  52 | \r\n  53 | \t-- 3. JALANIN TES!\r\n  54 | \tprint(\"üìÇ [SERVER] Scanning folders: \" .. #validRoots)\r\n  55 | \tlocal results = TesEZ.TestBootstrap:run(validRoots)\r\n  56 | \r\n  57 | \t-- 4. Laporan\r\n  58 | \tif results.failureCount > 0 then\r\n  59 | \t\twarn(\"‚ùå [SERVER] FAILED: \" .. results.failureCount .. \" tests broken.\")\r\n  60 | \telse\r\n  61 | \t\tprint(\"‚úÖ [SERVER] SUCCESS: All systems normal.\")\r\n  62 | \tend\r\n  63 | end)\r\n  64 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ServerScriptService/OVHL/Config/PermissionConfig.luau</strong> (9 lines, 173 Bytes)</summary>\n\n**Rojo Path:** `game.ServerScriptService.OVHL.Config.PermissionConfig`\n\n```lua\n   1 | --!strict\r\n   2 | return {\r\n   3 |     Provider = \"HDAdmin\", -- Options: \"HDAdmin\", \"Internal\"\r\n   4 |     Settings = { \r\n   5 |         OwnerIsSuperAdmin = true,\r\n   6 |         LogChanges = true\r\n   7 |     }\r\n   8 | }\r\n   9 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ServerScriptService/OVHL/Core/DataMigrator.luau</strong> (54 lines, 1.7 KB)</summary>\n\n**Rojo Path:** `game.ServerScriptService.OVHL.Core.DataMigrator`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Module: DataMigrator\r\n   3 | -- @Role: Menangani perubahan struktur data antar versi\r\n   4 | local DataMigrator = {}\r\n   5 | \r\n   6 | -- [CONFIG] Versi Data Saat Ini\r\n   7 | DataMigrator.LATEST_VERSION = 1\r\n   8 | \r\n   9 | -- [LOGIC] Daftar Migrasi (Fungsi untuk naik kelas)\r\n  10 | local MIGRATIONS = {\r\n  11 |     -- Contoh Migrasi ke V2 nanti:\r\n  12 |     -- [2] = function(data)\r\n  13 |     --     data.Pets = {} \r\n  14 |     --     return data\r\n  15 |     -- end\r\n  16 | }\r\n  17 | \r\n  18 | function DataMigrator.Migrate(profile, logger)\r\n  19 |     local data = profile.Data\r\n  20 |     local currentVer = data._SchemaVersion or 0\r\n  21 |     \r\n  22 |     -- Jika data baru (kosong), langsung cap versi terbaru\r\n  23 |     if currentVer == 0 and not next(data) then\r\n  24 |         data._SchemaVersion = DataMigrator.LATEST_VERSION\r\n  25 |         return\r\n  26 |     end\r\n  27 | \r\n  28 |     -- Loop migrasi dari versi lama ke terbaru\r\n  29 |     if currentVer < DataMigrator.LATEST_VERSION then\r\n  30 |         logger:Warn(\"Migrator\", string.format(\"Migrating Data v%d -> v%d\", currentVer, DataMigrator.LATEST_VERSION))\r\n  31 |         \r\n  32 |         for v = currentVer + 1, DataMigrator.LATEST_VERSION do\r\n  33 |             local migrationFunc = MIGRATIONS[v]\r\n  34 |             if migrationFunc then\r\n  35 |                 -- Jalankan fungsi migrasi\r\n  36 |                 local success, err = pcall(function()\r\n  37 |                     data = migrationFunc(data)\r\n  38 |                 end)\r\n  39 |                 \r\n  40 |                 if not success then\r\n  41 |                     logger:Error(\"MigrationFail\", { Version = v, Error = err })\r\n  42 |                     break -- Stop migrasi jika gagal, biarkan load apa adanya (safety)\r\n  43 |                 end\r\n  44 |             end\r\n  45 |         end\r\n  46 |         \r\n  47 |         -- Update versi di data\r\n  48 |         data._SchemaVersion = DataMigrator.LATEST_VERSION\r\n  49 |         logger:Info(\"Migrator\", \"Migration Complete.\")\r\n  50 |     end\r\n  51 | end\r\n  52 | \r\n  53 | return DataMigrator\r\n  54 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ServerScriptService/OVHL/Core/NetworkBridge.luau</strong> (129 lines, 4.65 KB)</summary>\n\n**Rojo Path:** `game.ServerScriptService.OVHL.Core.NetworkBridge`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Component: NetworkBridge (Server v2.2 - PATCHED)\r\n   3 | -- @Role: Traffic Controller & Security Checkpoint\r\n   4 | local RS = game:GetService('ReplicatedStorage')\r\n   5 | local SS = game:GetService('ServerScriptService')\r\n   6 | \r\n   7 | local Guard = require(SS.OVHL.Core.NetworkGuard)\r\n   8 | local Loader = require(RS.OVHL.Core.Loader)\r\n   9 | local TypeValidator = Loader.Core(\"TypeValidator\")\r\n  10 | \r\n  11 | local Bridge = {}\r\n  12 | Bridge.__index = Bridge\r\n  13 | \r\n  14 | function Bridge.New(ctx)\r\n  15 |     -- Create Dedicated Security Logger\r\n  16 |     local secLog = ctx:CreateLogger(\"SECURITY\")\r\n  17 |     local netLog = ctx:CreateLogger(\"NETWORK\")\r\n  18 | \r\n  19 |     local self = setmetatable({ \r\n  20 |         _logger = netLog,\r\n  21 |         _secLog = secLog,\r\n  22 |         _limit = ctx.RateLimiter,\r\n  23 |         _root = nil,\r\n  24 |         _services = {} -- Initialize here to be safe\r\n  25 |     }, Bridge)\r\n  26 |     \r\n  27 |     self._root = RS:FindFirstChild('OVHL_Remotes') or Instance.new('Folder', RS)\r\n  28 |     self._root.Name = 'OVHL_Remotes'\r\n  29 |     \r\n  30 |     -- [CCTV] Verification Log\r\n  31 |     self._secLog:Info(\"System\", \"üõ°Ô∏è Security Systems (Guard & Limiter) Connected\")\r\n  32 |     \r\n  33 |     return self\r\n  34 | end\r\n  35 | \r\n  36 | function Bridge:Register(serviceName, netConfig)\r\n  37 |     local reqs = netConfig and netConfig.Requests or {}\r\n  38 |     for methodName, rules in pairs(reqs) do\r\n  39 |         local remoteName = serviceName .. '_' .. methodName\r\n  40 |         local rf = self._root:FindFirstChild(remoteName) or Instance.new('RemoteFunction', self._root)\r\n  41 |         rf.Name = remoteName\r\n  42 |         \r\n  43 |         local limitKey = serviceName .. ':' .. methodName\r\n  44 |         if rules.RateLimit and self._limit then\r\n  45 |             self._limit:SetRule(limitKey, rules.RateLimit.Max, rules.RateLimit.Interval)\r\n  46 |         end\r\n  47 |         \r\n  48 |         rf.OnServerInvoke = function(player, ...)\r\n  49 |             return self:_handleInvoke(player, serviceName, methodName, rules, ...)\r\n  50 |         end\r\n  51 |     end\r\n  52 | \r\n  53 |     local events = netConfig and netConfig.Events or {}\r\n  54 |     for _, eventName in ipairs(events) do\r\n  55 |         local remoteName = serviceName .. '/' .. eventName\r\n  56 |         local re = self._root:FindFirstChild(remoteName) or Instance.new(\"RemoteEvent\", self._root)\r\n  57 |         re.Name = remoteName\r\n  58 |     end\r\n  59 |     \r\n  60 |     -- Return handle for local context usage if needed\r\n  61 |     return { \r\n  62 |         OnInvoke = function() end, \r\n  63 |         Fire = function(plr, evt, ...) self:Fire(plr, serviceName, evt, ...) end,\r\n  64 |         FireAll = function(evt, ...) self:FireAll(serviceName, evt, ...) end\r\n  65 |     }\r\n  66 | end\r\n  67 | \r\n  68 | function Bridge:_handleInvoke(player, serviceName, methodName, rules, ...)\r\n  69 |     -- A. Rate Limit\r\n  70 |     local limitKey = serviceName .. ':' .. methodName\r\n  71 |     if rules.RateLimit and self._limit and not self._limit:Check(player, limitKey) then\r\n  72 |         self._secLog:Warn(\"RateLimit\", {Plr=player.Name, Action=methodName})\r\n  73 |         return { Success=false, Error='Too Many Requests', Code=429 }\r\n  74 |     end\r\n  75 |     \r\n  76 |     -- B. Inbound Guard\r\n  77 |     local rawArgs = {...}\r\n  78 |     local cleanArgs = {}\r\n  79 |     for i,v in ipairs(rawArgs) do cleanArgs[i] = Guard.CleanIn(v, 0, player) end\r\n  80 |     \r\n  81 |     -- C. Type Validator\r\n  82 |     if rules.Args then\r\n  83 |         local ok, err = TypeValidator.Validate(cleanArgs, rules.Args)\r\n  84 |         if not ok then return { Success=false, Error='Invalid Arguments', Code=400 } end\r\n  85 |     end\r\n  86 |     \r\n  87 |     -- D. Execution\r\n  88 |     local service = self._services[serviceName]\r\n  89 |     if service and service[methodName] then\r\n  90 |         local success, result = pcall(service[methodName], service, player, table.unpack(cleanArgs))\r\n  91 |         if not success then \r\n  92 |             self._logger:Error(\"ExecError\", {Srv=serviceName, Mtd=methodName, Err=result})\r\n  93 |             return { Success=false, Error='Internal Server Error' } \r\n  94 |         end\r\n  95 |         \r\n  96 |         -- E. Outbound Guard\r\n  97 |         local sanitized = Guard.SanitizeOutbound(result)\r\n  98 |         if type(sanitized) == \"table\" and sanitized.Success ~= nil then return sanitized end\r\n  99 |         return { Success=true, Data=sanitized }\r\n 100 |     end\r\n 101 |     \r\n 102 |     return { Success=false, Error='Service Not Bound' }\r\n 103 | end\r\n 104 | \r\n 105 | function Bridge:Bind(name, srv) self._services[name] = srv end\r\n 106 | \r\n 107 | -- [PATCH] MISSING METHODS RESTORED\r\n 108 | function Bridge:Fire(player, serviceName, eventName, ...)\r\n 109 |     local remoteName = serviceName .. '/' .. eventName\r\n 110 |     local re = self._root:FindFirstChild(remoteName)\r\n 111 |     if re and re:IsA(\"RemoteEvent\") then\r\n 112 |         re:FireClient(player, ...)\r\n 113 |     else\r\n 114 |         warn(\"[Bridge] Fire Failed: RemoteEvent '\"..remoteName..\"' not found\")\r\n 115 |     end\r\n 116 | end\r\n 117 | \r\n 118 | function Bridge:FireAll(serviceName, eventName, ...)\r\n 119 |     local remoteName = serviceName .. '/' .. eventName\r\n 120 |     local re = self._root:FindFirstChild(remoteName)\r\n 121 |     if re and re:IsA(\"RemoteEvent\") then\r\n 122 |         re:FireAllClients(...)\r\n 123 |     else\r\n 124 |         warn(\"[Bridge] FireAll Failed: RemoteEvent '\"..remoteName..\"' not found\")\r\n 125 |     end\r\n 126 | end\r\n 127 | \r\n 128 | return Bridge\r\n 129 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ServerScriptService/OVHL/Core/NetworkGuard.luau</strong> (98 lines, 2.78 KB)</summary>\n\n**Rojo Path:** `game.ServerScriptService.OVHL.Core.NetworkGuard`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Core: NetworkGuard v1.1 (With CCTV)\r\n   3 | -- @Role: Firewall with Logging Capabilities\r\n   4 | local RS = game:GetService(\"ReplicatedStorage\")\r\n   5 | -- [FIX] Manual Path for internal core usage prevents circular dep issues in Loader\r\n   6 | local SmartLogger = require(RS.OVHL.Core.SmartLogger) \r\n   7 | \r\n   8 | local NetworkGuard = {}\r\n   9 | local Logger = SmartLogger.New(\"SECURITY\")\r\n  10 | \r\n  11 | local MAX_DEPTH = 10\r\n  12 | local SENSITIVE_KEYS = {\r\n  13 |     \"token\", \"api_key\", \"secret\", \"password\", \"auth\", \"private\"\r\n  14 | }\r\n  15 | \r\n  16 | -- [[ INBOUND: CLIENT -> SERVER ]]\r\n  17 | function NetworkGuard.CleanIn(val, depth, player)\r\n  18 |     depth = depth or 0\r\n  19 |     if depth > MAX_DEPTH then \r\n  20 |         Logger:Warn(\"Overflow\", {Msg=\"Recursion depth exceeded\", Plr=tostring(player)})\r\n  21 |         return nil \r\n  22 |     end\r\n  23 |     \r\n  24 |     local t = typeof(val)\r\n  25 |     \r\n  26 |     -- 1. Block Instances (CRITICAL LOG)\r\n  27 |     if t == \"Instance\" then\r\n  28 |         Logger:Warn(\"ExploitAttempt\", {\r\n  29 |             Msg = \"Instance type dropped from request\",\r\n  30 |             Val = tostring(val),\r\n  31 |             Plr = tostring(player)\r\n  32 |         })\r\n  33 |         return nil \r\n  34 |     end\r\n  35 |     \r\n  36 |     -- 2. Sanitize Strings\r\n  37 |     if t == \"string\" then\r\n  38 |         if #val > 2048 then \r\n  39 |             return string.sub(val, 1, 2048) \r\n  40 |         end\r\n  41 |         return val\r\n  42 |     end\r\n  43 |     \r\n  44 |     -- 3. Recursively Clean Tables\r\n  45 |     if t == \"table\" then\r\n  46 |         local clean = {}\r\n  47 |         for k, v in pairs(val) do\r\n  48 |             if type(k) == \"string\" or type(k) == \"number\" then\r\n  49 |                 local cleanVal = NetworkGuard.CleanIn(v, depth + 1, player)\r\n  50 |                 if cleanVal ~= nil then\r\n  51 |                     clean[k] = cleanVal\r\n  52 |                 end\r\n  53 |             end\r\n  54 |         end\r\n  55 |         return clean\r\n  56 |     end\r\n  57 |     \r\n  58 |     return val\r\n  59 | end\r\n  60 | \r\n  61 | -- [[ OUTBOUND: SERVER -> CLIENT ]]\r\n  62 | function NetworkGuard.SanitizeOutbound(val, depth)\r\n  63 |     depth = depth or 0\r\n  64 |     if depth > MAX_DEPTH then return nil end\r\n  65 |     \r\n  66 |     local t = typeof(val)\r\n  67 |     \r\n  68 |     if t == \"table\" then\r\n  69 |         local clean = {}\r\n  70 |         for k, v in pairs(val) do\r\n  71 |             local isSafe = true\r\n  72 |             \r\n  73 |             -- Redact Sensitive Keys (AUDIT LOG)\r\n  74 |             if type(k) == \"string\" then\r\n  75 |                 local lowerKey = k:lower()\r\n  76 |                 for _, badWord in ipairs(SENSITIVE_KEYS) do\r\n  77 |                     if lowerKey:find(badWord) then\r\n  78 |                         clean[k] = \"[REDACTED]\"\r\n  79 |                         isSafe = false\r\n  80 |                         -- Kita log di Debug level aja biar gak spam kalau emang intentional\r\n  81 |                         Logger:Debug(\"Redacted\", {Key=k})\r\n  82 |                         break\r\n  83 |                     end\r\n  84 |                 end\r\n  85 |             end\r\n  86 |             \r\n  87 |             if isSafe then\r\n  88 |                 clean[k] = NetworkGuard.SanitizeOutbound(v, depth + 1)\r\n  89 |             end\r\n  90 |         end\r\n  91 |         return clean\r\n  92 |     end\r\n  93 |     \r\n  94 |     return val\r\n  95 | end\r\n  96 | \r\n  97 | return NetworkGuard\r\n  98 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ServerScriptService/OVHL/Core/RateLimiter.luau</strong> (64 lines, 1.75 KB)</summary>\n\n**Rojo Path:** `game.ServerScriptService.OVHL.Core.RateLimiter`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Core: RateLimiter v1.0\r\n   3 | -- @Algo: Token Bucket (Allows Burst, Throttles Sustained)\r\n   4 | local RateLimiter = {}\r\n   5 | RateLimiter.__index = RateLimiter\r\n   6 | \r\n   7 | -- Cache Structure:\r\n   8 | -- _buckets[PlayerId][ActionKey] = { Tokens = number, LastUpdate = os.time() }\r\n   9 | \r\n  10 | function RateLimiter.New()\r\n  11 |     local self = setmetatable({\r\n  12 |         _buckets = {}\r\n  13 |     }, RateLimiter)\r\n  14 |     return self\r\n  15 | end\r\n  16 | \r\n  17 | function RateLimiter:Check(player, actionKey, maxTokens, interval)\r\n  18 |     -- 1. Validasi Input\r\n  19 |     if not player or not actionKey then return false end\r\n  20 |     maxTokens = maxTokens or 10\r\n  21 |     interval = interval or 1\r\n  22 |     \r\n  23 |     local userId = player.UserId\r\n  24 |     local now = os.clock() -- Gunakan clock untuk presisi sub-detik\r\n  25 |     \r\n  26 |     -- 2. Init Player Cache\r\n  27 |     if not self._buckets[userId] then\r\n  28 |         self._buckets[userId] = {}\r\n  29 |     end\r\n  30 |     \r\n  31 |     -- 3. Init Action Bucket\r\n  32 |     local bucket = self._buckets[userId][actionKey]\r\n  33 |     if not bucket then\r\n  34 |         bucket = {\r\n  35 |             Tokens = maxTokens,\r\n  36 |             LastUpdate = now\r\n  37 |         }\r\n  38 |         self._buckets[userId][actionKey] = bucket\r\n  39 |     end\r\n  40 |     \r\n  41 |     -- 4. Refill Logic (Token regeneration)\r\n  42 |     local delta = now - bucket.LastUpdate\r\n  43 |     local refillRate = maxTokens / interval -- Token per detik\r\n  44 |     local tokensToAdd = delta * refillRate\r\n  45 |     \r\n  46 |     bucket.Tokens = math.min(maxTokens, bucket.Tokens + tokensToAdd)\r\n  47 |     bucket.LastUpdate = now\r\n  48 |     \r\n  49 |     -- 5. Consumption Logic\r\n  50 |     if bucket.Tokens >= 1 then\r\n  51 |         bucket.Tokens = bucket.Tokens - 1\r\n  52 |         return true -- Allowed\r\n  53 |     else\r\n  54 |         return false -- Rate Limited\r\n  55 |     end\r\n  56 | end\r\n  57 | \r\n  58 | -- Optional: Cleanup mechanism for disconnected players could go here\r\n  59 | function RateLimiter:Cleanup(player)\r\n  60 |     self._buckets[player.UserId] = nil\r\n  61 | end\r\n  62 | \r\n  63 | return RateLimiter\r\n  64 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ServerScriptService/OVHL/Core/ServerKernel.luau</strong> (88 lines, 2.31 KB)</summary>\n\n**Rojo Path:** `game.ServerScriptService.OVHL.Core.ServerKernel`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Kernel: Server v0.6.2 (Luau Standard)\r\n   3 | local ServerScriptService = game:GetService(\"ServerScriptService\")\r\n   4 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)\r\n   5 | \r\n   6 | local Context = Loader.Core(\"Context\")\r\n   7 | local SmartLogger = Loader.Core(\"SmartLogger\")\r\n   8 | local Manifest = Loader.Core(\"Manifest\")\r\n   9 | -- Loader will automatically resolve \"Networking/Bridge\" to Bridge.luau\r\n  10 | local Bridge = Loader.Server(\"Core/NetworkBridge\")\r\n  11 | \r\n  12 | local Adapters = {\r\n  13 | \tDB = require(ServerScriptService.OVHL.Core.Permissions.Adapters.InternalDB),\r\n  14 | \tHD = require(ServerScriptService.OVHL.Core.Permissions.Adapters.HDAdmin),\r\n  15 | }\r\n  16 | \r\n  17 | local ServerKernel = {}\r\n  18 | \r\n  19 | function ServerKernel.Boot()\r\n  20 | \tlocal Log = SmartLogger.New(\"SYSTEM\")\r\n  21 | \tLog:Info(\r\n  22 | \t\tstring.format(\r\n  23 | \t\t\t\"üöÄ %s v%s (%s) SERVER STARTING...\",\r\n  24 | \t\t\tManifest.Identity.Name,\r\n  25 | \t\t\tManifest.Version.Full,\r\n  26 | \t\t\tManifest.Metadata.BuildType\r\n  27 | \t\t)\r\n  28 | \t)\r\n  29 | \r\n  30 | \tlocal services = {}\r\n  31 | \r\n  32 | \tlocal function register(module, featureName)\r\n  33 | \t\tif module:IsA(\"ModuleScript\") then\r\n  34 | \t\t\tlocal ok, res = pcall(require, module)\r\n  35 | \t\t\tif ok then\r\n  36 | \t\t\t\tlocal finalName = module.Name\r\n  37 | \t\t\t\tif featureName and (module.Name == \"Service\" or module.Name == \"Service.luau\") then\r\n  38 | \t\t\t\t\tfinalName = featureName .. \"Service\"\r\n  39 | \t\t\t\tend\r\n  40 | \t\t\t\tservices[finalName] = res\r\n  41 | \t\t\t\tLog:Debug(string.format(\"   + Service Registered: %-20s (Source: %s)\", finalName, module.Name))\r\n  42 | \t\t\tend\r\n  43 | \t\tend\r\n  44 | \tend\r\n  45 | \r\n  46 | \tLog:Info(\"üîç Scanning Services...\")\r\n  47 | \tlocal coreFolder = ServerScriptService.OVHL.Services\r\n  48 | \tfor _, mod in ipairs(coreFolder:GetChildren()) do\r\n  49 | \t\tregister(mod)\r\n  50 | \tend\r\n  51 | \r\n  52 | \tlocal modulesFolder = ServerScriptService.OVHL.Modules\r\n  53 | \tfor _, feature in ipairs(modulesFolder:GetChildren()) do\r\n  54 | \t\tif feature:IsA(\"Folder\") then\r\n  55 | \t\t\tfor _, file in ipairs(feature:GetChildren()) do\r\n  56 | \t\t\t\tif file.Name:match(\"Service$\") then\r\n  57 | \t\t\t\t\tregister(file, feature.Name)\r\n  58 | \t\t\t\tend\r\n  59 | \t\t\tend\r\n  60 | \t\tend\r\n  61 | \tend\r\n  62 | \r\n  63 | \tservices.Adapters = Adapters\r\n  64 | \r\n  65 | \tlocal ctx = Context.New(services)\r\n  66 | \r\n  67 | \t-- [FIX] Pass Context to Bridge (Critical for Security Logger)\r\n  68 | \tctx.Network = Bridge.New(ctx)\r\n  69 | \r\n  70 | \tLog:Info(\"Phase 1: Init\")\r\n  71 | \tfor _, srv in pairs(services) do\r\n  72 | \t\tif srv.Init then\r\n  73 | \t\t\tpcall(srv.Init, srv, ctx)\r\n  74 | \t\tend\r\n  75 | \tend\r\n  76 | \r\n  77 | \tLog:Info(\"Phase 2: Start\")\r\n  78 | \tfor _, srv in pairs(services) do\r\n  79 | \t\tif srv.Start then\r\n  80 | \t\t\ttask.spawn(srv.Start, srv)\r\n  81 | \t\tend\r\n  82 | \tend\r\n  83 | \r\n  84 | \tLog:Info(\"‚úÖ SERVER BOOT COMPLETE\")\r\n  85 | end\r\n  86 | \r\n  87 | return ServerKernel\r\n  88 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ServerScriptService/OVHL/Services/DataManagerService.luau</strong> (124 lines, 2.89 KB)</summary>\n\n**Rojo Path:** `game.ServerScriptService.OVHL.Services.DataManagerService`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Service: DataManager v2.4 (FINAL AUDIT FIX)\r\n   3 | local Players = game:GetService(\"Players\")\r\n   4 | local RS = game:GetService(\"ReplicatedStorage\")\r\n   5 | local SS = game:GetService(\"ServerScriptService\")\r\n   6 | \r\n   7 | local Loader = require(RS.OVHL.Core.Loader)\r\n   8 | local ProfileService = Loader.Pkg(\"ProfileService\")\r\n   9 | local Env = Loader.Core.Env\r\n  10 | local DataMigrator = require(SS.OVHL.Core.DataMigrator)\r\n  11 | \r\n  12 | local DataManager = {}\r\n  13 | local ProfileStore = nil\r\n  14 | local Profiles = {}\r\n  15 | \r\n  16 | local DATA_TEMPLATE = {\r\n  17 | \t_SchemaVersion = 1,\r\n  18 | \tCoins = 0,\r\n  19 | \tLevel = 1,\r\n  20 | \tInventory = {},\r\n  21 | \tMeta = { FirstJoin = 0, LastLogin = 0 },\r\n  22 | }\r\n  23 | \r\n  24 | function DataManager:Init(ctx)\r\n  25 | \tself.Logger = ctx:CreateLogger(\"DATA\")\r\n  26 | \tlocal storeName = Env.IsStudio() and \"OVHL_Dev_01\" or \"OVHL_Prod_01\"\r\n  27 | \r\n  28 | \t-- Setup Store\r\n  29 | \tif Env.MockDataStore() then\r\n  30 | \t\tProfileStore = ProfileService.GetProfileStore({ Name = storeName, Scope = \"Mock\" }, DATA_TEMPLATE)\r\n  31 | \t\tProfileStore = ProfileStore.Mock\r\n  32 | \telse\r\n  33 | \t\tProfileStore = ProfileService.GetProfileStore(storeName, DATA_TEMPLATE)\r\n  34 | \tend\r\n  35 | \r\n  36 | \t-- Bind Cleanup\r\n  37 | \tgame:BindToClose(function()\r\n  38 | \t\tself:Shutdown()\r\n  39 | \tend)\r\n  40 | end\r\n  41 | \r\n  42 | function DataManager:Start()\r\n  43 | \t-- Listeners\r\n  44 | \tPlayers.PlayerAdded:Connect(function(p)\r\n  45 | \t\ttask.spawn(function()\r\n  46 | \t\t\tself:OnJoin(p)\r\n  47 | \t\tend)\r\n  48 | \tend)\r\n  49 | \tPlayers.PlayerRemoving:Connect(function(p)\r\n  50 | \t\tself:OnQuit(p)\r\n  51 | \tend)\r\n  52 | \r\n  53 | \t-- Handle existing\r\n  54 | \tfor _, player in ipairs(Players:GetPlayers()) do\r\n  55 | \t\ttask.spawn(function()\r\n  56 | \t\t\tself:OnJoin(player)\r\n  57 | \t\tend)\r\n  58 | \tend\r\n  59 | end\r\n  60 | \r\n  61 | function DataManager:Shutdown()\r\n  62 | \t-- CLEANUP WITHOUT WAIT (ProfileService handles sync internally on Close)\r\n  63 | \tfor player, profile in pairs(Profiles) do\r\n  64 | \t\tif profile then\r\n  65 | \t\t\tprofile:Release()\r\n  66 | \t\tend\r\n  67 | \tend\r\n  68 | end\r\n  69 | \r\n  70 | function DataManager:OnJoin(player)\r\n  71 | \tif Profiles[player] then\r\n  72 | \t\treturn\r\n  73 | \tend\r\n  74 | \r\n  75 | \t-- NO MANUAL RETRY/WAIT HERE - Rely on ProfileService auto-retry logic\r\n  76 | \tlocal profile = ProfileStore:LoadProfileAsync(\"Player_\" .. player.UserId)\r\n  77 | \r\n  78 | \tif profile then\r\n  79 | \t\tprofile:AddUserId(player.UserId)\r\n  80 | \t\tprofile:Reconcile()\r\n  81 | \t\tDataMigrator.Migrate(profile, self.Logger)\r\n  82 | \r\n  83 | \t\tprofile:ListenToRelease(function()\r\n  84 | \t\t\tProfiles[player] = nil\r\n  85 | \t\t\tpcall(function()\r\n  86 | \t\t\t\tplayer:Kick(\"Session End\")\r\n  87 | \t\t\tend)\r\n  88 | \t\tend)\r\n  89 | \r\n  90 | \t\tif player:IsDescendantOf(Players) then\r\n  91 | \t\t\tProfiles[player] = profile\r\n  92 | \t\t\t-- Init timestamps\r\n  93 | \t\t\tlocal d = profile.Data\r\n  94 | \t\t\tif d.Meta.FirstJoin == 0 then\r\n  95 | \t\t\t\td.Meta.FirstJoin = os.time()\r\n  96 | \t\t\tend\r\n  97 | \t\t\td.Meta.LastLogin = os.time()\r\n  98 | \t\t\tself.Logger:Info(\"LoadOK\", { User = player.Name })\r\n  99 | \t\telse\r\n 100 | \t\t\tprofile:Release()\r\n 101 | \t\tend\r\n 102 | \telse\r\n 103 | \t\tself.Logger:Error(\"LoadFail\", \"DataStore Critical Failure: \" .. player.Name)\r\n 104 | \t\tpcall(function()\r\n 105 | \t\t\tplayer:Kick(\"Data Load Failed. Please Rejoin.\")\r\n 106 | \t\tend)\r\n 107 | \tend\r\n 108 | end\r\n 109 | \r\n 110 | function DataManager:OnQuit(player)\r\n 111 | \tlocal profile = Profiles[player]\r\n 112 | \tif profile then\r\n 113 | \t\tprofile:Release()\r\n 114 | \tend\r\n 115 | \tProfiles[player] = nil\r\n 116 | end\r\n 117 | \r\n 118 | function DataManager:Get(player)\r\n 119 | \tlocal profile = Profiles[player]\r\n 120 | \treturn profile and profile.Data\r\n 121 | end\r\n 122 | \r\n 123 | return DataManager\r\n 124 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ServerScriptService/OVHL/Services/MonetizationService.luau</strong> (48 lines, 1.38 KB)</summary>\n\n**Rojo Path:** `game.ServerScriptService.OVHL.Services.MonetizationService`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Service: MonetizationService\r\n   3 | local MarketplaceService = game:GetService(\"MarketplaceService\")\r\n   4 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)\r\n   5 | \r\n   6 | local MonetizationService = {}\r\n   7 | local Handlers = {}\r\n   8 | \r\n   9 | function MonetizationService:Init(ctx)\r\n  10 |     self.Logger = ctx:CreateLogger(\"SHOP\")\r\n  11 | \tself.Network = ctx.Network\r\n  12 | \tself.Network:Bind(\"Monetization\", self)\r\n  13 | end\r\n  14 | \r\n  15 | function MonetizationService:Start()\r\n  16 |     MarketplaceService.ProcessReceipt = function(info)\r\n  17 |         return self:Process(info)\r\n  18 |     end\r\n  19 | end\r\n  20 | \r\n  21 | function MonetizationService:Shutdown() \r\n  22 |     -- No critical cleanup needed for receipts, handled by Roblox retry\r\n  23 | end\r\n  24 | \r\n  25 | function MonetizationService:RegisterProduct(id, func)\r\n  26 |     Handlers[id] = func\r\n  27 | end\r\n  28 | \r\n  29 | function MonetizationService:Process(info)\r\n  30 |     local handler = Handlers[info.ProductId]\r\n  31 |     local player = game.Players:GetPlayerByUserId(info.PlayerId)\r\n  32 |     \r\n  33 |     if not player then return Enum.ProductPurchaseDecision.NotProcessedYet end\r\n  34 |     \r\n  35 |     if handler then\r\n  36 |         local s, r = pcall(handler, player, info)\r\n  37 |         if s then\r\n  38 |             self.Logger:Info(\"Purchase OK\", {Product=info.ProductId})\r\n  39 |             return Enum.ProductPurchaseDecision.PurchaseGranted\r\n  40 |         else\r\n  41 |             self.Logger:Error(\"Purchase Error\", {Error=r})\r\n  42 |         end\r\n  43 |     end\r\n  44 |     return Enum.ProductPurchaseDecision.NotProcessedYet\r\n  45 | end\r\n  46 | \r\n  47 | return MonetizationService\r\n  48 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ServerScriptService/OVHL/Services/PermissionService.luau</strong> (133 lines, 4.67 KB)</summary>\n\n**Rojo Path:** `game.ServerScriptService.OVHL.Services.PermissionService`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Service: PermissionService (REFACTORED: V3 COMPLIANT)\r\n   3 | local Players = game:GetService(\"Players\")\r\n   4 | local SSS = game:GetService(\"ServerScriptService\")\r\n   5 | local Cfg = require(SSS.OVHL.Config.PermissionConfig)\r\n   6 | \r\n   7 | local Hub = {}\r\n   8 | \r\n   9 | function Hub:Init(ctx)\r\n  10 |     -- [1] Init bersih: Hanya setup dependencies & register routes\r\n  11 |     self.Logger = ctx:CreateLogger(\"PERMISSION\")\r\n  12 |     self.DB = ctx.Adapters.DB\r\n  13 |     self.HD = ctx.Adapters.HD\r\n  14 |     self.Network = ctx.Network\r\n  15 |     self._cache = {} \r\n  16 |     self.RANKS = { GUEST = 0, VIP = 1, MOD = 2, ADMIN = 3, HEAD = 4, OWNER = 5 }\r\n  17 | \r\n  18 |     self.Network:Register(\"Permission\", {\r\n  19 |         Requests = {\r\n  20 |             SetRank = {\r\n  21 |                 RateLimit = { Max = 10, Interval = 60 },\r\n  22 |                 Args = { { name = \"targetUserId\", type = \"number\" }, { name = \"rankId\", type = \"number\" } }\r\n  23 |             },\r\n  24 |             GetPlayers = { \r\n  25 |                 RateLimit = { Max = 5, Interval = 1 }, \r\n  26 |                 Args = {} \r\n  27 |             },\r\n  28 |         },\r\n  29 |         Events = { \"RankChanged\" },\r\n  30 |     })\r\n  31 | \r\n  32 |     self.Network:Bind(\"Permission\", self)\r\n  33 |     self.Logger:Info(\"System\", \"üõ°Ô∏è Permission System Initialized\")\r\n  34 | end\r\n  35 | \r\n  36 | function Hub:Start()\r\n  37 |     -- [2] Pindahkan Logic Berat ke Start (Async)\r\n  38 |     Players.PlayerAdded:Connect(function(p) self:OnJoin(p) end)\r\n  39 |     \r\n  40 |     -- Scan players existing\r\n  41 |     for _, p in ipairs(Players:GetPlayers()) do self:OnJoin(p) end\r\n  42 | \r\n  43 |     -- Handle HD Admin Integration Async\r\n  44 |     if Cfg.Provider == \"HDAdmin\" then\r\n  45 |         task.spawn(function()\r\n  46 |             -- Retry logic moved to dedicated routine outside Init blocker\r\n  47 |             local ready = self.HD.WaitForAPI(10) -- Max 10s wait but inside spawn\r\n  48 |             if ready then\r\n  49 |                 self.Logger:Info(\"Link\", \"HD Admin Integration Ready\")\r\n  50 |                 -- Re-resolve all players\r\n  51 |                 for _, p in ipairs(Players:GetPlayers()) do self:Resolve(p) end\r\n  52 |             else\r\n  53 |                 self.Logger:Warn(\"Link\", \"HD Admin not found within timeout. Defaulting to InternalDB.\")\r\n  54 |             end\r\n  55 |         end)\r\n  56 |     end\r\n  57 | end\r\n  58 | \r\n  59 | function Hub:OnJoin(p)\r\n  60 |     if not p.Parent then return end\r\n  61 |     self:Resolve(p)\r\n  62 | end\r\n  63 | \r\n  64 | function Hub:Resolve(p)\r\n  65 |     local rawDB = self.DB.Get(p.UserId) or 0\r\n  66 |     local rawHD = 0\r\n  67 | \r\n  68 |     -- HD Admin Check (Safe Call)\r\n  69 |     if Cfg.Provider == \"HDAdmin\" and self.HD then\r\n  70 |         local success, rank = pcall(function() return self.HD.GetRank(p) end)\r\n  71 |         if success and type(rank) == \"number\" then rawHD = rank end\r\n  72 |     end\r\n  73 | \r\n  74 |     local isOwner = (p.UserId == game.CreatorId and Cfg.Settings.OwnerIsSuperAdmin)\r\n  75 |     local r, s = 0, \"GUEST\"\r\n  76 | \r\n  77 |     if rawDB > r then r = rawDB; s = \"INTERNAL_DB\" end\r\n  78 |     if rawHD > r then r = rawHD; s = \"HD_ADMIN\" end\r\n  79 |     if isOwner then r = 5; s = \"OWNER\" end\r\n  80 | \r\n  81 |     local oldRank = p:GetAttribute(\"OVHL_Rank\")\r\n  82 |     if oldRank ~= r then\r\n  83 |         p:SetAttribute(\"OVHL_Rank\", r)\r\n  84 |         p:SetAttribute(\"OVHL_Role\", s)\r\n  85 |         self.Network:FireAll(\"Permission\", \"RankChanged\", p.UserId, r)\r\n  86 |         \r\n  87 |         -- Logging Identity (Structured)\r\n  88 |         self.Logger:Debug(\"IdentityResolve\", { User=p.Name, Rank=r, Source=s })\r\n  89 |     end\r\n  90 | end\r\n  91 | \r\n  92 | function Hub:SetRank(adminPlayer, targetUserId, newRank)\r\n  93 |     -- Security Check\r\n  94 |     local myRank = adminPlayer:GetAttribute(\"OVHL_Rank\") or 0\r\n  95 |     if myRank < self.RANKS.HEAD then\r\n  96 |         self.Logger:Warn(\"Security\", { Attempt=\"SetRank\", Actor=adminPlayer.Name })\r\n  97 |         -- [3] Error Masking: Jangan bocorkan logic internal\r\n  98 |         return { Success = false, Error = \"E-403: Access Denied\" }\r\n  99 |     end\r\n 100 | \r\n 101 |     if newRank < 0 or newRank > self.RANKS.OWNER then\r\n 102 |         return { Success = false, Error = \"E-400: Invalid Argument\" }\r\n 103 |     end\r\n 104 | \r\n 105 |     local success = self.DB.Set(targetUserId, newRank)\r\n 106 |     if success then\r\n 107 |         self.Logger:Info(\"AdminAction\", { Action=\"SetRank\", Actor=adminPlayer.Name, Target=targetUserId, Val=newRank })\r\n 108 |         \r\n 109 |         -- Refresh target if online\r\n 110 |         local target = Players:GetPlayerByUserId(targetUserId)\r\n 111 |         if target then self:Resolve(target) end\r\n 112 |         \r\n 113 |         return { Success = true, Data = \"Rank Updated\" }\r\n 114 |     else\r\n 115 |         -- [3] Error Masking\r\n 116 |         self.Logger:Error(\"DBWrite\", \"Failed to set rank for \"..targetUserId)\r\n 117 |         return { Success = false, Error = \"E-500: System Error\" }\r\n 118 |     end\r\n 119 | end\r\n 120 | \r\n 121 | function Hub:GetPlayers(player)\r\n 122 |     local myRank = player:GetAttribute(\"OVHL_Rank\") or 0\r\n 123 |     if myRank < self.RANKS.ADMIN then return { Success = false, Data = {} } end\r\n 124 | \r\n 125 |     local list = {}\r\n 126 |     for _, p in ipairs(Players:GetPlayers()) do\r\n 127 |         table.insert(list, { UserId = p.UserId, Name = p.Name, Rank = p:GetAttribute(\"OVHL_Rank\") or 0, Role = p:GetAttribute(\"OVHL_Role\") })\r\n 128 |     end\r\n 129 |     return { Success = true, Data = list }\r\n 130 | end\r\n 131 | \r\n 132 | return Hub\r\n 133 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ServerScriptService/OVHL/Modules/Inventory/InventoryService.luau</strong> (62 lines, 2.35 KB)</summary>\n\n**Rojo Path:** `game.ServerScriptService.OVHL.Modules.Inventory.InventoryService`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Service: InventoryService (REFACTORED: Scoped Data)\r\n   3 | local RS = game:GetService(\"ReplicatedStorage\")\r\n   4 | local Loader = require(RS.OVHL.Core.Loader)\r\n   5 | local Cfg = Loader.Module(\"Inventory\").SharedConfig\r\n   6 | \r\n   7 | local Hub = {}\r\n   8 | \r\n   9 | function Hub:Init(ctx)\r\n  10 |     self.Logger = ctx:CreateLogger(\"INVENTORY\")\r\n  11 |     self.Network = ctx.Network\r\n  12 |     \r\n  13 |     -- [FIX] Move Data from Global to Instance\r\n  14 |     self._mockStorage = {\r\n  15 |         { Id = 1, Name = \"Excalibur\", Rarity = \"Epic\", Count = 1, Icon = \"rbxassetid://13006407439\", Equipped = false },\r\n  16 |         { Id = 2, Name = \"Health Potion\", Rarity = \"Common\", Count = 5, Icon = \"rbxassetid://12905487363\", Equipped = false },\r\n  17 |         { Id = 3, Name = \"Mana Crystal\", Rarity = \"Rare\", Count = 2, Icon = \"\", Equipped = false },\r\n  18 |         { Id = 4, Name = \"God Apple\", Rarity = \"Legendary\", Count = 1, Icon = \"\", Equipped = false },\r\n  19 |         { Id = 5, Name = \"Rusty Dagger\", Rarity = \"Common\", Count = 1, Icon = \"rbxassetid://13006407439\", Equipped = false },\r\n  20 |     }\r\n  21 |     \r\n  22 |     self.Network:Register(\"Inventory\", Cfg.Network)\r\n  23 |     self.Network:Bind(\"Inventory\", self)\r\n  24 |     \r\n  25 |     self.Logger:Info(\"System\", \"Inventory Active (Mock Storage)\")\r\n  26 | end\r\n  27 | \r\n  28 | function Hub:Start() end\r\n  29 | \r\n  30 | function Hub:GetItems(player)\r\n  31 |     -- Simulated fetch per player\r\n  32 |     self.Logger:Debug(\"Data\", { User = player.Name, Op = \"Fetch\" })\r\n  33 |     return { Success = true, Data = self._mockStorage }\r\n  34 | end\r\n  35 | \r\n  36 | function Hub:PerformAction(player, itemId, action)\r\n  37 |     local targetItem, index\r\n  38 |     for i, v in ipairs(self._mockStorage) do\r\n  39 |         if v.Id == itemId then targetItem = v; index = i; break end\r\n  40 |     end\r\n  41 |     \r\n  42 |     if not targetItem then \r\n  43 |         -- [FIX] Sanitized Error\r\n  44 |         return { Success = false, Error = \"Item unavailable\" } \r\n  45 |     end\r\n  46 |     \r\n  47 |     if action == \"Equip\" then\r\n  48 |         targetItem.Equipped = not targetItem.Equipped\r\n  49 |         self.Logger:Info(\"Action\", { User = player.Name, Type = action, Item = targetItem.Name })\r\n  50 |         return { Success = true, Data = { Msg = targetItem.Equipped and \"Equipped\" or \"Unequipped\" } }\r\n  51 |         \r\n  52 |     elseif action == \"Drop\" then\r\n  53 |         table.remove(self._mockStorage, index)\r\n  54 |         self.Logger:Info(\"Action\", { User = player.Name, Type = action, Item = targetItem.Name })\r\n  55 |         return { Success = true, Data = { Msg = \"Item dropped\" } }\r\n  56 |     end\r\n  57 |     \r\n  58 |     return { Success = false, Error = \"Invalid Action\" }\r\n  59 | end\r\n  60 | \r\n  61 | return Hub\r\n  62 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ServerScriptService/OVHL/Core/Permissions/Adapters/HDAdmin.luau</strong> (54 lines, 1.3 KB)</summary>\n\n**Rojo Path:** `game.ServerScriptService.OVHL.Core.Permissions.Adapters.HDAdmin`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Adapter: HDAdmin (REFACTORED)\r\n   3 | local RS = game:GetService(\"ReplicatedStorage\")\r\n   4 | \r\n   5 | local HD = {}\r\n   6 | local _api = nil\r\n   7 | \r\n   8 | -- Non-Blocking Wait Function\r\n   9 | function HD.WaitForAPI(timeout)\r\n  10 |     if _api then return true end\r\n  11 |     \r\n  12 |     local start = os.clock()\r\n  13 |     timeout = timeout or 5\r\n  14 |     \r\n  15 |     -- Attempt 1: Check Global Directly\r\n  16 |     if _G.HDAdminMain then \r\n  17 |         _api = _G.HDAdminMain\r\n  18 |         return true\r\n  19 |     end\r\n  20 | \r\n  21 |     -- Attempt 2: Scan safely\r\n  22 |     repeat\r\n  23 |         local setup = RS:FindFirstChild(\"HDAdminSetup\")\r\n  24 |         if setup and setup:IsA(\"ModuleScript\") then\r\n  25 |             local success, mod = pcall(require, setup)\r\n  26 |             if success and mod and mod.GetMain then\r\n  27 |                 _api = mod:GetMain()\r\n  28 |                 return true\r\n  29 |             end\r\n  30 |         end\r\n  31 |         \r\n  32 |         task.wait(1) -- Polling acceptable here ONLY inside task.spawn context\r\n  33 |     until (os.clock() - start) > timeout\r\n  34 |     \r\n  35 |     return false\r\n  36 | end\r\n  37 | \r\n  38 | -- Fallback Function\r\n  39 | function HD.StartScan(logger)\r\n  40 |     -- Deprecated: Handled by Service Logic now\r\n  41 | end\r\n  42 | \r\n  43 | function HD.GetRank(player)\r\n  44 |     if not _api then return 0 end\r\n  45 |     local s, cf = pcall(function() return _api:GetModule(\"cf\") end)\r\n  46 |     if s and cf then\r\n  47 |         local id = cf:GetRankId(player)\r\n  48 |         return tonumber(id) or 0\r\n  49 |     end\r\n  50 |     return 0\r\n  51 | end\r\n  52 | \r\n  53 | return HD\r\n  54 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/ServerScriptService/OVHL/Core/Permissions/Adapters/InternalDB.luau</strong> (26 lines, 642 Bytes)</summary>\n\n**Rojo Path:** `game.ServerScriptService.OVHL.Core.Permissions.Adapters.InternalDB`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Adapter: InternalDB\r\n   3 | -- Menyimpan Rank admin custom (selain HD Admin)\r\n   4 | local DataStoreService = game:GetService(\"DataStoreService\")\r\n   5 | local Store = DataStoreService:GetDataStore(\"OVHL_Perms_V1\")\r\n   6 | \r\n   7 | local DB = {}\r\n   8 | \r\n   9 | function DB.Get(userId)\r\n  10 |     local s, r = pcall(function() return Store:GetAsync(tostring(userId)) end)\r\n  11 |     if s and r then return r end\r\n  12 |     return 0\r\n  13 | end\r\n  14 | \r\n  15 | function DB.Set(userId, rank)\r\n  16 |     local key = tostring(userId)\r\n  17 |     if rank <= 0 then\r\n  18 |         pcall(function() Store:RemoveAsync(key) end)\r\n  19 |     else\r\n  20 |         pcall(function() Store:SetAsync(key, rank) end)\r\n  21 |     end\r\n  22 |     return true\r\n  23 | end\r\n  24 | \r\n  25 | return DB\r\n  26 | \n```\n</details>\n\n### üì¶ Group: Client\n\n\n<details>\n<summary><strong>üåô src/StarterPlayer/StarterPlayerScripts/OVHL/ClientRuntime.client.luau</strong> (4 lines, 92 Bytes)</summary>\n\n**Rojo Path:** `game.StarterPlayer.StarterPlayerScripts.OVHL.ClientRuntime.client`\n\n```lua\n   1 | --!strict\r\n   2 | -- Client Runtime\r\n   3 | require(game.ReplicatedStorage.OVHL.Bootstrap).StartClient()\r\n   4 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/StarterPlayer/StarterPlayerScripts/OVHL/TestRunner.client.luau</strong> (53 lines, 1.4 KB)</summary>\n\n**Rojo Path:** `game.StarterPlayer.StarterPlayerScripts.OVHL.TestRunner.client`\n\n```lua\n   1 | --!strict\r\n   2 | -- @System: TestRunner (Client Side)\r\n   3 | local ReplicatedStorage = game:GetService(\"ReplicatedStorage\")\r\n   4 | local Players = game:GetService(\"Players\")\r\n   5 | local RunService = game:GetService(\"RunService\")\r\n   6 | \r\n   7 | if not RunService:IsStudio() then\r\n   8 | \treturn\r\n   9 | end\r\n  10 | \r\n  11 | task.defer(function()\r\n  12 | \ttask.wait(3) -- Client biasanya butuh waktu lebih lama buat loading UI\r\n  13 | \r\n  14 | \tprint(\"\\nüß™ [CLIENT] STARTING TEST RUNNER...\")\r\n  15 | \r\n  16 | \t-- 1. Load TesEZ\r\n  17 | \tlocal Loader = require(ReplicatedStorage.OVHL.Core.Loader)\r\n  18 | \tlocal TesEZ\r\n  19 | \r\n  20 | \tpcall(function()\r\n  21 | \t\tTesEZ = Loader.Pkg(\"TestEZ\")\r\n  22 | \tend)\r\n  23 | \r\n  24 | \tif not TesEZ then\r\n  25 | \t\treturn\r\n  26 | \tend -- Silent fail kalau gak ada (biasanya udah teriak di server)\r\n  27 | \r\n  28 | \t-- 2. Cari Folder Test di PlayerScripts\r\n  29 | \tlocal PlayerScripts = Players.LocalPlayer:WaitForChild(\"PlayerScripts\")\r\n  30 | \tlocal ClientTests = PlayerScripts:WaitForChild(\"Tests\", 10)\r\n  31 | \r\n  32 | \tlocal testRoots = {}\r\n  33 | \tif ClientTests then\r\n  34 | \t\ttable.insert(testRoots, ClientTests)\r\n  35 | \tend\r\n  36 | \r\n  37 | \t-- Optional: Kalau mau ngetes Shared Logic (ReplicatedStorage) di client juga\r\n  38 | \t-- table.insert(testRoots, ReplicatedStorage:WaitForChild(\"Tests\"))\r\n  39 | \r\n  40 | \tif #testRoots == 0 then\r\n  41 | \t\treturn -- Gak ada test client, skip aja\r\n  42 | \tend\r\n  43 | \r\n  44 | \t-- 3. JALANIN TES!\r\n  45 | \tlocal results = TesEZ.TestBootstrap:run(testRoots)\r\n  46 | \r\n  47 | \tif results.failureCount > 0 then\r\n  48 | \t\twarn(\"‚ùå [CLIENT] FAILED: \" .. results.failureCount .. \" tests broken.\")\r\n  49 | \telse\r\n  50 | \t\tprint(\"‚úÖ [CLIENT] SUCCESS: UI & Controllers secure.\")\r\n  51 | \tend\r\n  52 | end)\r\n  53 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/StarterPlayer/StarterPlayerScripts/OVHL/Controllers/FrameworkController.luau</strong> (136 lines, 4.83 KB)</summary>\n\n**Rojo Path:** `game.StarterPlayer.StarterPlayerScripts.OVHL.Controllers.FrameworkController`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Controller: FrameworkController (V2 Standard)\r\n   3 | local RS = game:GetService(\"ReplicatedStorage\")\r\n   4 | local Loader = require(RS.OVHL.Core.Loader)\r\n   5 | local OVHL = require(RS.OVHL.Core.Framework) -- Central Import\r\n   6 | \r\n   7 | -- Libs (View & Utils tetap manual)\r\n   8 | local Fusion = Loader.Pkg(\"Fusion\")\r\n   9 | local Trove = Loader.Pkg(\"Trove\")\r\n  10 | local UI = Loader.UI.Foundation.API\r\n  11 | local Topbar = Loader.UI.Foundation.Bridges.Topbar\r\n  12 | local FrameworkPanelView = Loader.UI(\"Views/System/FrameworkPanelView\")\r\n  13 | \r\n  14 | local Ctrl = OVHL.CreateController({\r\n  15 |     Name = \"Framework\",\r\n  16 |     ConfigName = \"SystemPanelConfig\" -- Auto-load Config ke self.Config\r\n  17 | })\r\n  18 | \r\n  19 | function Ctrl:Init()\r\n  20 |     self.Player = game.Players.LocalPlayer\r\n  21 |     self._trove = Trove.new()\r\n  22 |     self.Scope = UI.NewScope()\r\n  23 |     \r\n  24 |     self.State = {\r\n  25 |         Visible = self.Scope:Value(false),\r\n  26 |         CurrentTab = self.Scope:Value(\"Dashboard\"), \r\n  27 |         PlayerList = self.Scope:Value({}),\r\n  28 |         IsLoading = self.Scope:Value(false),\r\n  29 |         SelectedPlayer = self.Scope:Value(nil),\r\n  30 |         Confirmation = self.Scope:Value(nil)\r\n  31 |     }\r\n  32 | \r\n  33 |     local mounted = UI.SafeLoader.Mount(self.Scope, FrameworkPanelView, {\r\n  34 |         Config = self.Config,\r\n  35 |         State = self.State,\r\n  36 |         OnClose = function() self:Toggle(false) end,\r\n  37 |         \r\n  38 |         Actions = {\r\n  39 |             RefreshPlayers = function() self:FetchPlayers() end,\r\n  40 |             OpenInspector = function(p) self.State.SelectedPlayer:set(p) end,\r\n  41 |             CloseInspector = function() self.State.SelectedPlayer:set(nil) end,\r\n  42 |             \r\n  43 |             -- [GUARDED ACTION via self.Guard]\r\n  44 |             RequestRankChange = function(targetData, newRankId, rankLabel)\r\n  45 |                 self.Guard.Run({ \r\n  46 |                     Confirm = {\r\n  47 |                         Title = \"CONFIRM RANK CHANGE\",\r\n  48 |                         Msg = \"Are you sure you want to promote/demote\\n\" .. targetData.Name .. \" to \" .. rankLabel .. \"?\"\r\n  49 |                     }\r\n  50 |                 }, function()\r\n  51 |                     self:SetRank(targetData.UserId, newRankId)\r\n  52 |                 end)\r\n  53 |             end,\r\n  54 | \r\n  55 |             ResolveConfirmation = function(confirmed)\r\n  56 |                 self:HandleConfirmationUI(confirmed)\r\n  57 |             end\r\n  58 |         }\r\n  59 |     })\r\n  60 |     \r\n  61 |     if mounted then self._trove:Add(mounted) end\r\n  62 |     self:UpdateTopbar()\r\n  63 |     \r\n  64 |     -- [LISTENERS via self.Bridge]\r\n  65 |     self.Bridge:Listen(\"Permission\", \"RankChanged\", function(u, r)\r\n  66 |         if u == self.Player.UserId then self:UpdateTopbar() end\r\n  67 |         if Fusion.peek(self.State.Visible) then self:FetchPlayers() end\r\n  68 |     end)\r\n  69 | \r\n  70 |     -- [GLOBAL SIGNAL]\r\n  71 |     Loader.Core(\"Signals\"):Connect(\"SystemUI:RequestConfirm\", function(payload)\r\n  72 |         self:ShowConfirmationUI(payload)\r\n  73 |     end)\r\n  74 | end\r\n  75 | \r\n  76 | function Ctrl:ShowConfirmationUI(payload)\r\n  77 |     self._pendingGuardCallback = payload.OnResult\r\n  78 |     self.State.Confirmation:set({ Title = payload.Title, Message = payload.Message })\r\n  79 |     task.delay(5, function()\r\n  80 |         local current = Fusion.peek(self.State.Confirmation)\r\n  81 |         if current and current.Title == payload.Title then\r\n  82 |             self.Logger:Info(\"AutoCancel\", \"Timeout 5s reached\")\r\n  83 |             self:HandleConfirmationUI(false)\r\n  84 |         end\r\n  85 |     end)\r\n  86 | end\r\n  87 | \r\n  88 | function Ctrl:HandleConfirmationUI(confirmed)\r\n  89 |     if self._pendingGuardCallback then self._pendingGuardCallback(confirmed) end\r\n  90 |     if confirmed then self.Logger:Info(\"UserConfirmed\", \"Action executed\")\r\n  91 |     else self.Logger:Info(\"UserCanceled\", \"Action aborted\") end\r\n  92 |     self.State.Confirmation:set(nil)\r\n  93 |     self._pendingGuardCallback = nil\r\n  94 | end\r\n  95 | \r\n  96 | function Ctrl:UpdateTopbar()\r\n  97 |     if self.Icon then return end \r\n  98 |     self.Icon = Topbar.Register(\"Framework\", self.Config.Topbar, function(isOpened) self:Toggle(isOpened) end)\r\n  99 | end\r\n 100 | \r\n 101 | function Ctrl:Toggle(forceState)\r\n 102 |     local current = Fusion.peek(self.State.Visible)\r\n 103 |     local newState = if forceState ~= nil then forceState else not current\r\n 104 |     self.State.Visible:set(newState)\r\n 105 |     if self.Icon then if newState then self.Icon:select() else self.Icon:deselect() end end\r\n 106 |     if newState then self:FetchPlayers() end\r\n 107 | end\r\n 108 | \r\n 109 | function Ctrl:FetchPlayers()\r\n 110 |     self.State.IsLoading:set(true)\r\n 111 |     self.Bridge:Request(\"Permission\", \"GetPlayers\")\r\n 112 |         :andThen(function(res)\r\n 113 |             self.State.PlayerList:set(res)\r\n 114 |             self.State.IsLoading:set(false)\r\n 115 |         end)\r\n 116 |         :catch(function(err)\r\n 117 |             self.State.IsLoading:set(false)\r\n 118 |         end)\r\n 119 | end\r\n 120 | \r\n 121 | function Ctrl:SetRank(targetId, newRank)\r\n 122 |     self.State.IsLoading:set(true)\r\n 123 |     self.State.SelectedPlayer:set(nil) \r\n 124 |     self.Bridge:Request(\"Permission\", \"SetRank\", tonumber(targetId), tonumber(newRank))\r\n 125 |         :andThen(function(res)\r\n 126 |             self.Logger:Info(\"Success\", res)\r\n 127 |             self:FetchPlayers()\r\n 128 |         end)\r\n 129 |         :catch(function(err)\r\n 130 |             warn(\"[Framework] SetRank Failed: \" .. tostring(err))\r\n 131 |             self.State.IsLoading:set(false)\r\n 132 |         end)\r\n 133 | end\r\n 134 | \r\n 135 | return Ctrl\r\n 136 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/StarterPlayer/StarterPlayerScripts/OVHL/Controllers/PermissionController.luau</strong> (33 lines, 834 Bytes)</summary>\n\n**Rojo Path:** `game.StarterPlayer.StarterPlayerScripts.OVHL.Controllers.PermissionController`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Controller: PermissionController (V2 Standard)\r\n   3 | local RS = game:GetService(\"ReplicatedStorage\")\r\n   4 | local OVHL = require(RS.OVHL.Core.Framework)\r\n   5 | \r\n   6 | local Ctrl = OVHL.CreateController({\r\n   7 |     Name = \"Permission\",\r\n   8 |     -- Tidak ada Config khusus\r\n   9 | })\r\n  10 | \r\n  11 | function Ctrl:Init()\r\n  12 |     self.Player = game.Players.LocalPlayer\r\n  13 | end\r\n  14 | \r\n  15 | function Ctrl:Start()\r\n  16 |     self.Player:GetAttributeChangedSignal(\"OVHL_Rank\"):Connect(function()\r\n  17 |         self:OnRankChanged()\r\n  18 |     end)\r\n  19 |     self:OnRankChanged()\r\n  20 | end\r\n  21 | \r\n  22 | function Ctrl:OnRankChanged()\r\n  23 |     local rank = self.Player:GetAttribute(\"OVHL_Rank\") or 0\r\n  24 |     local role = self.Player:GetAttribute(\"OVHL_Role\") or \"Guest\"\r\n  25 |     self.Logger:Info(\"Update\", { Rank = rank, Role = role })\r\n  26 | end\r\n  27 | \r\n  28 | function Ctrl:GetRank()\r\n  29 |     return self.Player:GetAttribute(\"OVHL_Rank\") or 0\r\n  30 | end\r\n  31 | \r\n  32 | return Ctrl\r\n  33 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/StarterPlayer/StarterPlayerScripts/OVHL/Core/ClientKernel.luau</strong> (89 lines, 3.02 KB)</summary>\n\n**Rojo Path:** `game.StarterPlayer.StarterPlayerScripts.OVHL.Core.ClientKernel`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Kernel: Client v0.4.0 (Standardized)\r\n   3 | local Players = game:GetService(\"Players\")\r\n   4 | local RS = game:GetService(\"ReplicatedStorage\")\r\n   5 | local Loader = require(RS.OVHL.Core.Loader)\r\n   6 | \r\n   7 | -- [STANDARD] Load Core Systems yang BENAR-BENAR ADA\r\n   8 | local ConfigLoader = Loader.Core(\"SharedConfigLoader\")\r\n   9 | local Bridge = Loader.Core(\"Networking/Bridge\")\r\n  10 | local Context = Loader.Core(\"Context\")\r\n  11 | local SmartLogger = Loader.Core(\"SmartLogger\")\r\n  12 | local Manifest = Loader.Core(\"Manifest\")\r\n  13 | \r\n  14 | local ClientKernel = {}\r\n  15 | \r\n  16 | function ClientKernel.Boot()\r\n  17 |     local Log = SmartLogger.New(\"SYSTEM\")\r\n  18 |     Log:Info(string.format(\"üéÆ %s v%s (%s) CLIENT STARTING...\", Manifest.Identity.Name, Manifest.Version.Full, Manifest.Metadata.BuildType))\r\n  19 |     \r\n  20 |     -- [STANDARD] Systems Container\r\n  21 |     local systems = {\r\n  22 |         ConfigLoader = ConfigLoader,\r\n  23 |         Network = Bridge.New(), \r\n  24 |         Controllers = {} \r\n  25 |     }\r\n  26 |     \r\n  27 |     local PlayerScripts = Players.LocalPlayer:WaitForChild(\"PlayerScripts\")\r\n  28 |     local Root = PlayerScripts:WaitForChild(\"OVHL\")\r\n  29 |     \r\n  30 |     -- [[ DISCOVERY FUNCTION ]]\r\n  31 |     local function register(module)\r\n  32 |         if module:IsA(\"ModuleScript\") then\r\n  33 |             local ok, res = pcall(require, module)\r\n  34 |             if ok then \r\n  35 |                 systems.Controllers[module.Name] = res\r\n  36 |                 systems[module.Name] = res \r\n  37 |                 Log:Debug(\"   + Controller: \" .. module.Name)\r\n  38 |             else\r\n  39 |                 Log:Error(\"   x Failed: \" .. module.Name, res)\r\n  40 |             end\r\n  41 |         end\r\n  42 |     end\r\n  43 |     \r\n  44 |     -- 1. Scan Controllers & Modules\r\n  45 |     Log:Info(\"üîç Scanning Client Modules...\")\r\n  46 |     if Root:FindFirstChild(\"Controllers\") then\r\n  47 |         for _, mod in ipairs(Root.Controllers:GetChildren()) do register(mod) end\r\n  48 |     end\r\n  49 |     if Root:FindFirstChild(\"Modules\") then\r\n  50 |         for _, feature in ipairs(Root.Modules:GetChildren()) do\r\n  51 |             if feature:IsA(\"Folder\") then\r\n  52 |                 for _, file in ipairs(feature:GetChildren()) do\r\n  53 |                     if file.Name:match(\"Controller$\") then register(file) end\r\n  54 |                 end\r\n  55 |             end\r\n  56 |         end\r\n  57 |     end\r\n  58 |     \r\n  59 |     -- [STANDARD] Context New (Context akan auto-inject SmartLogger helper)\r\n  60 |     local ctx = Context.New(systems)\r\n  61 |     \r\n  62 |     -- Lifecycle: Init\r\n  63 |     Log:Info(\"Phase 1: Init\")\r\n  64 |     for name, ctrl in pairs(systems.Controllers) do\r\n  65 |         if ctrl.Init then \r\n  66 |             task.spawn(function()\r\n  67 |                 local s, r = pcall(function() ctrl:Init(ctx) end)\r\n  68 |                 if not s then Log:Error(\"Init Fail: \" .. name, r) end\r\n  69 |             end)\r\n  70 |         end\r\n  71 |     end\r\n  72 |     \r\n  73 |     -- Lifecycle: Start\r\n  74 |     task.delay(0.1, function()\r\n  75 |         Log:Info(\"Phase 2: Start\")\r\n  76 |         for name, ctrl in pairs(systems.Controllers) do\r\n  77 |             if ctrl.Start then \r\n  78 |                 task.spawn(function() \r\n  79 |                     local s, r = pcall(function() ctrl:Start() end)\r\n  80 |                     if not s then Log:Error(\"Start Fail: \" .. name, r) end\r\n  81 |                 end) \r\n  82 |             end\r\n  83 |         end\r\n  84 |         Log:Info(\"‚úÖ CLIENT BOOT COMPLETE\")\r\n  85 |     end)\r\n  86 | end\r\n  87 | \r\n  88 | return ClientKernel\r\n  89 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/StarterPlayer/StarterPlayerScripts/OVHL/Core/FinderService.luau</strong> (87 lines, 2.69 KB)</summary>\n\n**Rojo Path:** `game.StarterPlayer.StarterPlayerScripts.OVHL.Core.FinderService`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Core: FinderService (Auto Scanner with CCTV)\r\n   3 | -- @Role: Robust UI Element Lookup\r\n   4 | local CollectionService = game:GetService(\"CollectionService\")\r\n   5 | local Players = game:GetService(\"Players\")\r\n   6 | \r\n   7 | local Player = Players.LocalPlayer\r\n   8 | local PlayerGui = Player:WaitForChild(\"PlayerGui\")\r\n   9 | \r\n  10 | -- [DEPENDENCIES]\r\n  11 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)\r\n  12 | local Logger = Loader.Core(\"SmartLogger\").New(\"UI\")\r\n  13 | \r\n  14 | local Finder = {}\r\n  15 | \r\n  16 | -- Strategy: Direct Attribute > Tag > Recursive Name\r\n  17 | function Finder.Get(query, root)\r\n  18 |     root = root or PlayerGui\r\n  19 |     \r\n  20 |     -- 1. Direct Reference by Attribute (O(1))\r\n  21 |     if type(query) == \"string\" then\r\n  22 |         local attrRef = root:GetAttribute(query)\r\n  23 |         if attrRef and typeof(attrRef) == \"Instance\" then\r\n  24 |             -- Logger:Debug(\"Finder\", {Msg=\"Found by Attribute\", Query=query}) \r\n  25 |             return attrRef\r\n  26 |         end\r\n  27 |     end\r\n  28 |     \r\n  29 |     -- 2. CollectionService Tag (O(1) Lookup)\r\n  30 |     local tagged = CollectionService:GetTagged(query)\r\n  31 |     for _, obj in ipairs(tagged) do\r\n  32 |         if obj:IsDescendantOf(root) then \r\n  33 |             -- Logger:Debug(\"Finder\", {Msg=\"Found by Tag\", Query=query})\r\n  34 |             return obj \r\n  35 |         end\r\n  36 |     end\r\n  37 | \r\n  38 |     -- 3. Standard Name Search (Fast Child & Recursive)\r\n  39 |     local child = root:FindFirstChild(query, true) \r\n  40 |     if child then \r\n  41 |         -- Logger:Debug(\"Finder\", {Msg=\"Found by Name\", Query=query})\r\n  42 |         return child \r\n  43 |     end\r\n  44 |     \r\n  45 |     -- [CCTV] Lapor jika Gagal Total\r\n  46 |     Logger:Warn(\"Missing\", {\r\n  47 |         Msg = \"GUI Element Not Found\", \r\n  48 |         Query = query, \r\n  49 |         Root = root.Name\r\n  50 |     })\r\n  51 |     \r\n  52 |     return nil\r\n  53 | end\r\n  54 | \r\n  55 | -- Digunakan untuk resolve list component dari Config\r\n  56 | function Finder.ResolveMap(screenName, componentMap)\r\n  57 |     local root = PlayerGui:FindFirstChild(screenName)\r\n  58 |     if not root then \r\n  59 |         Logger:Error(\"MissingScreen\", {Screen=screenName})\r\n  60 |         return nil, \"ScreenGui \" .. screenName .. \" not found\" \r\n  61 |     end\r\n  62 |     \r\n  63 |     local results = { _Root = root }\r\n  64 |     local missing = {}\r\n  65 |     \r\n  66 |     for key, spec in pairs(componentMap) do\r\n  67 |         local searchKey = (type(spec) == \"table\") and (spec.Tag or spec.Name) or spec\r\n  68 |         local found = Finder.Get(searchKey, root)\r\n  69 |         \r\n  70 |         if found then\r\n  71 |             results[key] = found\r\n  72 |         else\r\n  73 |             table.insert(missing, key .. \" (\" .. tostring(searchKey) .. \")\")\r\n  74 |         end\r\n  75 |     end\r\n  76 |     \r\n  77 |     if #missing > 0 then\r\n  78 |         Logger:Warn(\"IncompleteMap\", {Screen=screenName, Missing=table.concat(missing, \",\")})\r\n  79 |         return nil, \"Missing Components: \" .. table.concat(missing, \", \")\r\n  80 |     end\r\n  81 |     \r\n  82 |     -- Logger:Info(\"Resolved\", {Screen=screenName, Count=0}) -- Optional info\r\n  83 |     return results\r\n  84 | end\r\n  85 | \r\n  86 | return Finder\r\n  87 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô src/StarterPlayer/StarterPlayerScripts/OVHL/Modules/Inventory/InventoryController.luau</strong> (92 lines, 2.87 KB)</summary>\n\n**Rojo Path:** `game.StarterPlayer.StarterPlayerScripts.OVHL.Modules.Inventory.InventoryController`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Controller: InventoryController (V2 Standard)\r\n   3 | local RS = game:GetService(\"ReplicatedStorage\")\r\n   4 | local Loader = require(RS.OVHL.Core.Loader)\r\n   5 | local OVHL = require(RS.OVHL.Core.Framework)\r\n   6 | \r\n   7 | local UI = Loader.UI.Foundation.API\r\n   8 | local Fusion = UI.Fusion\r\n   9 | local Trove = Loader.Pkg(\"Trove\")\r\n  10 | local Topbar = Loader.UI.Foundation.Bridges.Topbar\r\n  11 | local InventoryView = Loader.UI.Views.Inventory.InventoryView\r\n  12 | \r\n  13 | local Ctrl = OVHL.CreateController({\r\n  14 |     Name = \"Inventory\",\r\n  15 |     ConfigName = \"Inventory\" -- Auto-load Config\r\n  16 | })\r\n  17 | \r\n  18 | function Ctrl:Init()\r\n  19 |     self._trove = Trove.new()\r\n  20 |     self.Scope = UI.NewScope()\r\n  21 |     \r\n  22 |     self.State = {\r\n  23 |         Visible = self.Scope:Value(false),\r\n  24 |         Items = self.Scope:Value({})\r\n  25 |     }\r\n  26 |     \r\n  27 |     local mounted = UI.SafeLoader.Mount(self.Scope, InventoryView, {\r\n  28 |         Config = self.Config,\r\n  29 |         State = self.State,\r\n  30 |         OnClose = function() self:Toggle(false) end,\r\n  31 |         OnAction = function(item, actionId, unlockUI) self:HandleAction(item, actionId, unlockUI) end\r\n  32 |     })\r\n  33 |     if mounted then self._trove:Add(mounted) end\r\n  34 | \r\n  35 |     self.Icon = Topbar.Register(\"Inventory\", self.Config.Topbar, function(isOpened)\r\n  36 |         self:Toggle(isOpened)\r\n  37 |     end)\r\n  38 | end\r\n  39 | \r\n  40 | function Ctrl:Start()\r\n  41 |     self:FetchData()\r\n  42 | end\r\n  43 | \r\n  44 | -- [CRITICAL FIX] Memory Cleanup\r\n  45 | -- Metode ini dipersiapkan untuk dipanggil oleh Framework saat Controller di-unload\r\n  46 | -- atau saat Player Reset/Keluar (tergantung implementasi Framework Kernel kedepannya)\r\n  47 | function Ctrl:Shutdown()\r\n  48 |     if self._trove then\r\n  49 |         self._trove:Destroy()\r\n  50 |         self._trove = nil\r\n  51 |     end\r\n  52 |     -- Scope Fusion juga perlu dibersihkan jika Framework support hot-reload\r\n  53 |     if self.Scope and self.Scope.doCleanup then\r\n  54 |         self.Scope:doCleanup()\r\n  55 |         self.Scope = nil\r\n  56 |     end\r\n  57 | end\r\n  58 | \r\n  59 | function Ctrl:HandleAction(item, actionId, unlockUI)\r\n  60 |     -- [FIX] Pake self.Guard\r\n  61 |     self.Guard.Run({ Debounce = 0.5 }, function()\r\n  62 |         -- [FIX] Pake self.Bridge\r\n  63 |         self.Bridge:Request(\"Inventory\", \"PerformAction\", item.Id, actionId)\r\n  64 |             :andThen(function(res)\r\n  65 |                 self.Logger:Info(\"ActionSuccess\", res.Msg)\r\n  66 |                 return self:FetchData() \r\n  67 |             end)\r\n  68 |             :catch(function(err)\r\n  69 |                 self.Logger:Warn(\"ActionFail\", err)\r\n  70 |             end)\r\n  71 |             :finally(function()\r\n  72 |                 unlockUI()\r\n  73 |             end)\r\n  74 |     end)\r\n  75 | end\r\n  76 | \r\n  77 | function Ctrl:FetchData()\r\n  78 |     return self.Bridge:Request(\"Inventory\", \"GetItems\")\r\n  79 |         :andThen(function(items) \r\n  80 |             self.State.Items:set(items)\r\n  81 |         end)\r\n  82 | end\r\n  83 | \r\n  84 | function Ctrl:Toggle(forceState)\r\n  85 |     local current = Fusion.peek(self.State.Visible)\r\n  86 |     local newState = if forceState ~= nil then forceState else not current\r\n  87 |     self.State.Visible:set(newState)\r\n  88 |     if self.Icon then if newState then self.Icon:select() else self.Icon:deselect() end end\r\n  89 |     if newState then self:FetchData() end\r\n  90 | end\r\n  91 | \r\n  92 | return Ctrl\n```\n</details>\n\n### üì¶ Group: Tests (Shared)\n\n\n<details>\n<summary><strong>üåô tests/ReplicatedStorage/Mocks/MockDataStore.luau</strong> (14 lines, 380 Bytes)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.Tests.Mocks.MockDataStore`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Mock: DataStore\r\n   3 | local MockDS = {}\r\n   4 | MockDS.__index = MockDS\r\n   5 | function MockDS.new() return setmetatable({_d={}}, MockDS) end\r\n   6 | function MockDS:GetAsync(k) return self._d[k] end\r\n   7 | function MockDS:SetAsync(k, v) self._d[k] = v end\r\n   8 | function MockDS:UpdateAsync(k, cb) \r\n   9 |     local v = cb(self._d[k])\r\n  10 |     if v~=nil then self._d[k]=v end\r\n  11 |     return v\r\n  12 | end\r\n  13 | return MockDS\r\n  14 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô tests/ReplicatedStorage/Mocks/MockPlayer.luau</strong> (14 lines, 505 Bytes)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.Tests.Mocks.MockPlayer`\n\n```lua\n   1 | --!strict\r\n   2 | -- @Mock: Player\r\n   3 | local MockPlayer = {}\r\n   4 | MockPlayer.__index = MockPlayer\r\n   5 | function MockPlayer.new(userId, name) \r\n   6 | \tlocal self = setmetatable({UserId=userId or 1, Name=name or \"TestPlr\", Parent=game.Players, _attr={}}, MockPlayer) \r\n   7 | \treturn self \r\n   8 | end\r\n   9 | function MockPlayer:GetAttribute(k) return self._attr[k] end\r\n  10 | function MockPlayer:SetAttribute(k, v) self._attr[k] = v end\r\n  11 | function MockPlayer:Kick() end\r\n  12 | function MockPlayer:IsDescendantOf(p) return self.Parent == p end\r\n  13 | return MockPlayer\r\n  14 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô tests/ReplicatedStorage/OVHL/Core/Context.spec.luau</strong> (35 lines, 984 Bytes)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.Tests.OVHL.Core.Context.spec`\n\n```lua\n   1 | --!strict\r\n   2 | return function()\r\n   3 | \tlocal ReplicatedStorage = game:GetService(\"ReplicatedStorage\")\r\n   4 | \tlocal Loader = require(ReplicatedStorage.OVHL.Core.Loader)\r\n   5 | \tlocal Context = Loader.Core(\"Context\")\r\n   6 | \r\n   7 | \tdescribe(\"Context\", function()\r\n   8 | \t\tit(\"should inject services\", function()\r\n   9 | \t\t\tlocal mockServices = {\r\n  10 | \t\t\t\tAuthService = { Name = \"Auth\" },\r\n  11 | \t\t\t\tDataService = { Name = \"Data\" }\r\n  12 | \t\t\t}\r\n  13 | \t\t\tlocal ctx = Context.New(mockServices)\r\n  14 | \t\t\t\r\n  15 | \t\t\texpect(ctx).to.be.ok()\r\n  16 | \t\t\texpect(ctx.AuthService).to.be.ok()\r\n  17 | \t\t\texpect(ctx.DataService).to.be.ok()\r\n  18 | \t\tend)\r\n  19 | \r\n  20 | \t\tit(\"should provide CreateLogger helper\", function()\r\n  21 | \t\t\tlocal ctx = Context.New({})\r\n  22 | \t\t\texpect(ctx.CreateLogger).to.be.a(\"function\")\r\n  23 | \t\t\t\r\n  24 | \t\t\tlocal log = ctx:CreateLogger(\"CTX_TEST\")\r\n  25 | \t\t\texpect(log).to.be.ok()\r\n  26 | \t\tend)\r\n  27 |         \r\n  28 |         it(\"should expose shared libs\", function()\r\n  29 |             local ctx = Context.New({})\r\n  30 |             expect(ctx.Signals).to.be.ok()\r\n  31 |             expect(ctx.Manifest).to.be.ok()\r\n  32 |         end)\r\n  33 | \tend)\r\n  34 | end\r\n  35 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô tests/ReplicatedStorage/OVHL/Core/Loader.spec.luau</strong> (26 lines, 873 Bytes)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.Tests.OVHL.Core.Loader.spec`\n\n```lua\n   1 | --!strict\r\n   2 | return function()\r\n   3 | \tlocal ReplicatedStorage = game:GetService(\"ReplicatedStorage\")\r\n   4 | \tlocal Loader = require(ReplicatedStorage.OVHL.Core.Loader)\r\n   5 | \r\n   6 | \tdescribe(\"Loader V2\", function()\r\n   7 | \t\tit(\"should support Dot Syntax (Loader.Core.Module)\", function()\r\n   8 | \t\t\tlocal Signals = Loader.Core.Signals\r\n   9 | \t\t\texpect(Signals).to.be.ok()\r\n  10 | \t\tend)\r\n  11 | \r\n  12 | \t\tit(\"should support Legacy Call Syntax (Loader.Core('Module'))\", function()\r\n  13 | \t\t\texpect(function()\r\n  14 |                 local Signals = Loader.Core(\"Signals\")\r\n  15 |                 expect(Signals).to.be.ok()\r\n  16 |             end).never.to.throw()\r\n  17 | \t\tend)\r\n  18 |         \r\n  19 |         it(\"should list available files on error\", function()\r\n  20 |             local ok, err = pcall(function() return Loader.Core.Ngawur end)\r\n  21 |             expect(ok).to.equal(false)\r\n  22 |             expect(string.find(tostring(err), \"Available:\")).to.be.ok()\r\n  23 |         end)\r\n  24 | \tend)\r\n  25 | end\r\n  26 | \n```\n</details>\n\n\n<details>\n<summary><strong>üåô tests/ReplicatedStorage/OVHL/Core/SmartLogger.spec.luau</strong> (30 lines, 881 Bytes)</summary>\n\n**Rojo Path:** `game.ReplicatedStorage.Tests.OVHL.Core.SmartLogger.spec`\n\n```lua\n   1 | --!strict\r\n   2 | return function()\r\n   3 | \tlocal ReplicatedStorage = game:GetService(\"ReplicatedStorage\")\r\n   4 | \tlocal Loader = require(ReplicatedStorage.OVHL.Core.Loader)\r\n   5 | \tlocal SmartLogger = Loader.Core(\"SmartLogger\")\r\n   6 | \r\n   7 | \tdescribe(\"SmartLogger\", function()\r\n   8 | \t\tit(\"should create new instance\", function()\r\n   9 | \t\t\tlocal log = SmartLogger.New(\"UNIT_TEST\")\r\n  10 | \t\t\texpect(log).to.be.ok()\r\n  11 | \t\t\texpect(log._rawDomain).to.equal(\"UNIT_TEST\")\r\n  12 | \t\tend)\r\n  13 | \r\n  14 | \t\tit(\"should handle logging without error\", function()\r\n  15 | \t\t\tlocal log = SmartLogger.New(\"TEST\")\r\n  16 | \t\t\texpect(function()\r\n  17 | \t\t\t\tlog:Info(\"Info Check\")\r\n  18 | \t\t\t\tlog:Warn(\"Warn Check\")\r\n  19 | \t\t\tend).never.to.throw()\r\n  20 | \t\tend)\r\n  21 | \r\n  22 |         it(\"should accept data table\", function()\r\n  23 |             local log = SmartLogger.New(\"TEST\")\r\n  24 |             expect(function()\r\n  25 |                 log:Info(\"Data Check\", { Value = 123 })\r\n  26 |             end).never.to.throw()\r\n  27 |         end)\r\n  28 | \tend)\r\n  29 | end\r\n  30 | \n```\n</details>\n\n### üì¶ Group: Tests (Server)\n\n\n<details>\n<summary><strong>üåô tests/ServerScriptService/OVHL/Core/DataMigrator.spec.luau</strong> (29 lines, 1.09 KB)</summary>\n\n**Rojo Path:** `game.ServerScriptService.Tests.OVHL.Core.DataMigrator.spec`\n\n```lua\n   1 | --!strict\r\n   2 | return function()\r\n   3 |     local SS = game:GetService(\"ServerScriptService\")\r\n   4 |     local DataMigrator = require(SS.OVHL.Core.DataMigrator)\r\n   5 |     \r\n   6 |     -- Mock Logger untuk menangkap output\r\n   7 |     local MockLogger = {\r\n   8 |         Warn = function() end,\r\n   9 |         Info = function() end,\r\n  10 |         Error = function() end\r\n  11 |     }\r\n  12 | \r\n  13 |     describe(\"DataMigrator\", function()\r\n  14 |         it(\"should auto-tag new data with latest version\", function()\r\n  15 |             local profile = { Data = {} }\r\n  16 |             DataMigrator.Migrate(profile, MockLogger)\r\n  17 |             expect(profile.Data._SchemaVersion).to.equal(DataMigrator.LATEST_VERSION)\r\n  18 |         end)\r\n  19 |         \r\n  20 |         it(\"should skip migration if version matches\", function()\r\n  21 |             local profile = { Data = { _SchemaVersion = DataMigrator.LATEST_VERSION } }\r\n  22 |             -- Kita tidak bisa mudah detect 'skip' tanpa spy, \r\n  23 |             -- tapi setidaknya pastikan tidak error dan versi tidak berubah\r\n  24 |             DataMigrator.Migrate(profile, MockLogger)\r\n  25 |             expect(profile.Data._SchemaVersion).to.equal(DataMigrator.LATEST_VERSION)\r\n  26 |         end)\r\n  27 |     end)\r\n  28 | end\r\n  29 | \n```\n</details>\n\n### üì¶ Group: Tests (Client)\n\n> *(No files found in this category)*\n\n### üì¶ Group: Automation / Root\n\n\n<details>\n<summary><strong>üåô run.luau</strong> (2 lines, 4 Bytes)</summary>\n\n**Rojo Path:** `Unmapped`\n\n```lua\n   1 | --\r\n   2 | \n```\n</details>\n\n### üì¶ Group: Unknown\n\n> *(No files found in this category)*\n",
      "issues": [],
      "duration": 18
    }
  ],
  "globalScore": 0,
  "metadata": {
    "duration": "0.29s",
    "command": "ovhl audit",
    "version": "0.1.0",
    "rojoMapping": "| Source Folder (Disk) | Roblox Service (Virtual) |\n|---|---|\n| `src/ReplicatedStorage/OVHL` | `game.ReplicatedStorage.OVHL` |\n| `Packages` | `game.ReplicatedStorage.Packages` |\n| `tests/ReplicatedStorage` | `game.ReplicatedStorage.Tests` |\n| `src/ServerScriptService/OVHL` | `game.ServerScriptService.OVHL` |\n| `tests/ServerScriptService` | `game.ServerScriptService.Tests` |\n| `src/StarterPlayer/StarterPlayerScripts/OVHL` | `game.StarterPlayer.StarterPlayerScripts.OVHL` |\n| `tests/StarterPlayer/StarterPlayerScripts` | `game.StarterPlayer.StarterPlayerScripts.Tests` |\n"
  }
}
