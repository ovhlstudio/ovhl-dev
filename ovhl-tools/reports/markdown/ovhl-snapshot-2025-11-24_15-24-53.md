---
type: project-snapshot
purpose: AI Analysis & Debugging Context
generated_by: OVHL CLI v0.1.0
date: 11/24/2025, 3:24:53 PM
---

# üß† OVHL ENTERPRISE FRAMEWORK CONTEXT

> **üõë CRITICAL INSTRUCTION FOR AI AGENT:**
> You are operating within the **OVHL Enterprise Framework**.
> Deviating from the architecture rules below is **STRICTLY FORBIDDEN**.

### 1. üèõÔ∏è ARCHITECTURE LAWS
**Lifecycle:** `undefined`

**Mandatory Rules:**


### 2. üß™ TESTING MANDATE
undefined

---
# üìä SNAPSHOT SUMMARY
| Metric | Details |
|---|---|
| **Health Score** | 0 / 100 |
| **Target Root** | `E:\OMNIVERSE-DEV\ovhl-framework` |
| **Git Info** | Branch: tools/node-porting | Commit: 9654ac2* |
| **Analysis Time** | 0.27s |
---

## üìÅ Project Structure

### üì¶ Statistics Summary

| Metric | Value |
|---|---|
| **Files** | 71 |
| **Folders** | 45 |
| **Lines** | 4262 |
| **Size** | 147.21 KB |

### üó∫Ô∏è Distribution

| Scope | Files | Lines |
|---|---|---|
| **Server** | 15 | 986 |
| **Client** | 7 | 494 |
| **Shared** | 48 | 2780 |
| **Unknown** | 1 | 2 |

### üå≥ Project Scaffold
```text
‚îú‚îÄ‚îÄ üåô run.luau
‚îú‚îÄ‚îÄ üìÅ src
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ ReplicatedStorage
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ OVHL
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üåô Bootstrap.luau
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Config
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô LoggerConfig.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üåô SystemPanelConfig.luau
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Core
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô ConfigSchema.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô Constants.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô Context.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô Env.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô Framework.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô FrameworkTypes.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô Loader.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô Manifest.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Networking
‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô Bridge.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô Middleware.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üåô NetworkEnums.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô SharedConfigLoader.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô Signals.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô SmartLogger.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üåô TypeValidator.luau
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Modules
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Inventory
‚îÇ   ‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ üåô SharedConfig.luau
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Types
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üìÅ UI
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ üìÅ Foundation
‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üåô API.luau
‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üåô ActionGuard.luau
‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üåô Assets.luau
‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Bridges
‚îÇ   ‚îÇ           ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üåô Topbar.lua
‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Components
‚îÇ   ‚îÇ           ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô AsyncButton.luau
‚îÇ   ‚îÇ           ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô GridContainer.luau
‚îÇ   ‚îÇ           ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô ItemSlot.luau
‚îÇ   ‚îÇ           ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô ScreenWrapper.luau
‚îÇ   ‚îÇ           ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô SmartButton.luau
‚îÇ   ‚îÇ           ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô SmartText.luau
‚îÇ   ‚îÇ           ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô SmartWindow.luau
‚îÇ   ‚îÇ           ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üåô Window.luau
‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üåô Motion.luau
‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üåô MotionPresets.luau
‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üåô OVHLTheme.luau
‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üåô SafeLoader.luau
‚îÇ   ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ üåô Theme.luau
‚îÇ   ‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ üåô Util.luau
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ üìÅ Views
‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ üìÅ Inventory
‚îÇ   ‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ üåô InventoryView.luau
‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ üìÅ Shop
‚îÇ   ‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ üåô ShopView.luau
‚îÇ   ‚îÇ               ‚îî‚îÄ‚îÄ üìÅ System
‚îÇ   ‚îÇ                   ‚îú‚îÄ‚îÄ üìÅ Components
‚îÇ   ‚îÇ                   ‚îÇ   ‚îú‚îÄ‚îÄ üåô ConfirmationDialog.luau
‚îÇ   ‚îÇ                   ‚îÇ   ‚îî‚îÄ‚îÄ üåô PlayerInspector.luau
‚îÇ   ‚îÇ                   ‚îú‚îÄ‚îÄ üåô FrameworkPanelView.luau
‚îÇ   ‚îÇ                   ‚îî‚îÄ‚îÄ üìÅ Pages
‚îÇ   ‚îÇ                       ‚îî‚îÄ‚îÄ üåô PermissionPage.luau
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ ServerScriptService
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ OVHL
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Config
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üåô PermissionConfig.luau
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Core
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô DataMigrator.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô NetworkBridge.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô NetworkGuard.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Permissions
‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Adapters
‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üåô HDAdmin.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üåô InternalDB.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô RateLimiter.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üåô ServerKernel.luau
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Modules
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Inventory
‚îÇ   ‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ üåô InventoryService.luau
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üåô ServerRuntime.server.luau
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÅ Services
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô DataManagerService.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üåô MonetizationService.luau
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üåô PermissionService.luau
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üåô TestRunner.server.luau
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ StarterPlayer
‚îÇ       ‚îî‚îÄ‚îÄ üìÅ StarterPlayerScripts
‚îÇ           ‚îî‚îÄ‚îÄ üìÅ OVHL
‚îÇ               ‚îú‚îÄ‚îÄ üåô ClientRuntime.client.luau
‚îÇ               ‚îú‚îÄ‚îÄ üìÅ Controllers
‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ üåô FrameworkController.luau
‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ üåô PermissionController.luau
‚îÇ               ‚îú‚îÄ‚îÄ üìÅ Core
‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ üåô ClientKernel.luau
‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ üåô FinderService.luau
‚îÇ               ‚îú‚îÄ‚îÄ üìÅ Modules
‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ Inventory
‚îÇ               ‚îÇ       ‚îî‚îÄ‚îÄ üåô InventoryController.luau
‚îÇ               ‚îî‚îÄ‚îÄ üåô TestRunner.client.luau
‚îî‚îÄ‚îÄ üìÅ tests
    ‚îú‚îÄ‚îÄ üìÅ ReplicatedStorage
    ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Mocks
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåô MockDataStore.luau
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üåô MockPlayer.luau
    ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ OVHL
    ‚îÇ       ‚îî‚îÄ‚îÄ üìÅ Core
    ‚îÇ           ‚îú‚îÄ‚îÄ üåô Context.spec.luau
    ‚îÇ           ‚îú‚îÄ‚îÄ üåô Loader.spec.luau
    ‚îÇ           ‚îî‚îÄ‚îÄ üåô SmartLogger.spec.luau
    ‚îú‚îÄ‚îÄ üìÅ ServerScriptService
    ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ OVHL
    ‚îÇ       ‚îî‚îÄ‚îÄ üìÅ Core
    ‚îÇ           ‚îî‚îÄ‚îÄ üåô DataMigrator.spec.luau
    ‚îî‚îÄ‚îÄ üìÅ StarterPlayer
        ‚îî‚îÄ‚îÄ üìÅ StarterPlayerScripts

```

## üõ°Ô∏è Security Sweep

### ‚ö†Ô∏è Potential Global Mutable State (-5 pts)
> **AI Advice:** Top-level table 'ConfigLoader' detected. If this stores state, it will persist. Ensure it is stateless or a Constant.

| File | Line | Code Snippet |
|---|---|---|
| `src/ReplicatedStorage/OVHL/Core/SharedConfigLoader.luau` | 8 | ```local ConfigLoader = {}``` |
| `src/ServerScriptService/OVHL/Services/DataManagerService.luau` | 12 | ```local DataManager = {}``` |
| `src/ServerScriptService/OVHL/Services/DataManagerService.luau` | 14 | ```local Profiles = {}``` |
| `src/ServerScriptService/OVHL/Services/MonetizationService.luau` | 7 | ```local Handlers = {}``` |
| `src/ServerScriptService/OVHL/Services/PermissionService.luau` | 7 | ```local Hub = {}``` |
| `src/ServerScriptService/OVHL/Core/NetworkBridge.luau` | 11 | ```local Bridge = {}``` |
| `src/ServerScriptService/OVHL/Core/ServerKernel.luau` | 12 | ```local Adapters = {``` |
| `src/ReplicatedStorage/OVHL/UI/Foundation/API.luau` | 31 | ```local Components = {``` |
| `src/ReplicatedStorage/OVHL/UI/Foundation/MotionPresets.luau` | 7 | ```local Presets = {}``` |
| `src/StarterPlayer/StarterPlayerScripts/OVHL/Core/FinderService.luau` | 14 | ```local Finder = {}``` |
| `src/ServerScriptService/OVHL/Modules/Inventory/InventoryService.luau` | 7 | ```local Hub = {}``` |
| `src/ReplicatedStorage/OVHL/UI/Foundation/Bridges/Topbar.lua` | 11 | ```local TopbarBridge = {}``` |

### üõ°Ô∏è Security Analysis Results



## üîó Dependencies

### üì¶ External Packages (Wally)

| Package | Status | Refs |
|---|---|---|
| **TestEZ** | ‚úÖ Active | 2 refs |
| **Fusion** | ‚úÖ Active | 7 refs |
| **topbarplus** | ‚úÖ Active | 1 refs |
| **onyx-ui** | ‚úÖ Active | 2 refs |
| **Promise** | ‚úÖ Active | 1 refs |
| **Signal** | ‚úÖ Active | 1 refs |
| **profileservice** | ‚úÖ Active | 1 refs |
| **Option** | ‚ö†Ô∏è Unused | 0 refs |
| **Trove** | ‚úÖ Active | 3 refs |

### üï∑Ô∏è Module Coupling
- **Core Dependency:** 19 files depend heavily on `Loader.Core` frameworks.


## üßπ Code Quality

### ‚ö†Ô∏è Hardcoded Service Path (-5 pts)
> **AI Advice:** Direct access breaks modularity. Use Loader or Context.

| File | Line | Code Snippet |
|---|---|---|
| `src/ServerScriptService/OVHL/ServerRuntime.server.luau` | 3 | ```require(game.ReplicatedStorage.OVHL.Bootstrap).StartServer()``` |
| `src/StarterPlayer/StarterPlayerScripts/OVHL/ClientRuntime.client.luau` | 3 | ```require(game.ReplicatedStorage.OVHL.Bootstrap).StartClient()``` |
| `src/ServerScriptService/OVHL/Services/MonetizationService.luau` | 4 | ```local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)``` |
| `src/ReplicatedStorage/OVHL/UI/Foundation/API.luau` | 3 | ```local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)``` |
| `src/ReplicatedStorage/OVHL/UI/Foundation/Motion.luau` | 3 | ```local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)``` |
| `src/ReplicatedStorage/OVHL/UI/Foundation/MotionPresets.luau` | 3 | ```local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)``` |
| `src/ReplicatedStorage/OVHL/UI/Foundation/OVHLTheme.luau` | 3 | ```local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)``` |
| `src/ReplicatedStorage/OVHL/UI/Foundation/Components/AsyncButton.luau` | 5 | ```local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)``` |
| `src/ReplicatedStorage/OVHL/UI/Views/Inventory/InventoryView.luau` | 3 | ```local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)``` |
| `src/ReplicatedStorage/OVHL/UI/Views/Shop/ShopView.luau` | 3 | ```local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)``` |
| `src/ReplicatedStorage/OVHL/UI/Views/System/FrameworkPanelView.luau` | 3 | ```local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)``` |
| `src/ReplicatedStorage/OVHL/UI/Views/System/Components/ConfirmationDialog.luau` | 3 | ```local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)``` |
| `src/ReplicatedStorage/OVHL/UI/Views/System/Components/PlayerInspector.luau` | 3 | ```local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)``` |
| `src/ReplicatedStorage/OVHL/UI/Views/System/Pages/PermissionPage.luau` | 3 | ```local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)``` |

### üìç Path & Quality Analysis



## üì° Telemetry

### üî¥ Blind Logic (Missing Logger) (-10 pts)
> **AI Advice:** This file controls logic but has NO EYES. AI cannot debug it. Inject 'SmartLogger' immediately.

| File | Line | Code Snippet |
|---|---|---|
| `src/StarterPlayer/StarterPlayerScripts/OVHL/Core/FinderService.luau` | - | - |
| `src/StarterPlayer/StarterPlayerScripts/OVHL/Controllers/FrameworkController.luau` | - | - |
| `src/StarterPlayer/StarterPlayerScripts/OVHL/Controllers/PermissionController.luau` | - | - |
| `src/StarterPlayer/StarterPlayerScripts/OVHL/Modules/Inventory/InventoryController.luau` | - | - |
| `src/ReplicatedStorage/OVHL/UI/Views/Inventory/InventoryView.luau` | - | - |
| `src/ReplicatedStorage/OVHL/UI/Views/Shop/ShopView.luau` | - | - |
| `src/ReplicatedStorage/OVHL/UI/Views/System/FrameworkPanelView.luau` | - | - |

### üì° Active Telemetry Domains

| Module | Domain |
|---|---|
| `NetworkBridge.luau` | **SECURITY** |
| `NetworkGuard.luau` | **SECURITY** |
| `ServerKernel.luau` | **SYSTEM** |
| `DataManagerService.luau` | **DATA** |
| `MonetizationService.luau` | **SHOP** |
| `PermissionService.luau` | **PERMISSION** |
| `InventoryService.luau` | **INVENTORY** |
| `Bridge.luau` | **SECURITY** |
| `ClientKernel.luau` | **SYSTEM** |
| `SafeLoader.luau` | **USER_INTERFACE** |
| `Topbar.lua` | **TOPBAR** |
| `AsyncButton.luau` | **UX** |
| `SmartButton.luau` | **UX** |
| `Window.luau` | **UI_LAYOUT** |


## üé® UI System

### üé® UI Tech Stack

- **Fusion Detected:** Used in 10 files
- **Architecture:** Component-based (2 component folders found)


## ‚ö†Ô∏è Breaking Changes

### üïµÔ∏è API Contract Diff (HEAD vs HEAD~1)

‚úÖ No breaking changes detected in SharedConfig contracts.

#### üï∞Ô∏è Git Stats
```diff
 audit-tools/audit.sh            | 73 ++++++++++++++++++++++++-----------------
 audit-tools/lib/file_ops.sh     | 19 +++++++----
 audit-tools/lib/utils.sh        | 34 ++++++++++++-------
 audit-tools/modules/01_stats.sh |  7 +++-
 ovhl-tools/README.md            | 16 ++++++++-
 5 files changed, 98 insertions(+), 51 deletions(-)

```

## üìö Complete Codebase Snapshot


### üì¶ Group: Shared


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/Bootstrap.luau</strong> (18 lines, 493 Bytes)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.Bootstrap`

```lua
   1 | --!strict
   2 | -- @Core: Bootstrap
   3 | local RunService = game:GetService("RunService")
   4 | local Bootstrap = {}
   5 | 
   6 | function Bootstrap.StartServer()
   7 |     if not RunService:IsServer() then return end
   8 |     require(game.ServerScriptService.OVHL.Core.ServerKernel).Boot()
   9 | end
  10 | 
  11 | function Bootstrap.StartClient()
  12 |     if not RunService:IsClient() then return end
  13 |     local PS = game.Players.LocalPlayer:WaitForChild("PlayerScripts")
  14 |     require(PS.OVHL.Core.ClientKernel).Boot()
  15 | end
  16 | 
  17 | return Bootstrap
  18 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/Config/LoggerConfig.luau</strong> (34 lines, 993 Bytes)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.Config.LoggerConfig`

```lua
   1 | --!strict
   2 | return {
   3 |     DefaultLevel = "DEBUG", -- [FIX] Ganti dari INFO ke DEBUG agar semua narasi muncul
   4 |     UseEmoji = true,
   5 |     UseColor = true,
   6 |     ShowTimestamp = true,
   7 | 
   8 |     Domains = {
   9 |         SYSTEM      = "‚öôÔ∏è SYSTEM",
  10 |         NETWORK     = "üåê NETWORK", 
  11 |         SECURITY    = "üîê SECURITY",
  12 |         DATA        = "üíæ DATA",
  13 |         INVENTORY   = "üéí INVENTORY",
  14 |         SHOP        = "üè™ SHOP", 
  15 |         ADMIN       = "üëë ADMIN",
  16 |         PERMISSION  = "üîê PERMISSION",
  17 |         
  18 |         -- UI Domains (Telemetry)
  19 |         UX             = "üëÜ UX",
  20 |         USER_INTERFACE = "üé® UI",
  21 |         TOPBAR         = "üîò TOPBAR",
  22 |         
  23 |         DEFAULT     = "üì¶ GENERAL"
  24 |     },
  25 | 
  26 |     Levels = {
  27 |         DEBUG    = { Weight=1, Icon="üîç" },
  28 |         INFO     = { Weight=2, Icon="‚ÑπÔ∏è" },
  29 |         WARN     = { Weight=3, Icon="‚ö†Ô∏è" },
  30 |         ERROR    = { Weight=4, Icon="‚ùå" },
  31 |         CRITICAL = { Weight=5, Icon="üíÄ" }
  32 |     }
  33 | }
  34 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/Config/SystemPanelConfig.luau</strong> (38 lines, 926 Bytes)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.Config.SystemPanelConfig`

```lua
   1 | --!strict
   2 | -- @Config: SystemPanelConfig
   3 | -- @Role: Single Source of Truth untuk Framework Panel
   4 | -- @Standard: OVHL Enterprise
   5 | 
   6 | return {
   7 | 	Meta = {
   8 | 		Name = "FrameworkPanel",
   9 | 		Version = "1.0.0",
  10 | 	},
  11 | 
  12 | 	-- Konfigurasi Topbar Icon
  13 | 	Topbar = {
  14 | 		Enabled = true,
  15 | 		Text = "PANEL",
  16 | 		Icon = "rbxassetid://6022668961", -- Settings Icon
  17 | 		Order = 99,
  18 | 		Permission = 5, -- Minimal Admin (3) untuk melihat tombol ini
  19 | 		Shortcut = Enum.KeyCode.F4,
  20 | 	},
  21 | 
  22 | 	-- Konfigurasi UI Window
  23 | 	UI = {
  24 | 		Title = "OVHL COMMAND CENTER",
  25 | 		Size = { X = 800, Y = 500 },
  26 | 		SidebarWidth = 200,
  27 | 		Transition = "SlideFromRight",
  28 | 	},
  29 | 
  30 | 	-- Daftar Menu (Data Driven View)
  31 | 	Menus = {
  32 | 		{ Id = "Dashboard", Label = "üè† Dashboard", Order = 1 },
  33 | 		{ Id = "Permission", Label = "üë• Permission", Order = 2 },
  34 | 		{ Id = "Logger", Label = "üéõÔ∏è Logger", Order = 3 },
  35 | 		{ Id = "Network", Label = "üì° Network", Order = 4 },
  36 | 	},
  37 | }
  38 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/ConfigSchema.luau</strong> (43 lines, 1.21 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.ConfigSchema`

```lua
   1 | --!strict
   2 | -- @Core: ConfigSchema
   3 | -- Validasi struktur config agar tidak crash di runtime
   4 | local ConfigSchema = {}
   5 | 
   6 | local REQUIRED = {
   7 |     Meta = { Name="string", Type="string", Version="string" }
   8 | }
   9 | 
  10 | local function validate(data, schema, path)
  11 |     local errors = {}
  12 |     for field, expected in pairs(schema) do
  13 |         local val = data[field]
  14 |         local ctx = path .. "." .. field
  15 |         
  16 |         if val == nil then
  17 |             table.insert(errors, "Missing: " .. ctx)
  18 |         elseif type(expected) == "table" then
  19 |             if type(val) ~= "table" then
  20 |                 table.insert(errors, ctx .. " must be table")
  21 |             else
  22 |                 for _, e in ipairs(validate(val, expected, ctx)) do 
  23 |                     table.insert(errors, e) 
  24 |                 end
  25 |             end
  26 |         elseif type(val) ~= expected then
  27 |             table.insert(errors, ctx .. " must be " .. expected)
  28 |         end
  29 |     end
  30 |     return errors
  31 | end
  32 | 
  33 | function ConfigSchema.Validate(cfg, name)
  34 |     local errs = validate(cfg, REQUIRED, name)
  35 |     if #errs > 0 then
  36 |         warn("[CONFIG ERROR] " .. name .. ":\n" .. table.concat(errs, "\n"))
  37 |         return false
  38 |     end
  39 |     return true
  40 | end
  41 | 
  42 | return ConfigSchema
  43 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Constants.luau</strong> (20 lines, 378 Bytes)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Constants`

```lua
   1 | --!strict
   2 | -- @Core: Constants
   3 | -- @Role: Single Source of Truth
   4 | local Constants = {
   5 |     SYSTEM = {
   6 |         VERSION = "0.2.0",
   7 |         NAME = "OVHL Framework"
   8 |     },
   9 |     NET = {
  10 |         TIMEOUT = 10,
  11 |         RETRY_ATTEMPTS = 3
  12 |     },
  13 |     ROLES = {
  14 |         GUEST = "Guest",
  15 |         ADMIN = "Admin",
  16 |         OWNER = "Owner"
  17 |     }
  18 | }
  19 | return table.freeze(Constants)
  20 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Context.luau</strong> (33 lines, 771 Bytes)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Context`

```lua
   1 | --!strict
   2 | -- @Core: Context (DI Container)
   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)
   4 | 
   5 | -- [MIGRATION] Use Dot Syntax Internally
   6 | local SmartLogger = Loader.Core.SmartLogger
   7 | local Signals = Loader.Core.Signals
   8 | local Manifest = Loader.Core.Manifest 
   9 | 
  10 | local Context = {}
  11 | Context.__index = Context
  12 | 
  13 | function Context.New(services)
  14 |     local self = setmetatable({}, Context)
  15 |     
  16 |     self.Manifest = Manifest
  17 |     self.Signals = Signals
  18 |     self.Services = services or {}
  19 |     
  20 |     function self:CreateLogger(domain: string)
  21 |         return SmartLogger.New(domain)
  22 |     end
  23 |     
  24 |     -- Inject Dependencies
  25 |     for name, service in pairs(self.Services) do
  26 |         self[name] = service
  27 |     end
  28 | 
  29 |     return self
  30 | end
  31 | 
  32 | return Context
  33 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Env.luau</strong> (24 lines, 384 Bytes)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Env`

```lua
   1 | --!strict
   2 | -- @Core: Env
   3 | local RunService = game:GetService("RunService")
   4 | 
   5 | local Env = {}
   6 | 
   7 | function Env.IsStudio()
   8 |     return RunService:IsStudio()
   9 | end
  10 | 
  11 | function Env.IsServer()
  12 |     return RunService:IsServer()
  13 | end
  14 | 
  15 | function Env.IsClient()
  16 |     return RunService:IsClient()
  17 | end
  18 | 
  19 | function Env.MockDataStore()
  20 |     return Env.IsStudio()
  21 | end
  22 | 
  23 | return table.freeze(Env)
  24 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Framework.luau</strong> (86 lines, 2.42 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Framework`

```lua
   1 | --!strict
   2 | -- @Core: Framework (Central Factory - V2.2 With Auto-Trove)
   3 | -- @Role: Dependency Injector & Standardizer
   4 | local RS = game:GetService("ReplicatedStorage")
   5 | 
   6 | -- Internal Dependencies
   7 | local Loader = require(RS.OVHL.Core.Loader)
   8 | local SmartLogger = Loader.Core("SmartLogger")
   9 | local ActionGuard = Loader.UI.Foundation.ActionGuard
  10 | local Bridge = Loader.Core.Networking.Bridge
  11 | local Trove = Loader.Pkg("Trove") -- [NEW] Load Trove di Pusat
  12 | 
  13 | local Framework = {}
  14 | 
  15 | function Framework.CreateController(def)
  16 | 	local ctrl = def or {}
  17 | 	local name = ctrl.Name or "UnknownController"
  18 | 
  19 | 	-- 1. Auto-Inject Logger & Tools
  20 | 	ctrl.Logger = SmartLogger.New(name:upper())
  21 | 	ctrl.Bridge = Bridge.New()
  22 | 	ctrl.Guard = ActionGuard
  23 | 	ctrl.Trove = Trove.new() -- [NEW] Otomatis pasang Tong Sampah Pintar
  24 | 
  25 | 	-- 2. Auto-Load Config (SMART LOADER PATCH)
  26 | 	if ctrl.ConfigName then
  27 | 		local loadedConfig = nil
  28 | 		local loadSource = "None"
  29 | 
  30 | 		-- [STRATEGY A] Cek di Module Feature (Inventory, Shop)
  31 | 		local successA, resA = pcall(function()
  32 | 			return Loader.Module(ctrl.ConfigName).SharedConfig
  33 | 		end)
  34 | 		if successA and resA then
  35 | 			loadedConfig = resA
  36 | 			loadSource = "Module"
  37 | 		else
  38 | 			-- [STRATEGY B] Cek di Global Config Folder (SystemPanelConfig)
  39 | 			local successB, resB = pcall(function()
  40 | 				return Loader.Config(ctrl.ConfigName)
  41 | 			end)
  42 | 			if successB and resB then
  43 | 				loadedConfig = resB
  44 | 				loadSource = "GlobalConfig"
  45 | 			end
  46 | 		end
  47 | 
  48 | 		-- [RESULT CHECK]
  49 | 		if loadedConfig then
  50 | 			ctrl.Config = loadedConfig
  51 | 			ctrl.Logger:Debug("ConfigLoaded", { Source = loadSource, Name = ctrl.ConfigName })
  52 | 		else
  53 | 			ctrl.Logger:Error("ConfigCritical", "FAILED TO LOAD CONFIG: " .. ctrl.ConfigName)
  54 | 			ctrl.Config = { Meta = { Error = "Missing" }, UI = {}, Topbar = {} }
  55 | 		end
  56 | 	end
  57 | 
  58 | 	-- 3. Lifecycle Wrapper
  59 | 	local originalInit = ctrl.Init
  60 | 	function ctrl:Init(ctx)
  61 | 		if originalInit then
  62 | 			-- Bungkus dengan pcall biar kalau Init error, gak matiin thread utama
  63 | 			local s, err = pcall(originalInit, self, ctx)
  64 | 			if not s then
  65 | 				ctrl.Logger:Error("InitCrash", err)
  66 | 			end
  67 | 		end
  68 | 	end
  69 | 
  70 | 	-- [NEW] Auto Cleanup Method
  71 | 	-- Framework sekarang punya standar cara mematikan Controller
  72 | 	function ctrl:Destroy()
  73 | 		if self.Shutdown then
  74 | 			self:Shutdown()
  75 | 		end -- Panggil custom shutdown user dulu
  76 | 		if self.Trove then
  77 | 			self.Trove:Destroy() -- Bersihkan sampah otomatis
  78 | 			self.Trove = nil
  79 | 		end
  80 | 	end
  81 | 
  82 | 	return ctrl
  83 | end
  84 | 
  85 | return Framework
  86 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/FrameworkTypes.luau</strong> (34 lines, 962 Bytes)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.FrameworkTypes`

```lua
   1 | --!strict
   2 | -- @Core: FrameworkTypes
   3 | -- Definisi Kontrak untuk Type Checking Luau
   4 | local FrameworkTypes = {}
   5 | 
   6 | export type Logger = {
   7 |     Info: (self: Logger, msg: string, data: any?) -> (),
   8 |     Warn: (self: Logger, msg: string, data: any?) -> (),
   9 |     Error: (self: Logger, msg: string, data: any?) -> (),
  10 |     Debug: (self: Logger, msg: string, data: any?) -> (),
  11 | }
  12 | 
  13 | export type Manifest = {
  14 |     Identity: { Name: string, Namespace: string },
  15 |     Version: { Major: number, Minor: number, Patch: number, Full: string },
  16 |     Metadata: { BuildType: string }
  17 | }
  18 | 
  19 | export type Context = {
  20 |     Manifest: Manifest,
  21 |     Services: { [string]: any },
  22 |     CreateLogger: (self: Context, domain: string) -> Logger,
  23 |     [string]: any -- Allow dynamic injection
  24 | }
  25 | 
  26 | export type Service = {
  27 |     Init: (self: Service, ctx: Context) -> ()?,
  28 |     Start: (self: Service) -> ()?,
  29 |     Shutdown: (self: Service) -> ()?,
  30 |     [any]: any
  31 | }
  32 | 
  33 | return FrameworkTypes
  34 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Loader.luau</strong> (133 lines, 4.28 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Loader`

```lua
   1 | --!strict
   2 | -- @Core: Loader v2.2 (Recursive Legacy Support)
   3 | local ReplicatedStorage = game:GetService("ReplicatedStorage")
   4 | local ServerScriptService = game:GetService("ServerScriptService")
   5 | local RunService = game:GetService("RunService")
   6 | 
   7 | local Loader = {}
   8 | 
   9 | -- Root References
  10 | local ROOTS = {
  11 | 	Core = ReplicatedStorage:WaitForChild("OVHL"):WaitForChild("Core"),
  12 | 	Config = ReplicatedStorage.OVHL:WaitForChild("Config"),
  13 | 	UI = ReplicatedStorage.OVHL:WaitForChild("UI"),
  14 | 	SharedModules = ReplicatedStorage.OVHL:WaitForChild("Modules"),
  15 | 	Packages = ReplicatedStorage:WaitForChild("Packages")
  16 | }
  17 | 
  18 | -- Helper: Listing Available Files
  19 | local function getAvailable(instance: Instance)
  20 |     local list = {}
  21 |     for _, c in ipairs(instance:GetChildren()) do table.insert(list, c.Name) end
  22 |     return table.concat(list, ", ")
  23 | end
  24 | 
  25 | -- [[ HELPER: PROXY GENERATOR ]]
  26 | local function createProxy(rootInstance: Instance, pathHistory: string)
  27 | 	local proxy = newproxy(true)
  28 | 	local meta = getmetatable(proxy)
  29 | 
  30 | 	-- 1. DOT SYNTAX HANDLER (Modern)
  31 | 	meta.__index = function(_, key)
  32 | 		local currentPath = pathHistory .. "." .. key
  33 | 		local child = rootInstance:FindFirstChild(key)
  34 | 
  35 | 		-- Smart Package Resolution
  36 | 		if not child and rootInstance == ROOTS.Packages then
  37 | 			local lowerKey = key:lower()
  38 | 			for _, c in ipairs(rootInstance:GetChildren()) do
  39 | 				if c.Name:lower() == lowerKey or c.Name:find("_" .. lowerKey .. "@") then
  40 | 					child = c
  41 | 					break
  42 | 				end
  43 | 			end
  44 | 		end
  45 | 
  46 | 		if not child then
  47 | 			error(string.format(
  48 |                 "[Loader] ‚ùå Path Error: '%s' not found in %s.\n   Available: %s", 
  49 |                 key, rootInstance.Name, getAvailable(rootInstance)
  50 |             ))
  51 | 		end
  52 | 
  53 | 		if child:IsA("ModuleScript") then
  54 | 			return require(child)
  55 | 		elseif child:IsA("Folder") then
  56 | 			return createProxy(child, currentPath)
  57 | 		else
  58 | 			return child
  59 | 		end
  60 | 	end
  61 | 
  62 | 	-- 2. CALL SYNTAX HANDLER (Legacy Recursive Fix)
  63 |     -- Menangani: Loader.Core("Networking/Bridge")
  64 | 	meta.__call = function(_, pathString: string)
  65 |         local current = rootInstance
  66 |         
  67 |         -- [FIX] Split string by "/" untuk menelusuri folder
  68 |         for _, segment in ipairs(string.split(pathString, "/")) do
  69 |             local nextObj = current:FindFirstChild(segment)
  70 |             
  71 |             -- Fallback check untuk Packages (Wally renaming)
  72 |             if not nextObj and current == ROOTS.Packages then
  73 |                 local lower = segment:lower()
  74 |                 for _, c in ipairs(current:GetChildren()) do
  75 |                     if c.Name:lower() == lower or c.Name:find("_" .. lower .. "@") then
  76 |                         nextObj = c; break
  77 |                     end
  78 |                 end
  79 |             end
  80 |             
  81 |             if not nextObj then
  82 |                 error(string.format("[Loader] Legacy Path Error: Segment '%s' not found in '%s'. Path: %s", segment, current.Name, pathString))
  83 |             end
  84 |             
  85 |             current = nextObj
  86 |         end
  87 |         
  88 |         if current:IsA("ModuleScript") then
  89 | 		    return require(current)
  90 |         else
  91 |             return current -- Return instance/folder
  92 |         end
  93 | 	end
  94 |     
  95 |     meta.__tostring = function() return "LoaderProxy[" .. rootInstance.Name .. "]" end
  96 | 
  97 | 	return proxy
  98 | end
  99 | 
 100 | -- [[ EXPORTS ]]
 101 | Loader.Core = createProxy(ROOTS.Core, "Core")
 102 | Loader.Config = createProxy(ROOTS.Config, "Config")
 103 | Loader.Pkg = createProxy(ROOTS.Packages, "Packages")
 104 | Loader.UI = createProxy(ROOTS.UI, "UI")
 105 | 
 106 | -- Feature Loader
 107 | Loader.Module = function(featureName: string, subModule: string?)
 108 | 	local folder = ROOTS.SharedModules:FindFirstChild(featureName)
 109 | 	if not folder then error("Feature not found: " .. featureName) end
 110 | 	
 111 |     -- Legacy Support
 112 |     if subModule then
 113 |         local sub = folder:FindFirstChild(subModule)
 114 |         if not sub then error("SubModule '"..subModule.."' not found in " .. featureName) end
 115 |         return require(sub)
 116 |     end
 117 |     
 118 |     -- New Support
 119 | 	return createProxy(folder, "Module." .. featureName)
 120 | end
 121 | 
 122 | -- Server Loader
 123 | if RunService:IsServer() then
 124 | 	local ServerRoot = ServerScriptService:WaitForChild("OVHL")
 125 | 	Loader.Server = createProxy(ServerRoot, "Server")
 126 | else
 127 |     Loader.Server = setmetatable({}, {
 128 |         __index = function() error("[Loader] Loader.Server cannot be used on Client!") end
 129 |     })
 130 | end
 131 | 
 132 | return Loader
 133 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Manifest.luau</strong> (22 lines, 444 Bytes)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Manifest`

```lua
   1 | --!strict
   2 | -- @Core: Manifest (Single Source of Truth)
   3 | -- Identitas & Versi Framework
   4 | return {
   5 |     Identity = {
   6 |         Name = "OVHL Framework",
   7 |         Namespace = "omniverse"
   8 |     },
   9 |     
  10 |     Version = {
  11 |         Major = 0,
  12 |         Minor = 1,
  13 |         Patch = 0,
  14 |         Full = "0.1.0"
  15 |     },
  16 |     
  17 |     Metadata = {
  18 |         BuildType = "Alpha", -- Development / Staging / Production
  19 |         LastUpdated = "2025-11-22"
  20 |     }
  21 | }
  22 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/SharedConfigLoader.luau</strong> (40 lines, 1.07 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.SharedConfigLoader`

```lua
   1 | --!strict
   2 | -- @Core: SharedConfigLoader
   3 | -- Mencari dan memuat SharedConfig dari folder Modules
   4 | local RS = game:GetService("ReplicatedStorage")
   5 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)
   6 | local Schema = Loader.Core("ConfigSchema")
   7 | 
   8 | local ConfigLoader = {}
   9 | 
  10 | function ConfigLoader.Load(moduleName)
  11 |     -- Cari folder module
  12 |     local root = RS.OVHL.Modules
  13 |     local moduleFolder = root:FindFirstChild(moduleName)
  14 |     
  15 |     if not moduleFolder then
  16 |         warn("[Config] Module not found: " .. moduleName)
  17 |         return {}
  18 |     end
  19 |     
  20 |     -- Cari file config
  21 |     local configFile = moduleFolder:FindFirstChild("SharedConfig")
  22 |     if not configFile then
  23 |         return {} -- Config is optional, return empty
  24 |     end
  25 |     
  26 |     -- Require & Validate
  27 |     local success, data = pcall(require, configFile)
  28 |     if not success then
  29 |         warn("[Config] Syntax Error in " .. moduleName .. ": " .. tostring(data))
  30 |         return {}
  31 |     end
  32 |     
  33 |     -- Validasi Schema
  34 |     Schema.Validate(data, moduleName)
  35 |     
  36 |     return data
  37 | end
  38 | 
  39 | return ConfigLoader
  40 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Signals.luau</strong> (28 lines, 590 Bytes)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Signals`

```lua
   1 | --!strict
   2 | -- @Core: Signals (Event Bus)
   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)
   4 | local Signal = Loader.Pkg("Signal")
   5 | 
   6 | local Signals = {}
   7 | Signals._registry = {}
   8 | 
   9 | function Signals:Get(name)
  10 |     if not self._registry[name] then
  11 |         self._registry[name] = Signal.new()
  12 |     end
  13 |     return self._registry[name]
  14 | end
  15 | 
  16 | function Signals:Fire(name, ...)
  17 |     local sig = self._registry[name]
  18 |     if sig then
  19 |         sig:Fire(...)
  20 |     end
  21 | end
  22 | 
  23 | function Signals:Connect(name, callback)
  24 |     return self:Get(name):Connect(callback)
  25 | end
  26 | 
  27 | return Signals
  28 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/SmartLogger.luau</strong> (97 lines, 2.87 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.SmartLogger`

```lua
   1 | --!strict
   2 | -- @Core: SmartLogger
   3 | -- @PortedFrom: Snapshot V4.0
   4 | local HttpService = game:GetService("HttpService")
   5 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)
   6 | 
   7 | local Config = Loader.Config("LoggerConfig")
   8 | local Env = Loader.Core("Env")
   9 | 
  10 | local SmartLogger = {}
  11 | SmartLogger.__index = SmartLogger
  12 | 
  13 | local CONTEXT_TAG = Env.IsServer() and "[SERVER]" or "[CLIENT]"
  14 | 
  15 | function SmartLogger.New(domain, overrides)
  16 |     local self = setmetatable({}, SmartLogger)
  17 |     self._rawDomain = domain or "SYSTEM"
  18 |     
  19 |     local mapped = Config.Domains[self._rawDomain]
  20 |     if mapped then
  21 |         self._domainDisplay = mapped
  22 |     else
  23 |         self._domainDisplay = string.format("üì¶ %s", self._rawDomain:upper())
  24 |     end
  25 |     
  26 |     local defLvl = Config.DefaultLevel or "INFO"
  27 |     local myLvl = (overrides and overrides.LogLevel) or defLvl
  28 |     self._weight = Config.Levels[myLvl] and Config.Levels[myLvl].Weight or 2
  29 |     
  30 |     return self
  31 | end
  32 | 
  33 | function SmartLogger:_safeDump(data, depth)
  34 |     depth = depth or 0
  35 |     if depth > 2 then return "..." end
  36 |     
  37 |     local t = type(data)
  38 |     if t == "table" then
  39 |         local parts = {}
  40 |         for k, v in pairs(data) do
  41 |             if type(k) == "string" then
  42 |                 table.insert(parts, k .. "=" .. self:_safeDump(v, depth + 1))
  43 |             end
  44 |         end
  45 |         return "{" .. table.concat(parts, ", ") .. "}"
  46 |     elseif t == "userdata" then
  47 |         return typeof(data)
  48 |     else
  49 |         return tostring(data)
  50 |     end
  51 | end
  52 | 
  53 | function SmartLogger:_safeFormat(level, message, data)
  54 |     if not message then return nil end
  55 |     
  56 |     local cfg = Config.Levels[level]
  57 |     if not cfg then return nil end
  58 |     
  59 |     local meta = ""
  60 |     if data ~= nil then
  61 |         local success, result = pcall(function()
  62 |             return HttpService:JSONEncode(data)
  63 |         end)
  64 |         if success then
  65 |             meta = " ‚îÇ " .. result
  66 |         else
  67 |             meta = " ‚îÇ [RAW] " .. self:_safeDump(data)
  68 |         end
  69 |     end
  70 | 
  71 |     local levelIcon = cfg.Icon or "üìù"
  72 |     -- [SAFE] Lune menangani karakter newline (\n) secara native di sini
  73 |     return string.format("%s %s %s\n   ‚îî‚îÄ‚îÄ %s%s", 
  74 |         levelIcon, CONTEXT_TAG, self._domainDisplay, message, meta)
  75 | end
  76 | 
  77 | function SmartLogger:_log(level, message, data)
  78 |     local cfg = Config.Levels[level]
  79 |     if not cfg or cfg.Weight < self._weight then return end
  80 |     
  81 |     local logMessage = self:_safeFormat(level, message, data)
  82 |     if not logMessage then return end
  83 |     
  84 |     if level == "ERROR" or level == "CRITICAL" then
  85 |         warn(logMessage)
  86 |     else
  87 |         print(logMessage)
  88 |     end
  89 | end
  90 | 
  91 | function SmartLogger:Debug(m, d) self:_log("DEBUG", m, d) end
  92 | function SmartLogger:Info(m, d)  self:_log("INFO", m, d) end
  93 | function SmartLogger:Warn(m, d)  self:_log("WARN", m, d) end
  94 | function SmartLogger:Error(m, d) self:_log("ERROR", m, d) end
  95 | 
  96 | return SmartLogger
  97 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/TypeValidator.luau</strong> (54 lines, 2.02 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.TypeValidator`

```lua
   1 | --!strict
   2 | -- [[ Type Validator - Strict Runtime Checking ]]
   3 | -- @Role: Validates arguments passed via NetworkBridge
   4 | 
   5 | local TypeValidator = {}
   6 | 
   7 | local TYPE_CHECKERS = {
   8 |     string = function(v) return type(v) == 'string' end,
   9 |     number = function(v) return type(v) == 'number' end,
  10 |     boolean = function(v) return type(v) == 'boolean' end,
  11 |     table = function(v) return type(v) == 'table' end,
  12 |     ['function'] = function(v) return type(v) == 'function' end,
  13 |     Instance = function(v) return typeof(v) == 'Instance' end,
  14 |     Vector3 = function(v) return typeof(v) == 'Vector3' end,
  15 |     Color3 = function(v) return typeof(v) == 'Color3' end,
  16 |     Player = function(v) return typeof(v) == 'Instance' and v:IsA('Player') end,
  17 |     any = function(v) return true end
  18 | }
  19 | 
  20 | function TypeValidator.Validate(args, schema)
  21 |     if not schema then return true end
  22 |     local errors = {}
  23 | 
  24 |     for i, spec in ipairs(schema) do
  25 |         local val = args[i]
  26 |         local name = spec.name or ('arg #' .. i)
  27 |         
  28 |         -- Handle simple string types for backward compatibility
  29 |         local requiredType = type(spec) == 'string' and spec or spec.type
  30 |         local isOptional = (type(spec) == 'table' and spec.optional)
  31 | 
  32 |         if val == nil then
  33 |             if not isOptional then
  34 |                 table.insert(errors, string.format('%s is required', name))
  35 |             end
  36 |         else
  37 |             local checker = TYPE_CHECKERS[requiredType]
  38 |             if not checker then
  39 |                 -- Fallback to basic type check
  40 |                 if type(val) ~= requiredType and typeof(val) ~= requiredType then
  41 |                      table.insert(errors, string.format('%s expected %s, got %s', name, requiredType, typeof(val)))
  42 |                 end
  43 |             elseif not checker(val) then
  44 |                 table.insert(errors, string.format('%s invalid format for %s', name, requiredType))
  45 |             end
  46 |         end
  47 |     end
  48 | 
  49 |     if #errors > 0 then return false, table.concat(errors, '; ') end
  50 |     return true
  51 | end
  52 | 
  53 | return TypeValidator
  54 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Networking/Bridge.luau</strong> (210 lines, 5.68 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Networking.Bridge`

```lua
   1 | --!strict
   2 | -- @Component: NetworkBridge (Shared v2.3 - Fixed Request Logic)
   3 | -- @Role: Traffic Controller & Security Checkpoint
   4 | local ReplicatedStorage = game:GetService("ReplicatedStorage")
   5 | local RunService = game:GetService("RunService")
   6 | local ServerScriptService = game:GetService("ServerScriptService")
   7 | 
   8 | local Loader = require(ReplicatedStorage.OVHL.Core.Loader)
   9 | local Promise = Loader.Pkg("Promise")
  10 | 
  11 | local Bridge = {}
  12 | Bridge.__index = Bridge
  13 | 
  14 | local IS_SERVER = RunService:IsServer()
  15 | 
  16 | -- Lazy load Server modules
  17 | local Guard, TypeValidator
  18 | if IS_SERVER then
  19 | 	Guard = require(ServerScriptService.OVHL.Core.NetworkGuard)
  20 | 	TypeValidator = Loader.Core("TypeValidator")
  21 | end
  22 | 
  23 | function Bridge.New(ctx)
  24 | 	local self = setmetatable({
  25 | 		_root = nil,
  26 | 	}, Bridge)
  27 | 
  28 | 	if IS_SERVER then
  29 | 		-- SERVER SIDE SETUP
  30 | 		local secLog = ctx:CreateLogger("SECURITY")
  31 | 		local netLog = ctx:CreateLogger("NETWORK")
  32 | 		self._logger = netLog
  33 | 		self._secLog = secLog
  34 | 		self._limit = ctx.RateLimiter
  35 | 
  36 | 		self._root = ReplicatedStorage:FindFirstChild("OVHL_Remotes") or Instance.new("Folder", ReplicatedStorage)
  37 | 		self._root.Name = "OVHL_Remotes"
  38 | 		self._services = {}
  39 | 
  40 | 		self._secLog:Info("System", "üõ°Ô∏è Security Systems (Guard & Limiter) Connected")
  41 | 	else
  42 | 		-- CLIENT SIDE SETUP
  43 | 		-- Tunggu folder remotes (Max 20 detik)
  44 | 		self._root = ReplicatedStorage:WaitForChild("OVHL_Remotes", 20)
  45 | 		if not self._root then
  46 | 			warn("[Bridge] Critical: OVHL_Remotes folder not found after 20s!")
  47 | 		end
  48 | 	end
  49 | 
  50 | 	return self
  51 | end
  52 | 
  53 | -- [[ SERVER API ]]
  54 | function Bridge:Register(serviceName, netConfig)
  55 | 	if not IS_SERVER then
  56 | 		return
  57 | 	end
  58 | 
  59 | 	local reqs = netConfig and netConfig.Requests or {}
  60 | 	for methodName, rules in pairs(reqs) do
  61 | 		-- NAMA REMOTE: Service_Method
  62 | 		local remoteName = serviceName .. "_" .. methodName
  63 | 		local rf = self._root:FindFirstChild(remoteName) or Instance.new("RemoteFunction", self._root)
  64 | 		rf.Name = remoteName
  65 | 
  66 | 		local limitKey = serviceName .. ":" .. methodName
  67 | 		if rules.RateLimit and self._limit then
  68 | 			self._limit:SetRule(limitKey, rules.RateLimit.Max, rules.RateLimit.Interval)
  69 | 		end
  70 | 
  71 | 		rf.OnServerInvoke = function(player, ...)
  72 | 			return self:_handleInvoke(player, serviceName, methodName, rules, ...)
  73 | 		end
  74 | 	end
  75 | 
  76 | 	local events = netConfig and netConfig.Events or {}
  77 | 	for _, eventName in ipairs(events) do
  78 | 		-- NAMA REMOTE: Service/Event
  79 | 		local remoteName = serviceName .. "/" .. eventName
  80 | 		local re = self._root:FindFirstChild(remoteName) or Instance.new("RemoteEvent", self._root)
  81 | 		re.Name = remoteName
  82 | 	end
  83 | 
  84 | 	return {
  85 | 		OnInvoke = function() end,
  86 | 		Fire = function(...) end,
  87 | 	}
  88 | end
  89 | 
  90 | function Bridge:_handleInvoke(player, serviceName, methodName, rules, ...)
  91 | 	-- A. Rate Limit
  92 | 	local limitKey = serviceName .. ":" .. methodName
  93 | 	if rules.RateLimit and self._limit and not self._limit:Check(player, limitKey) then
  94 | 		self._secLog:Warn("RateLimit", { Plr = player.Name, Action = methodName })
  95 | 		return { Success = false, Error = "Too Many Requests", Code = 429 }
  96 | 	end
  97 | 
  98 | 	-- B. Inbound Guard
  99 | 	local rawArgs = { ... }
 100 | 	local cleanArgs = {}
 101 | 	for i, v in ipairs(rawArgs) do
 102 | 		cleanArgs[i] = Guard.CleanIn(v, 0, player)
 103 | 	end
 104 | 
 105 | 	-- C. Type Validation
 106 | 	if rules.Args then
 107 | 		local ok, err = TypeValidator.Validate(cleanArgs, rules.Args)
 108 | 		if not ok then
 109 | 			return { Success = false, Error = "Invalid Arguments", Code = 400 }
 110 | 		end
 111 | 	end
 112 | 
 113 | 	-- D. Execution
 114 | 	local service = self._services[serviceName]
 115 | 	if service and service[methodName] then
 116 | 		local success, result = pcall(service[methodName], service, player, table.unpack(cleanArgs))
 117 | 		if not success then
 118 | 			return { Success = false, Error = "Internal Server Error" }
 119 | 		end
 120 | 
 121 | 		-- E. Outbound Guard
 122 | 		local sanitized = Guard.SanitizeOutbound(result)
 123 | 		if type(sanitized) == "table" and sanitized.Success ~= nil then
 124 | 			return sanitized
 125 | 		end
 126 | 		return { Success = true, Data = sanitized }
 127 | 	end
 128 | 
 129 | 	return { Success = false, Error = "Service Not Bound" }
 130 | end
 131 | 
 132 | function Bridge:Bind(name, srv)
 133 | 	self._services[name] = srv
 134 | end
 135 | 
 136 | function Bridge:Fire(player, serviceName, eventName, ...)
 137 | 	if not IS_SERVER then
 138 | 		return
 139 | 	end
 140 | 	local remoteName = serviceName .. "/" .. eventName
 141 | 	local re = self._root:FindFirstChild(remoteName)
 142 | 	if re then
 143 | 		re:FireClient(player, ...)
 144 | 	end
 145 | end
 146 | 
 147 | function Bridge:FireAll(serviceName, eventName, ...)
 148 | 	if not IS_SERVER then
 149 | 		return
 150 | 	end
 151 | 	local remoteName = serviceName .. "/" .. eventName
 152 | 	local re = self._root:FindFirstChild(remoteName)
 153 | 	if re then
 154 | 		re:FireAllClients(...)
 155 | 	end
 156 | end
 157 | 
 158 | -- [[ CLIENT API ]]
 159 | -- [FIX] Parameter sekarang (serviceName, methodName, ...args)
 160 | function Bridge:Request(serviceName, methodName, ...)
 161 | 	if IS_SERVER then
 162 | 		error("Request is Client-Only")
 163 | 	end
 164 | 	local args = { ... }
 165 | 
 166 | 	return Promise.new(function(resolve, reject)
 167 | 		if not self._root then
 168 | 			return reject("Bridge not initialized")
 169 | 		end
 170 | 
 171 | 		-- [FIX] Target nama remote yang benar: Service_Method
 172 | 		local remoteName = serviceName .. "_" .. methodName
 173 | 
 174 | 		-- Timeout 20s
 175 | 		local rf = self._root:WaitForChild(remoteName, 45)
 176 | 		if not rf then
 177 | 			return reject("Timeout: Remote '" .. remoteName .. "' not found")
 178 | 		end
 179 | 
 180 | 		local result = rf:InvokeServer(table.unpack(args))
 181 | 
 182 | 		if type(result) == "table" and result.Success ~= nil then
 183 | 			if result.Success then
 184 | 				resolve(result.Data)
 185 | 			else
 186 | 				reject(result.Error)
 187 | 			end
 188 | 		else
 189 | 			resolve(result)
 190 | 		end
 191 | 	end)
 192 | end
 193 | 
 194 | function Bridge:Listen(serviceName, eventName, callback)
 195 | 	if IS_SERVER then
 196 | 		return
 197 | 	end
 198 | 	if not self._root then
 199 | 		return
 200 | 	end
 201 | 
 202 | 	local remoteName = serviceName .. "/" .. eventName
 203 | 	local re = self._root:WaitForChild(remoteName, 45)
 204 | 	if re then
 205 | 		re.OnClientEvent:Connect(callback)
 206 | 	end
 207 | end
 208 | 
 209 | return Bridge
 210 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Networking/Middleware.luau</strong> (33 lines, 954 Bytes)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Networking.Middleware`

```lua
   1 | --!strict
   2 | -- @Core: Middleware (Chain of Responsibility)
   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)
   4 | local Enums = Loader.Core("Networking/NetworkEnums")
   5 | 
   6 | local Middleware = {}
   7 | 
   8 | -- Tipe: function(player, requestData) -> (shouldContinue, errorMsg, statusCode)
   9 | 
  10 | function Middleware.RateLimiter(maxRequests, interval)
  11 |     return function(player, _)
  12 |         -- TODO: Implementasi Real Rate Limit di Phase 4
  13 |         return true
  14 |     end
  15 | end
  16 | 
  17 | function Middleware.AdminOnly(rankId)
  18 |     return function(player, _)
  19 |         -- Mockup: Selalu boleh di Studio
  20 |         if game:GetService("RunService"):IsStudio() then return true end
  21 |         return false, "Access Denied", Enums.Status.FORBIDDEN
  22 |     end
  23 | end
  24 | 
  25 | function Middleware.Validator(schema)
  26 |     return function(_, args)
  27 |         if not args then return false, "Missing Arguments", Enums.Status.BAD_REQUEST end
  28 |         return true
  29 |     end
  30 | end
  31 | 
  32 | return Middleware
  33 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/Core/Networking/NetworkEnums.luau</strong> (19 lines, 428 Bytes)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.Core.Networking.NetworkEnums`

```lua
   1 | --!strict
   2 | -- @Core: NetworkEnums
   3 | -- Standar Status Code ala HTTP untuk Game Networking
   4 | return table.freeze({
   5 |     Status = {
   6 |         OK = 200,
   7 |         BAD_REQUEST = 400,
   8 |         UNAUTHORIZED = 401,
   9 |         FORBIDDEN = 403,
  10 |         NOT_FOUND = 404,
  11 |         RATE_LIMITED = 429,
  12 |         INTERNAL_ERROR = 500
  13 |     },
  14 |     Events = {
  15 |         SystemHandshake = "SYS_HANDSHAKE",
  16 |         SystemPing = "SYS_PING"
  17 |     }
  18 | })
  19 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/Modules/Inventory/SharedConfig.luau</strong> (66 lines, 1.36 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.Modules.Inventory.SharedConfig`

```lua
   1 | --!strict
   2 | -- @Feature: Inventory Config
   3 | -- @Standard: OVHL v0.2.1 (Action Ready)
   4 | 
   5 | return {
   6 | 	Meta = {
   7 | 		Name = "Inventory",
   8 | 		Type = "Feature",
   9 | 		Version = "4.2.0",
  10 | 	},
  11 | 
  12 | 	Topbar = {
  13 | 		Enabled = true,
  14 | 		Text = "BAG",
  15 | 		Icon = "rbxassetid://96226541857519",
  16 | 		Shortcut = Enum.KeyCode.B,
  17 | 		Order = 1,
  18 | 		Permission = 0,
  19 | 	},
  20 | 
  21 | 	Layout = {
  22 | 		Mode = "Grid",
  23 | 		Grid = {
  24 | 			CellSize = { X = 150, Y = 230 },
  25 | 			Gap = { X = 12, Y = 12 },
  26 | 			Sort = Enum.SortOrder.LayoutOrder,
  27 | 		},
  28 | 	},
  29 | 
  30 | 	UI = {
  31 | 		Title = "MY BACKPACK",
  32 | 		EmptyState = "No items found.",
  33 | 		Transition = "Slide",
  34 | 
  35 | 		RarityColors = {
  36 | 			Common = Color3.fromHex("94A3B8"),
  37 | 			Uncommon = Color3.fromHex("10B981"),
  38 | 			Rare = Color3.fromHex("3B82F6"),
  39 | 			Epic = Color3.fromHex("8B5CF6"),
  40 | 			Legendary = Color3.fromHex("F59E0B"),
  41 | 			Mythic = Color3.fromHex("EF4444"),
  42 | 		},
  43 | 
  44 | 		Actions = {
  45 | 			{ Id = "Equip", Label = "EQUIP", Style = "Primary" },
  46 | 			{ Id = "Drop", Label = "DROP", Style = "Danger" },
  47 | 		},
  48 | 	},
  49 | 
  50 | 	Network = {
  51 | 		Route = "Inventory",
  52 | 		Requests = {
  53 | 			GetItems = {
  54 | 				RateLimit = { Max = 5, Interval = 1 },
  55 | 				Args = {},
  56 | 			},
  57 | 			-- [NEW] Endpoint untuk Aksi
  58 | 			PerformAction = {
  59 | 				RateLimit = { Max = 4, Interval = 1 }, -- Strict Security via Bridge
  60 | 				Args = { { name = "itemId", type = "any" }, { name = "action", type = "string" } },
  61 | 			},
  62 | 		},
  63 | 		Events = {},
  64 | 	},
  65 | }
  66 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/ActionGuard.luau</strong> (58 lines, 1.87 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.ActionGuard`

```lua
   1 | --!strict
   2 | -- @Foundation: ActionGuard (Global Logic Gatekeeper)
   3 | -- @Role: Mencegah Spam, Race Condition, dan Menghandle Confirmation Flow
   4 | local RS = game:GetService("ReplicatedStorage")
   5 | local Loader = require(RS.OVHL.Core.Loader)
   6 | local Signals = Loader.Core("Signals")
   7 | 
   8 | local ActionGuard = {}
   9 | local _isBusy = false -- Global Lock
  10 | 
  11 | -- [[ API UTAMA ]]
  12 | -- @param opts: { Confirm: {Title, Msg}, Debounce: number }
  13 | -- @param callback: Fungsi yang akan dijalankan jika lolos guard
  14 | function ActionGuard.Run(opts, callback)
  15 |     -- 1. Global Busy Check
  16 |     if _isBusy then 
  17 |         warn("[ActionGuard] System Busy / Spam Detected")
  18 |         return 
  19 |     end
  20 |     
  21 |     -- 2. Lock System
  22 |     _isBusy = true
  23 |     
  24 |     -- Helper untuk unlock (dipanggil saat selesai/batal)
  25 |     local function unlock()
  26 |         _isBusy = false
  27 |     end
  28 | 
  29 |     -- 3. Confirmation Flow
  30 |     if opts.Confirm then
  31 |         -- Kirim Sinyal ke UI System (FrameworkController) buat nampilin Dialog
  32 |         Signals:Fire("SystemUI:RequestConfirm", {
  33 |             Title = opts.Confirm.Title,
  34 |             Message = opts.Confirm.Msg,
  35 |             
  36 |             -- Callback Result dari UI
  37 |             OnResult = function(confirmed)
  38 |                 if confirmed then
  39 |                     -- Eksekusi aksi nyata
  40 |                     local success, err = pcall(callback)
  41 |                     if not success then warn("[ActionGuard] Execution Error:", err) end
  42 |                 end
  43 |                 -- Buka gembok setelah user milih Yes/No atau Timeout
  44 |                 unlock()
  45 |             end
  46 |         })
  47 |     else
  48 |         -- Langsung Eksekusi (Instant Action)
  49 |         local success, err = pcall(callback)
  50 |         if not success then warn("[ActionGuard] Execution Error:", err) end
  51 |         
  52 |         -- Debounce sederhana buat Instant Action
  53 |         task.delay(opts.Debounce or 0.5, unlock)
  54 |     end
  55 | end
  56 | 
  57 | return ActionGuard
  58 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/API.luau</strong> (46 lines, 1.37 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.API`

```lua
   1 | --!strict
   2 | -- @UI: API (Motion System Integrated)
   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)
   4 | 
   5 | local Fusion = Loader.Pkg("Fusion")
   6 | local Onyx = Loader.Pkg("onyx-ui")
   7 | 
   8 | local Assets = Loader.UI.Foundation.Assets
   9 | local Motion = Loader.UI.Foundation.Motion
  10 | local MotionPresets = Loader.UI.Foundation.MotionPresets
  11 | local Theme = Loader.UI.Foundation.OVHLTheme
  12 | local Util = Loader.UI.Foundation.Util
  13 | local SafeLoader = Loader.UI.Foundation.SafeLoader
  14 | 
  15 | local API = {}
  16 | 
  17 | for k,v in pairs(Fusion) do API[k] = v end
  18 | 
  19 | API.Fusion = Fusion
  20 | API.Onyx = Onyx
  21 | API.Theme = Theme
  22 | API.Motion = Motion
  23 | API.MotionPresets = MotionPresets
  24 | API.Assets = Assets
  25 | API.Util = Util
  26 | API.SafeLoader = SafeLoader
  27 | API.Themer = Onyx.Themer
  28 | 
  29 | function API.New(scope, class) return Fusion.New(scope, class) end
  30 | 
  31 | local Components = {
  32 |     AsyncButton = Loader.UI.Foundation.Components.AsyncButton(API),
  33 |     SmartText = Loader.UI.Foundation.Components.SmartText(API),
  34 |     SmartWindow = Loader.UI.Foundation.Components.SmartWindow(API),
  35 |     GridContainer = Loader.UI.Foundation.Components.GridContainer(API),
  36 |     ScreenWrapper = Loader.UI.Foundation.Components.ScreenWrapper(API),
  37 |     ItemSlot = Loader.UI.Foundation.Components.ItemSlot(API)
  38 | }
  39 | API.Components = Components
  40 | 
  41 | function API.NewScope()
  42 |     return Fusion.scoped(Fusion, Util, Components)
  43 | end
  44 | 
  45 | return table.freeze(API)
  46 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Assets.luau</strong> (15 lines, 433 Bytes)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Assets`

```lua
   1 | --!strict
   2 | -- @Asset: Icon Registry (Updated)
   3 | return table.freeze({
   4 |     Icons = {
   5 |         -- [FIX] Ganti ID Close ke yang lebih modern/HD (Lucide Style X)
   6 |         Close = "rbxassetid://11293981586", 
   7 |         Loading = "rbxassetid://16960657067", 
   8 |     },
   9 |     Placeholders = {
  10 |         Sword = "rbxassetid://13006407439", 
  11 |         Potion = "rbxassetid://12905487363",
  12 |         Generic = "rbxassetid://12663335633" 
  13 |     }
  14 | })
  15 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Motion.luau</strong> (32 lines, 895 Bytes)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Motion`

```lua
   1 | --!strict
   2 | -- @Foundation: Motion (Scope Safe)
   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)
   4 | local Fusion = Loader.Pkg("Fusion")
   5 | 
   6 | local Motion = {}
   7 | 
   8 | -- Fusion 0.3 Spring
   9 | local SPEED_BASE = 25
  10 | local DAMP_BASE = 1
  11 | local SPEED_BOUNCY = 30
  12 | local DAMP_BOUNCY = 0.6
  13 | 
  14 | function Motion.Spring(scope, targetValue)
  15 |     return Fusion.Spring(scope, targetValue, SPEED_BASE, DAMP_BASE)
  16 | end
  17 | 
  18 | function Motion.Bouncy(scope, targetValue)
  19 |     return Fusion.Spring(scope, targetValue, SPEED_BOUNCY, DAMP_BOUNCY)
  20 | end
  21 | 
  22 | -- [FIXED] Hover Scale Logic without Scope Leak
  23 | function Motion.HoverScale(scope, isHoveredState)
  24 |     -- Kita buat spring terpisah yang mengikuti boolean
  25 |     local target = Fusion.Computed(scope, function(use)
  26 |         return use(isHoveredState) and 1.05 or 1
  27 |     end)
  28 |     return Fusion.Spring(scope, target, SPEED_BASE, DAMP_BASE)
  29 | end
  30 | 
  31 | return Motion
  32 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/MotionPresets.luau</strong> (104 lines, 3.66 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.MotionPresets`

```lua
   1 | --!strict
   2 | -- @Foundation: MotionPresets v2.0 (Directional)
   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)
   4 | local Fusion = Loader.Pkg("Fusion")
   5 | local Motion = Loader.UI.Foundation.Motion
   6 | 
   7 | local Presets = {}
   8 | 
   9 | -- [HELPER]
  10 | local function bind(scope, state, valTrue, valFalse, motionType)
  11 |     local target = Fusion.Computed(scope, function(use)
  12 |         return use(state) and valTrue or valFalse
  13 |     end)
  14 |     return motionType(scope, target)
  15 | end
  16 | 
  17 | -- ==========================================
  18 | -- 1. BASIC ANIMATIONS
  19 | -- ==========================================
  20 | 
  21 | -- POP UP (Zoom In + Fade)
  22 | function Presets.PopUp(scope, isVisible)
  23 |     return {
  24 |         Scale = bind(scope, isVisible, 1, 0.8, Motion.Bouncy),
  25 |         Transparency = bind(scope, isVisible, 0, 1, Motion.Spring),
  26 |         Position = UDim2.fromScale(0.5, 0.5),
  27 |         AnchorPoint = Vector2.new(0.5, 0.5)
  28 |     }
  29 | end
  30 | 
  31 | -- FADE (Alpha Only)
  32 | function Presets.Fade(scope, isVisible)
  33 |     return {
  34 |         Scale = 1,
  35 |         Transparency = bind(scope, isVisible, 0, 1, Motion.Spring),
  36 |         Position = UDim2.fromScale(0.5, 0.5),
  37 |         AnchorPoint = Vector2.new(0.5, 0.5)
  38 |     }
  39 | end
  40 | 
  41 | -- ==========================================
  42 | -- 2. DIRECTIONAL SLIDES (OFF-SCREEN ENTRY)
  43 | -- ==========================================
  44 | 
  45 | -- SLIDE FROM BOTTOM (Naik ke atas)
  46 | -- Cocok untuk: Inventory, Shop, Mobile Cards
  47 | function Presets.SlideFromBottom(scope, isVisible)
  48 |     return {
  49 |         Scale = 1,
  50 |         Transparency = bind(scope, isVisible, 0, 1, Motion.Spring),
  51 |         -- Visible: Tengah (0.5, 0.5). Hidden: Bawah Layar (0.5, 1.5)
  52 |         Position = bind(scope, isVisible, UDim2.fromScale(0.5, 0.5), UDim2.fromScale(0.5, 1.5), Motion.Bouncy),
  53 |         AnchorPoint = Vector2.new(0.5, 0.5)
  54 |     }
  55 | end
  56 | 
  57 | -- SLIDE FROM TOP (Turun ke bawah)
  58 | -- Cocok untuk: Settings, Notifications
  59 | function Presets.SlideFromTop(scope, isVisible)
  60 |     return {
  61 |         Scale = 1,
  62 |         Transparency = bind(scope, isVisible, 0, 1, Motion.Spring),
  63 |         -- Visible: Tengah. Hidden: Atas Layar (0.5, -0.5)
  64 |         Position = bind(scope, isVisible, UDim2.fromScale(0.5, 0.5), UDim2.fromScale(0.5, -0.5), Motion.Bouncy),
  65 |         AnchorPoint = Vector2.new(0.5, 0.5)
  66 |     }
  67 | end
  68 | 
  69 | -- SLIDE FROM LEFT (Masuk dari kiri)
  70 | -- Cocok untuk: Sidebar Menu, Navigation
  71 | function Presets.SlideFromLeft(scope, isVisible)
  72 |     return {
  73 |         Scale = 1,
  74 |         Transparency = bind(scope, isVisible, 0, 1, Motion.Spring), -- Optional: set 0 kalau mau solid terus
  75 |         -- Visible: Kiri Tengah (Atur posisi sesuai kebutuhan, misal Sidebar biasanya nempel kiri)
  76 |         -- Disini kita buat ke tengah layar dulu biar konsisten sama SmartWindow
  77 |         Position = bind(scope, isVisible, UDim2.fromScale(0.5, 0.5), UDim2.fromScale(-0.5, 0.5), Motion.Bouncy),
  78 |         AnchorPoint = Vector2.new(0.5, 0.5)
  79 |     }
  80 | end
  81 | 
  82 | -- SLIDE FROM RIGHT (Masuk dari kanan)
  83 | -- Cocok untuk: Details Panel, Inspect
  84 | function Presets.SlideFromRight(scope, isVisible)
  85 |     return {
  86 |         Scale = 1,
  87 |         Transparency = bind(scope, isVisible, 0, 1, Motion.Spring),
  88 |         -- Hidden: Kanan Layar (1.5)
  89 |         Position = bind(scope, isVisible, UDim2.fromScale(0.5, 0.5), UDim2.fromScale(1.5, 0.5), Motion.Bouncy),
  90 |         AnchorPoint = Vector2.new(0.5, 0.5)
  91 |     }
  92 | end
  93 | 
  94 | -- ==========================================
  95 | -- 3. ALIASES (Shortcuts)
  96 | -- ==========================================
  97 | Presets.Slide = Presets.SlideFromBottom -- Default "Slide" = Bottom
  98 | Presets.SlideBottom = Presets.SlideFromBottom
  99 | Presets.SlideTop = Presets.SlideFromTop
 100 | Presets.SlideLeft = Presets.SlideFromLeft
 101 | Presets.SlideRight = Presets.SlideFromRight
 102 | 
 103 | return table.freeze(Presets)
 104 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/OVHLTheme.luau</strong> (53 lines, 1.61 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.OVHLTheme`

```lua
   1 | --!strict
   2 | -- @UI: OVHLTheme (Enterprise Design Tokens)
   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)
   4 | local Fusion = Loader.Pkg("Fusion")
   5 | local Onyx = Loader.Pkg("onyx-ui")
   6 | local Util = Loader.UI.Foundation.Util
   7 | 
   8 | local Scope = Fusion.scoped(Fusion)
   9 | 
  10 | -- Palet Warna (Zinc & Emerald)
  11 | local P = {
  12 |     Zinc950 = Color3.fromHex("09090b"), -- Background Gelap
  13 |     Zinc900 = Color3.fromHex("18181b"), -- Card Background
  14 |     Zinc800 = Color3.fromHex("27272a"), -- Border/Stroke
  15 |     Zinc400 = Color3.fromHex("a1a1aa"), -- Text Muted
  16 |     White   = Color3.fromHex("ffffff"), -- Text Main
  17 |     
  18 |     Emerald500 = Color3.fromHex("10b981"), -- Primary Action
  19 |     Red500     = Color3.fromHex("ef4444"), -- Destructive
  20 | }
  21 | 
  22 | local OVHLTheme = Onyx.Themer.NewTheme(Scope, {
  23 |     Colors = {
  24 |         Base        = { Main = P.Zinc900, Alt = P.Zinc950 },
  25 |         BaseContent = { Main = P.White, Muted = P.Zinc400 },
  26 |         Primary     = { Main = P.Emerald500 },
  27 |         Neutral     = { Main = P.Zinc800 },
  28 |         Error       = { Main = P.Red500 },
  29 |     },
  30 |     CornerRadius = {
  31 |         Small  = 4,
  32 |         Base   = 8,
  33 |         Large  = 12
  34 |     },
  35 |     StrokeThickness = {
  36 |         Base = 1,
  37 |         Focus = 2
  38 |     },
  39 |     -- [NEW] Spacing Tokens (Single Source of Truth)
  40 |     Spacing = {
  41 |         Small  = 4,
  42 |         Medium = 8,
  43 |         Large  = 12,
  44 |         XLarge = 16
  45 |     },
  46 |     Font = {
  47 |         Body    = Util.ToFont("rbxasset://fonts/families/GothamSSm.json", Enum.FontWeight.Medium),
  48 |         Heading = Util.ToFont("rbxasset://fonts/families/GothamSSm.json", Enum.FontWeight.Bold)
  49 |     }
  50 | })
  51 | 
  52 | return OVHLTheme
  53 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/SafeLoader.luau</strong> (48 lines, 1.47 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.SafeLoader`

```lua
   1 | --!strict
   2 | -- @Foundation: SafeLoader (With Telemetry)
   3 | local RS = game:GetService("ReplicatedStorage")
   4 | local Loader = require(RS.OVHL.Core.Loader)
   5 | local Fusion = Loader.Pkg("Fusion")
   6 | local SmartLogger = Loader.Core("SmartLogger")
   7 | 
   8 | local SafeLoader = {}
   9 | local Logger = SmartLogger.New("USER_INTERFACE")
  10 | 
  11 | function SafeLoader.Mount(scope, componentFunc, props)
  12 |     local viewName = "UnknownView"
  13 |     if props.Config and props.Config.Meta then
  14 |         viewName = props.Config.Meta.Name .. "View"
  15 |     end
  16 | 
  17 |     local success, result = xpcall(function()
  18 |         return componentFunc(scope, props)
  19 |     end, debug.traceback)
  20 | 
  21 |     if success then
  22 |         Logger:Info("MountSuccess", { -- Pakai Info agar pasti muncul
  23 |             View = viewName,
  24 |             Screen = props.Name or "Screen"
  25 |         })
  26 |         return result
  27 |     else
  28 |         Logger:Error("MountFailed", { View = viewName, Error = result })
  29 |         
  30 |         return scope:New "Frame" {
  31 |             Name = "ErrorBoundary",
  32 |             Size = UDim2.fromScale(1, 1),
  33 |             BackgroundColor3 = Color3.fromRGB(40, 0, 0),
  34 |             ZIndex = 9999,
  35 |             [Fusion.Children] = {
  36 |                 scope:New "TextLabel" {
  37 |                     Text = "UI ERROR: " .. tostring(result),
  38 |                     TextColor3 = Color3.new(1,0.5,0.5),
  39 |                     Size = UDim2.fromScale(1,1),
  40 |                     BackgroundTransparency = 0.5
  41 |                 }
  42 |             }
  43 |         }
  44 |     end
  45 | end
  46 | 
  47 | return SafeLoader
  48 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Theme.luau</strong> (2 lines, 44 Bytes)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Theme`

```lua
   1 | --!strict
   2 | -- Deprecated. Use OVHLTheme.luau
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Util.luau</strong> (39 lines, 1.32 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Util`

```lua
   1 | --!strict
   2 | -- @Foundation: UI Utilities
   3 | -- @Responsibility: Data Conversion & Asset Normalization
   4 | local Util = {}
   5 | 
   6 | -- [[ FONT CONVERTER ]]
   7 | -- Mengubah string config menjadi Font Object yang valid
   8 | function Util.ToFont(fontSource, weight, style)
   9 |     if typeof(fontSource) == "Font" then
  10 |         return fontSource
  11 |     elseif type(fontSource) == "string" then
  12 |         -- Default fallback args
  13 |         local w = weight or Enum.FontWeight.Regular
  14 |         local s = style or Enum.FontStyle.Normal
  15 |         
  16 |         -- Cek apakah ini Enum.Font legacy (jarang dipakai di framework modern) atau Asset ID
  17 |         if fontSource:match("^rbxasset") then
  18 |             return Font.new(fontSource, w, s)
  19 |         else
  20 |             -- Fallback jika string nama font biasa (Gotham, etc) - though Font.new usually takes ID
  21 |             return Font.new("rbxasset://fonts/families/GothamSSm.json", w, s)
  22 |         end
  23 |     end
  24 |     -- Fallback total
  25 |     return Font.new("rbxasset://fonts/families/GothamSSm.json")
  26 | end
  27 | 
  28 | -- [[ ASSET ID CLEANER ]]
  29 | -- Memastikan ID selalu format "rbxassetid://..."
  30 | function Util.CleanAssetId(id)
  31 |     if not id then return "" end
  32 |     local str = tostring(id)
  33 |     if str:match("^rbxasset") then return str end
  34 |     if str:match("^%d+$") then return "rbxassetid://" .. str end
  35 |     return str
  36 | end
  37 | 
  38 | return table.freeze(Util)
  39 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Bridges/Topbar.lua</strong> (81 lines, 2.4 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Bridges.Topbar`

```lua
   1 | -- @Bridge: TopbarPlus (With Security Check)
   2 | local RS = game:GetService("ReplicatedStorage")
   3 | local Players = game:GetService("Players")
   4 | local Loader = require(RS.OVHL.Core.Loader)
   5 | local SmartLogger = Loader.Core("SmartLogger")
   6 | 
   7 | local TopbarPlus = Loader.Pkg("topbarplus")
   8 | local Fusion = Loader.Pkg("Fusion")
   9 | local API = Loader.UI("Foundation/API")
  10 | 
  11 | local TopbarBridge = {}
  12 | local _initialized = false
  13 | local Logger = nil 
  14 | 
  15 | function TopbarBridge.Init()
  16 |     if _initialized then return end
  17 |     _initialized = true
  18 |     Logger = SmartLogger.New("TOPBAR")
  19 |     
  20 |     local Theme = API.Theme
  21 |     local peek = Fusion.peek
  22 |     local C = Theme.Colors
  23 |     
  24 |     TopbarPlus.setDisplayOrder(10000)
  25 |     TopbarPlus.modifyBaseTheme({
  26 |         {"IconBackgroundColor", peek(C.Base.Main)},
  27 |         {"IconBorderColor", peek(C.Neutral.Main)},
  28 |         {"IconImageColor", peek(C.BaseContent.Main)},
  29 |         {"IconLabelColor", peek(C.BaseContent.Main)},
  30 |         {"WidgetBackgroundColor", peek(C.Base.Main)},
  31 |         {"WidgetBorderColor", peek(C.Neutral.Main)},
  32 |         {"IconCornerRadius", UDim.new(0, 8)},
  33 |     })
  34 |     
  35 |     Logger:Info("System", "Bridge Initialized")
  36 | end
  37 | 
  38 | function TopbarBridge.Register(name, config, toggleFunc)
  39 |     TopbarBridge.Init()
  40 |     
  41 |     if not config or not config.Enabled then return nil end
  42 |     
  43 |     -- [SECURITY CHECK] The Gatekeeper
  44 |     if config.Permission then
  45 |         local myRank = Players.LocalPlayer:GetAttribute("OVHL_Rank") or 0
  46 |         if myRank < config.Permission then
  47 |             Logger:Debug("Hidden", { 
  48 |                 Module = name, 
  49 |                 Reason = "Low Rank", 
  50 |                 Req = config.Permission, 
  51 |                 Got = myRank 
  52 |             })
  53 |             return nil -- Jangan bikin icon sama sekali!
  54 |         end
  55 |     end
  56 |     
  57 |     Logger:Info("Register", { Name = name, Perm = config.Permission or 0 })
  58 |     
  59 |     local icon = TopbarPlus.new()
  60 |         :setLabel(config.Text or name)
  61 |         :setImage(config.Icon)
  62 |         :setOrder(config.Order or 10)
  63 |         
  64 |     if config.Caption then icon:setCaption(config.Caption) end
  65 |     if config.Shortcut then icon:bindToggleKey(config.Shortcut) end
  66 |     
  67 |     icon.selected:Connect(function() 
  68 |         Logger:Debug("Interaction", {Action="Open", Module=name})
  69 |         toggleFunc(true) 
  70 |     end)
  71 |     
  72 |     icon.deselected:Connect(function() 
  73 |         Logger:Debug("Interaction", {Action="Close", Module=name})
  74 |         toggleFunc(false) 
  75 |     end)
  76 |     
  77 |     return icon
  78 | end
  79 | 
  80 | return TopbarBridge
  81 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Components/AsyncButton.luau</strong> (75 lines, 2.71 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Components.AsyncButton`

```lua
   1 | --!strict
   2 | -- @Component: AsyncButton (Telemetry Enabled)
   3 | -- @Standard: OVHL Gold (With UX Logs)
   4 | 
   5 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)
   6 | local SmartLogger = Loader.Core.SmartLogger
   7 | local UXLogger = SmartLogger.New("UX") -- [CRITICAL] Logger khusus User Experience
   8 | 
   9 | return function(API)
  10 |     local Onyx = API.Onyx
  11 |     
  12 |     return function(scope, props)
  13 |         local isProcessing = scope:Value(false)
  14 |         
  15 |         -- Ambil nama tombol untuk log
  16 |         local btnName = props.Text or "UnknownButton"
  17 |         
  18 |         return Onyx.Components.Button(scope, {
  19 |             Size = props.Size,
  20 |             LayoutOrder = props.LayoutOrder,
  21 |             Style = props.Style or "Filled",
  22 |             Color = props.Color,
  23 |             
  24 |             Disabled = API.Computed(scope, function(use)
  25 |                 return props.Disabled or use(isProcessing)
  26 |             end),
  27 |             
  28 |             Content = API.Computed(scope, function(use)
  29 |                 if use(isProcessing) then return { "..." } else return { btnName } end
  30 |             end),
  31 |             
  32 |             OnActivate = function()
  33 |                 -- [TELEMETRY] Log detik ini juga saat klik terjadi
  34 |                 UXLogger:Info("Interact", { 
  35 |                     Element = btnName, 
  36 |                     State = "Clicked",
  37 |                     Processing = API.Fusion.peek(isProcessing) 
  38 |                 })
  39 | 
  40 |                 -- Debounce Check
  41 |                 if API.Fusion.peek(isProcessing) then 
  42 |                     UXLogger:Debug("Debounce", "Click ignored (Processing)")
  43 |                     return 
  44 |                 end
  45 |                 
  46 |                 if props.OnClick then
  47 |                     isProcessing:set(true)
  48 |                     
  49 |                     -- Bungkus xpcall
  50 |                     local success, result = xpcall(function()
  51 |                         return props.OnClick()
  52 |                     end, debug.traceback)
  53 |                     
  54 |                     if not success then
  55 |                         UXLogger:Error("ClickError", { Element = btnName, Trace = result })
  56 |                         isProcessing:set(false)
  57 |                         return
  58 |                     end
  59 |                     
  60 |                     -- Handle Promise
  61 |                     if result and typeof(result) == "table" and result.andThen then
  62 |                         result:finally(function()
  63 |                             isProcessing:set(false)
  64 |                             UXLogger:Info("TaskDone", { Element = btnName })
  65 |                         end)
  66 |                     else
  67 |                         task.wait(0.1)
  68 |                         isProcessing:set(false)
  69 |                     end
  70 |                 end
  71 |             end
  72 |         })
  73 |     end
  74 | end
  75 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Components/GridContainer.luau</strong> (37 lines, 1.32 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Components.GridContainer`

```lua
   1 | --!strict
   2 | -- @Component: GridContainer
   3 | -- @Role: Layout Wrapper
   4 | return function(API)
   5 |     local function New(scope, class) return API.New(scope, class) end
   6 | 
   7 |     return function(scope, props)
   8 |         local cellSize = props.CellSize or {X=100, Y=100}
   9 |         local gap = props.Gap or {X=10, Y=10}
  10 |         
  11 |         return New(scope, "ScrollingFrame") {
  12 |             Name = "GridContainer",
  13 |             Size = UDim2.fromScale(1, 1),
  14 |             BackgroundTransparency = 1,
  15 |             CanvasSize = UDim2.new(0, 0, 0, 0),
  16 |             AutomaticCanvasSize = Enum.AutomaticSize.Y,
  17 |             ScrollBarThickness = 4,
  18 |             
  19 |             [API.Children] = {
  20 |                 New(scope, "UIPadding") {
  21 |                     PaddingTop = UDim.new(0, 10), PaddingBottom = UDim.new(0, 10),
  22 |                     PaddingLeft = UDim.new(0, 10), PaddingRight = UDim.new(0, 10)
  23 |                 },
  24 |                 
  25 |                 New(scope, "UIGridLayout") {
  26 |                     CellSize = UDim2.fromOffset(cellSize.X, cellSize.Y),
  27 |                     CellPadding = UDim2.fromOffset(gap.X, gap.Y),
  28 |                     HorizontalAlignment = Enum.HorizontalAlignment.Center,
  29 |                     SortOrder = Enum.SortOrder.LayoutOrder
  30 |                 },
  31 |                 
  32 |                 props[API.Children]
  33 |             }
  34 |         }
  35 |     end
  36 | end
  37 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Components/ItemSlot.luau</strong> (155 lines, 6.71 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Components.ItemSlot`

```lua
   1 | --!strict
   2 | -- @Component: ItemSlot v3.1 (Visual States)
   3 | return function(API)
   4 | 	local Theme = API.Theme
   5 |     local Assets = API.Assets
   6 |     local function New(scope, class) return API.New(scope, class) end
   7 | 	
   8 | 	return function(scope, props)
   9 | 		local Item = props.Item
  10 | 		local Config = props.Config or {}
  11 | 		
  12 |         -- [STATE] Cek status Equipped
  13 |         local isEquipped = Item.Equipped == true
  14 |         
  15 |         -- [STYLE] Rarity Color (Override jadi GOLD jika equipped)
  16 | 		local rarityColors = Config.UI and Config.UI.RarityColors or {}
  17 | 		local baseColor = rarityColors[Item.Rarity] or Theme.Colors.Neutral.Main
  18 |         
  19 |         local borderColor = isEquipped and Color3.fromHex("FFD700") or baseColor -- Gold if equipped
  20 |         local borderThickness = isEquipped and 3 or 2
  21 |         
  22 |         local imageId = Item.Icon 
  23 |         if not imageId or imageId == "" then
  24 |             imageId = Assets.Placeholders.Generic
  25 |             if string.find(Item.Name, "Sword") then imageId = Assets.Placeholders.Sword end
  26 |             if string.find(Item.Name, "Potion") then imageId = Assets.Placeholders.Potion end
  27 |         end
  28 | 
  29 | 		return New(scope, "Frame") {
  30 | 			Name = "Slot_" .. (Item.Id or "0"),
  31 | 			Size = UDim2.fromScale(1, 1),
  32 | 			BackgroundColor3 = Theme.Colors.Base.Main,
  33 |             
  34 | 			[API.Children] = {
  35 | 				New(scope, "UICorner") { CornerRadius = UDim.new(0, Theme.CornerRadius.Base) },
  36 | 				
  37 |                 -- Border (Dynamic Color)
  38 |                 New(scope, "UIStroke") {
  39 | 					Color = borderColor,
  40 | 					Thickness = borderThickness,
  41 | 					Transparency = isEquipped and 0 or 0.3,
  42 | 					ApplyStrokeMode = Enum.ApplyStrokeMode.Border
  43 | 				},
  44 |                 
  45 |                 -- Equipped Tag (Corner)
  46 |                 isEquipped and New(scope, "Frame") {
  47 |                     Size = UDim2.fromOffset(24, 24),
  48 |                     Position = UDim2.new(1, -4, 0, 4),
  49 |                     AnchorPoint = Vector2.new(1, 0),
  50 |                     BackgroundColor3 = Color3.fromHex("FFD700"),
  51 |                     ZIndex = 5,
  52 |                     [API.Children] = {
  53 |                         New(scope, "UICorner") { CornerRadius = UDim.new(0, 4) },
  54 |                         New(scope, "TextLabel") {
  55 |                             Text = "E",
  56 |                             Size = UDim2.fromScale(1,1),
  57 |                             BackgroundTransparency = 1,
  58 |                             TextColor3 = Color3.new(0,0,0),
  59 |                             FontFace = Theme.Font.Heading,
  60 |                             TextSize = 14
  61 |                         }
  62 |                     }
  63 |                 } or nil,
  64 | 				
  65 | 				New(scope, "Frame") {
  66 | 					Size = UDim2.fromScale(1, 1),
  67 | 					BackgroundTransparency = 1,
  68 | 					
  69 | 					[API.Children] = {
  70 | 						New(scope, "UIPadding") {
  71 | 							PaddingTop = UDim.new(0, Theme.Spacing.Medium), 
  72 |                             PaddingBottom = UDim.new(0, Theme.Spacing.Medium),
  73 | 							PaddingLeft = UDim.new(0, Theme.Spacing.Medium), 
  74 |                             PaddingRight = UDim.new(0, Theme.Spacing.Medium),
  75 | 						},
  76 |                         
  77 |                         New(scope, "UIListLayout") {
  78 |                             SortOrder = Enum.SortOrder.LayoutOrder,
  79 |                             Padding = UDim.new(0, Theme.Spacing.Small),
  80 |                             HorizontalAlignment = Enum.HorizontalAlignment.Center,
  81 |                             VerticalAlignment = Enum.VerticalAlignment.Top
  82 |                         },
  83 |                         
  84 |                         -- 1. IMAGE
  85 |                         New(scope, "ImageLabel") {
  86 |                             LayoutOrder = 1,
  87 |                             Size = UDim2.fromOffset(80, 80),
  88 |                             BackgroundTransparency = 1,
  89 |                             Image = imageId,
  90 |                             ScaleType = Enum.ScaleType.Fit
  91 |                         },
  92 | 
  93 | 						-- 2. NAME
  94 |                         scope:SmartText {
  95 |                             LayoutOrder = 2,
  96 |                             Text = Item.Name,
  97 |                             Variant = "Body", 
  98 |                             Align = Enum.TextXAlignment.Center,
  99 |                             Size = 14
 100 |                         },
 101 |                         
 102 |                         -- 3. RARITY
 103 |                         scope:SmartText {
 104 |                             LayoutOrder = 3,
 105 |                             Text = string.upper(Item.Rarity),
 106 |                             Variant = "Caption",
 107 |                             Align = Enum.TextXAlignment.Center,
 108 |                             Color = baseColor 
 109 |                         },
 110 | 
 111 |                         -- 5. ACTION BUTTONS
 112 |                         New(scope, "Frame") {
 113 |                             LayoutOrder = 5,
 114 |                             Size = UDim2.new(1, 0, 0, 0),
 115 |                             AutomaticSize = Enum.AutomaticSize.Y,
 116 |                             BackgroundTransparency = 1,
 117 |                             
 118 |                             [API.Children] = {
 119 |                                 New(scope, "UIListLayout") {
 120 |                                     FillDirection = Enum.FillDirection.Vertical,
 121 |                                     Padding = UDim.new(0, Theme.Spacing.Small),
 122 |                                     HorizontalAlignment = Enum.HorizontalAlignment.Center
 123 |                                 },
 124 |                                 
 125 |                                 API.ForValues(scope, Config.UI.Actions or {}, function(use, innerScope, action)
 126 |                                     -- [LOGIC] Swap Text "EQUIP" -> "UNEQUIP"
 127 |                                     local label = action.Label
 128 |                                     local style = action.Style
 129 |                                     
 130 |                                     if action.Id == "Equip" and isEquipped then
 131 |                                         label = "UNEQUIP"
 132 |                                         style = "Outlined" -- Ganti style biar beda
 133 |                                     end
 134 |                                 
 135 |                                     return innerScope:AsyncButton {
 136 |                                         Text = label,
 137 |                                         Style = style,
 138 |                                         Size = UDim2.new(1, 0, 0, 28),
 139 |                                         
 140 |                                         OnClick = function()
 141 |                                             if props.OnAction then
 142 |                                                 props.OnAction(Item, action.Id, function() end)
 143 |                                             end
 144 |                                         end
 145 |                                     }
 146 |                                 end)
 147 |                             }
 148 |                         }
 149 | 					}
 150 | 				}
 151 | 			}
 152 | 		}
 153 | 	end
 154 | end
 155 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Components/ScreenWrapper.luau</strong> (52 lines, 1.53 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Components.ScreenWrapper`

```lua
   1 | --!strict
   2 | -- @Component: ScreenWrapper
   3 | -- @Standard: Explicit API Usage
   4 | return function(API)
   5 | 	local Themer = API.Themer
   6 | 	local Theme = API.Theme
   7 |     -- [FIX] Ambil AutoScaler langsung dari Onyx, jangan via scope
   8 |     local AutoScaler = API.Onyx.Components.AutoScaler or API.Onyx.AutoScaler
   9 | 
  10 | 	return function(scope, props)
  11 | 		local PlayerGui = game.Players.LocalPlayer:WaitForChild("PlayerGui")
  12 | 
  13 | 		return API.New(scope, "ScreenGui") {
  14 | 			Name = props.Name or "OVHL_Screen",
  15 | 			Parent = PlayerGui,
  16 | 			ResetOnSpawn = false,
  17 | 			IgnoreGuiInset = true,
  18 | 			DisplayOrder = props.Order or 10,
  19 | 			Enabled = props.Enabled,
  20 | 
  21 | 			[API.Children] = {
  22 | 				-- [FIX] Explicit Call: AutoScaler(scope, props)
  23 |                 -- Onyx components biasanya dipanggil sebagai fungsi: Component(scope, props)
  24 | 				AutoScaler(scope, {
  25 | 					Name = "ResponsiveCanvas",
  26 | 					BaseResolution = Vector2.new(1280, 720),
  27 | 					MinScale = 0.5,
  28 | 					MaxScale = 1.5,
  29 | 					AnchorPoint = Vector2.new(0.5, 0.5),
  30 | 					Position = UDim2.fromScale(0.5, 0.5),
  31 | 					Size = UDim2.fromScale(1, 1),
  32 | 					BackgroundTransparency = 1,
  33 | 
  34 | 					[API.Children] = {
  35 | 						Themer.Theme:is(Theme):during(function()
  36 | 							return API.New(scope, "Frame") {
  37 | 								Name = "ProviderScope",
  38 | 								AnchorPoint = Vector2.new(0.5, 0.5),
  39 | 								Position = UDim2.fromScale(0.5, 0.5),
  40 | 								Size = UDim2.fromScale(1, 1),
  41 | 								BackgroundTransparency = 1,
  42 | 								Active = false,
  43 | 								[API.Children] = props[API.Children],
  44 | 							}
  45 | 						end),
  46 | 					},
  47 | 				}),
  48 | 			},
  49 | 		}
  50 | 	end
  51 | end
  52 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Components/SmartButton.luau</strong> (47 lines, 1.58 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Components.SmartButton`

```lua
   1 | --!strict
   2 | -- @Component: SmartButton (With Telemetry)
   3 | local RS = game:GetService("ReplicatedStorage")
   4 | local Loader = require(RS.OVHL.Core.Loader)
   5 | local SmartLogger = Loader.Core("SmartLogger")
   6 | 
   7 | -- Logger khusus interaksi User
   8 | local UXLogger = SmartLogger.New("UX") 
   9 | 
  10 | return function(API)
  11 |     return function(scope, props)
  12 |         -- Map OVHL Style to Onyx Style
  13 |         local style = "Filled"
  14 |         if props.Style == "Outline" then style = "Outlined" end
  15 |         if props.Style == "Ghost" then style = "Ghost" end
  16 |         
  17 |         local color = nil
  18 |         if props.Style == "Danger" then color = API.Util.Colors.Red["500"] end
  19 |         
  20 |         -- Ambil Text untuk Log (Bisa string atau State)
  21 |         local btnText = props.Text or "Unknown"
  22 |         
  23 |         return scope:Button {
  24 |             Content = { props.Text },
  25 |             Style = style,
  26 |             Color = color,
  27 |             Size = props.Size,
  28 |             LayoutOrder = props.LayoutOrder,
  29 |             
  30 |             -- [TELEMETRY] Intercept Activation
  31 |             OnActivate = function()
  32 |                 -- 1. Lapor Dulu!
  33 |                 local txt = (type(btnText) == "string") and btnText or "DynamicState"
  34 |                 UXLogger:Info("Click", { 
  35 |                     Button = txt, 
  36 |                     Style = props.Style,
  37 |                     Context = props.Context or "UI"
  38 |                 })
  39 |                 
  40 |                 -- 2. Jalankan Logic Asli
  41 |                 if props.OnClick then props.OnClick() end
  42 |                 if props.OnActivate then props.OnActivate() end
  43 |             end
  44 |         }
  45 |     end
  46 | end
  47 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Components/SmartText.luau</strong> (36 lines, 1.23 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Components.SmartText`

```lua
   1 | --!strict
   2 | -- @Component: SmartText
   3 | -- @Role: Standardized Typography
   4 | return function(API)
   5 |     local Theme = API.Theme
   6 |     local function New(scope, class) return API.New(scope, class) end
   7 | 
   8 |     local VARIANTS = {
   9 |         Header = { Size = 24, Font = "Heading", Color = "BaseContent" },
  10 |         SubHeader = { Size = 18, Font = "Body", Color = "BaseContent" },
  11 |         Body = { Size = 14, Font = "Body", Color = "BaseContent" },
  12 |         Caption = { Size = 12, Font = "Body", Color = "Neutral" },
  13 |     }
  14 | 
  15 |     return function(scope, props)
  16 |         local variant = VARIANTS[props.Variant or "Body"]
  17 |         
  18 |         return New(scope, "TextLabel") {
  19 |             Name = props.Name or "Text",
  20 |             Text = props.Text or "",
  21 |             LayoutOrder = props.LayoutOrder,
  22 |             
  23 |             -- Styling
  24 |             BackgroundTransparency = 1,
  25 |             TextColor3 = Theme.Colors[variant.Color].Main,
  26 |             TextSize = props.Size or variant.Size,
  27 |             FontFace = Theme.Font[variant.Font],
  28 |             TextXAlignment = props.Align or Enum.TextXAlignment.Left,
  29 |             
  30 |             -- Auto Size
  31 |             AutomaticSize = Enum.AutomaticSize.XY,
  32 |             Size = UDim2.fromScale(0, 0),
  33 |         }
  34 |     end
  35 | end
  36 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Components/SmartWindow.luau</strong> (107 lines, 5.07 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Components.SmartWindow`

```lua
   1 | --!strict
   2 | -- @Component: SmartWindow v5.2 (Solid Input Block)
   3 | return function(API)
   4 |     local Theme = API.Theme
   5 |     local Assets = API.Assets
   6 |     local MotionPresets = API.MotionPresets
   7 |     local function New(scope, class) return API.New(scope, class) end
   8 | 
   9 |     return function(scope, props)
  10 |         local isVisible = props.Visible
  11 |         if isVisible == nil then isVisible = scope:Value(true) end
  12 |         
  13 |         local styleName = props.Transition or "PopUp"
  14 |         local presetFunc = MotionPresets[styleName] or MotionPresets.PopUp
  15 |         local animProps = presetFunc(scope, isVisible)
  16 |         
  17 |         local isRendering = API.Computed(scope, function(use)
  18 |             local t = use(animProps.Transparency)
  19 |             return t < 0.99
  20 |         end)
  21 |         
  22 |         return New(scope, "Frame") {
  23 |             Name = "WindowFrame",
  24 |             AnchorPoint = animProps.AnchorPoint,
  25 |             Position = animProps.Position,
  26 |             Size = props.Size or UDim2.fromOffset(500, 400),
  27 |             BackgroundTransparency = 1, -- Root tetep transparan biar gak kotak kaku
  28 |             Visible = isRendering,
  29 |             
  30 |             [API.Children] = {
  31 |                 New(scope, "UIScale") { Scale = animProps.Scale },
  32 |                 
  33 |                 New(scope, "CanvasGroup") {
  34 |                     Name = "Canvas",
  35 |                     Size = UDim2.fromScale(1, 1),
  36 |                     BackgroundColor3 = Theme.Colors.Base.Main,
  37 |                     GroupTransparency = animProps.Transparency,
  38 |                     
  39 |                     -- [FIX CRITICAL] AKTIFKAN INPUT SINK
  40 |                     -- Ini membuat Window jadi benda padat bagi Mouse.
  41 |                     -- Klik tidak akan tembus ke UI di belakangnya.
  42 |                     Active = true, 
  43 |                     
  44 |                     [API.Children] = {
  45 |                         New(scope, "UICorner") { CornerRadius = UDim.new(0, 12) },
  46 |                         New(scope, "UIStroke") { Color = Theme.Colors.Neutral.Main, Thickness = 1 },
  47 |                         
  48 |                         -- [[ HEADER ]]
  49 |                         New(scope, "Frame") {
  50 |                             Name = "Header",
  51 |                             Size = UDim2.new(1, 0, 0, 48),
  52 |                             BackgroundTransparency = 1,
  53 |                             
  54 |                             [API.Children] = {
  55 |                                 New(scope, "UIPadding") { PaddingLeft = UDim.new(0, 16), PaddingRight = UDim.new(0, 16) },
  56 |                                 
  57 |                                 New(scope, "UIListLayout") {
  58 |                                     FillDirection = Enum.FillDirection.Horizontal,
  59 |                                     VerticalAlignment = Enum.VerticalAlignment.Center,
  60 |                                     HorizontalAlignment = Enum.HorizontalAlignment.Right,
  61 |                                     SortOrder = Enum.SortOrder.LayoutOrder
  62 |                                 },
  63 | 
  64 |                                 -- TITLE CONTAINER
  65 |                                 New(scope, "Frame") {
  66 |                                     Name = "TitleContainer",
  67 |                                     Size = UDim2.new(1, -30, 1, 0),
  68 |                                     BackgroundTransparency = 1,
  69 |                                     LayoutOrder = 1,
  70 |                                     [API.Children] = {
  71 |                                         New(scope, "UIListLayout") { VerticalAlignment = Enum.VerticalAlignment.Center, HorizontalAlignment = Enum.HorizontalAlignment.Left },
  72 |                                         scope:SmartText {
  73 |                                             Variant = "Header",
  74 |                                             Text = props.Title or "Window",
  75 |                                             Size = 20,
  76 |                                             Align = Enum.TextXAlignment.Left
  77 |                                         }
  78 |                                     }
  79 |                                 },
  80 |                                 
  81 |                                 -- CLOSE BUTTON
  82 |                                 New(scope, "ImageButton") {
  83 |                                     LayoutOrder = 2,
  84 |                                     Size = UDim2.fromOffset(24, 24),
  85 |                                     BackgroundTransparency = 1,
  86 |                                     Image = Assets.Icons.Close,
  87 |                                     ImageColor3 = Theme.Colors.BaseContent.Main,
  88 |                                     [API.OnEvent "Activated"] = props.OnClose
  89 |                                 }
  90 |                             }
  91 |                         },
  92 |                         
  93 |                         -- [[ BODY ]]
  94 |                         New(scope, "Frame") {
  95 |                             Name = "Body",
  96 |                             Position = UDim2.fromOffset(0, 48),
  97 |                             Size = UDim2.new(1, 0, 1, -48),
  98 |                             BackgroundTransparency = 1,
  99 |                             [API.Children] = props[API.Children]
 100 |                         }
 101 |                     }
 102 |                 }
 103 |             }
 104 |         }
 105 |     end
 106 | end
 107 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Foundation/Components/Window.luau</strong> (48 lines, 1.65 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Foundation.Components.Window`

```lua
   1 | --!strict
   2 | -- @Component: Window (Standard Offset)
   3 | local RS = game:GetService("ReplicatedStorage")
   4 | local Loader = require(RS.OVHL.Core.Loader)
   5 | local SmartLogger = Loader.Core("SmartLogger")
   6 | 
   7 | local Logger = SmartLogger.New("UI_LAYOUT")
   8 | 
   9 | return function(API)
  10 |     return function(scope, props)
  11 |         local defaultSize = UDim2.fromOffset(500, 400) -- Sedikit diperlebar
  12 |         local targetSize = props.Size or defaultSize
  13 |         
  14 |         Logger:Debug("WindowInit", {
  15 |             Title = props.Title,
  16 |             Size = tostring(targetSize),
  17 |             Note = "Centered in Scaled Canvas"
  18 |         })
  19 |     
  20 |         return scope:Card {
  21 |             Name = "WindowFrame",
  22 |             
  23 |             -- [CRITICAL FIX] Pastikan Window juga Centered di dalam Canvas
  24 |             AnchorPoint = Vector2.new(0.5, 0.5),
  25 |             Position = UDim2.fromScale(0.5, 0.5),
  26 |             Size = targetSize,
  27 |             
  28 |             List = { FillDirection = Enum.FillDirection.Vertical, Padding = scope:UDim(0, 0) },
  29 |             Padding = { All = scope:UDim(0, 0) },
  30 |             
  31 |             [API.Children] = {
  32 |                 scope:TitleBar {
  33 |                     Content = { props.Title or "Window" },
  34 |                     OnClose = props.OnClose,
  35 |                     CloseButtonDisabled = (props.OnClose == nil)
  36 |                 },
  37 |                 scope:Frame {
  38 |                     Name = "Body",
  39 |                     Size = UDim2.new(1, 0, 1, -48),
  40 |                     BackgroundTransparency = 1,
  41 |                     Padding = { All = scope:UDim(0, 16) },
  42 |                     [API.Children] = props[API.Children]
  43 |                 }
  44 |             }
  45 |         }
  46 |     end
  47 | end
  48 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Views/Inventory/InventoryView.luau</strong> (58 lines, 2.19 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Views.Inventory.InventoryView`

```lua
   1 | --!strict
   2 | -- @View: InventoryView (Wired Correctly)
   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)
   4 | local UI = Loader.UI.Foundation.API
   5 | local Children = UI.Children
   6 | 
   7 | return function(scope, props)
   8 |     local Config = props.Config
   9 |     local State = props.State
  10 |     
  11 |     return scope:ScreenWrapper {
  12 |         Name = "InventoryScreen",
  13 |         Enabled = true,
  14 |         Order = 10,
  15 |         
  16 |         [Children] = {
  17 |             scope:SmartWindow {
  18 |                 Title = Config.UI.Title,
  19 |                 Size = UDim2.fromOffset(650, 500),
  20 |                 OnClose = props.OnClose,
  21 |                 Visible = State.Visible,
  22 |                 Transition = Config.UI.Transition or "PopUp",
  23 |                 
  24 |                 [Children] = {
  25 |                     scope:GridContainer {
  26 |                         CellSize = Config.Layout.Grid.CellSize, 
  27 |                         Gap = Config.Layout.Grid.Gap,
  28 |                         
  29 |                         [Children] = {
  30 |                             UI.ForValues(scope, State.Items, function(use, innerScope, item)
  31 |                                 return innerScope:ItemSlot {
  32 |                                     Item = item,
  33 |                                     Config = Config,
  34 |                                     
  35 |                                     -- [FIXED] Jalur komunikasi disambung kembali
  36 |                                     OnAction = props.OnAction
  37 |                                 }
  38 |                             end),
  39 |                             
  40 |                             UI.Computed(scope, function(use)
  41 |                                 if #use(State.Items) == 0 then
  42 |                                     return scope:SmartText {
  43 |                                         Variant = "Body",
  44 |                                         Text = Config.UI.EmptyState,
  45 |                                         Size = 16,
  46 |                                         Align = Enum.TextXAlignment.Center
  47 |                                     }
  48 |                                 end
  49 |                                 return nil
  50 |                             end)
  51 |                         }
  52 |                     }
  53 |                 }
  54 |             }
  55 |         }
  56 |     }
  57 | end
  58 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Views/Shop/ShopView.luau</strong> (44 lines, 1.55 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Views.Shop.ShopView`

```lua
   1 | --!strict
   2 | -- @View: ShopView
   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)
   4 | local UI = Loader.UI.Foundation.API
   5 | local Children = UI.Children
   6 | 
   7 | return function(scope, props)
   8 |     local Config = props.Config
   9 |     local State = props.State
  10 |     
  11 |     return scope:ScreenWrapper {
  12 |         Name = "ShopScreen",
  13 |         Enabled = true,
  14 |         Order = 15,
  15 |         
  16 |         [Children] = {
  17 |             scope:SmartWindow {
  18 |                 Title = Config.UI.Title,
  19 |                 Size = UDim2.fromOffset(600, 450),
  20 |                 OnClose = props.OnClose,
  21 |                 Visible = State.Visible,
  22 |                 Transition = Config.UI.Transition or "PopUp",
  23 |                 
  24 |                 [Children] = {
  25 |                     scope:GridContainer {
  26 |                         CellSize = Config.Layout.Grid.CellSize,
  27 |                         Gap = Config.Layout.Grid.Gap,
  28 |                         [Children] = {
  29 |                             UI.ForValues(scope, State.Items, function(use, innerScope, item)
  30 |                                 local displayItem = table.clone(item)
  31 |                                 displayItem.Name = item.Name .. " ($" .. item.Price .. ")"
  32 |                                 displayItem.Count = "INF"
  33 |                                 return innerScope:ItemSlot {
  34 |                                     Item = displayItem, Config = Config, OnAction = props.OnAction
  35 |                                 }
  36 |                             end)
  37 |                         }
  38 |                     }
  39 |                 }
  40 |             }
  41 |         }
  42 |     }
  43 | end
  44 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Views/System/FrameworkPanelView.luau</strong> (83 lines, 4.28 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Views.System.FrameworkPanelView`

```lua
   1 | --!strict
   2 | -- @View: FrameworkPanelView (Cleaned - No More Inspector Popup)
   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)
   4 | local UI = Loader.UI.Foundation.API
   5 | local Children = UI.Children
   6 | 
   7 | local PermissionPage = Loader.UI("Views/System/Pages/PermissionPage")
   8 | local ConfirmationDialog = Loader.UI("Views/System/Components/ConfirmationDialog")
   9 | 
  10 | return function(scope, props)
  11 |     local State = props.State
  12 |     local Actions = props.Actions
  13 |     local Config = props.Config
  14 |     local UIConfig = Config.UI
  15 |     local MenuList = Config.Menus
  16 | 
  17 |     local MainContent = UI.Computed(scope, function(use)
  18 |         local tab = use(State.CurrentTab)
  19 |         if tab == "Permission" then return PermissionPage(scope, { State = State, Actions = Actions })
  20 |         elseif tab == "Dashboard" then return scope:SmartText { Text = "Welcome to " .. UIConfig.Title, Align = Enum.TextXAlignment.Center }
  21 |         else return scope:SmartText { Text = "Feature Coming Soon: " .. tab, Align = Enum.TextXAlignment.Center } end
  22 |     end)
  23 | 
  24 |     -- Confirmation tetap Popup (Layer paling atas) karena dia Global Alert
  25 |     local ConfirmationLayer = UI.Computed(scope, function(use)
  26 |         local confirmData = use(State.Confirmation)
  27 |         if confirmData then
  28 |             return ConfirmationDialog(scope, { Data = confirmData, OnClose = Actions.ResolveConfirmation })
  29 |         end
  30 |         return scope:New "Frame" { Visible = false }
  31 |     end)
  32 | 
  33 |     return scope:ScreenWrapper {
  34 |         Name = "FrameworkPanel",
  35 |         Enabled = true,
  36 |         Order = 100,
  37 |         
  38 |         [Children] = {
  39 |             scope:SmartWindow {
  40 |                 Title = UIConfig.Title,
  41 |                 Size = UDim2.fromOffset(UIConfig.Size.X, UIConfig.Size.Y),
  42 |                 OnClose = props.OnClose,
  43 |                 Visible = State.Visible,
  44 |                 Transition = UIConfig.Transition,
  45 |                 
  46 |                 [Children] = {
  47 |                     scope:New "Frame" {
  48 |                         Name = "MainLayout",
  49 |                         Size = UDim2.fromScale(1, 1),
  50 |                         BackgroundTransparency = 1,
  51 |                         [Children] = {
  52 |                             scope:New "UIListLayout" { FillDirection = Enum.FillDirection.Horizontal, Padding = UDim.new(0, 0), SortOrder = Enum.SortOrder.LayoutOrder },
  53 |                             
  54 |                             -- Sidebar
  55 |                             scope:New "Frame" {
  56 |                                 Name = "Sidebar", Size = UDim2.new(0, UIConfig.SidebarWidth, 1, 0), BackgroundColor3 = Color3.fromHex("09090b"), BorderSizePixel = 0, LayoutOrder = 1, ZIndex = 2,
  57 |                                 [Children] = {
  58 |                                     scope:New "UIPadding" { PaddingTop = UDim.new(0, 16), PaddingBottom = UDim.new(0, 16), PaddingLeft = UDim.new(0, 12), PaddingRight = UDim.new(0, 12) },
  59 |                                     scope:New "UIListLayout" { Padding = UDim.new(0, 8), SortOrder = Enum.SortOrder.LayoutOrder },
  60 |                                     UI.ForValues(scope, MenuList, function(use, innerScope, item)
  61 |                                         local isActive = use(State.CurrentTab) == item.Id
  62 |                                         return innerScope:AsyncButton { Text = item.Label, Size = UDim2.new(1, 0, 0, 40), Style = isActive and "Filled" or "Ghost", LayoutOrder = item.Order, OnClick = function() State.CurrentTab:set(item.Id) end }
  63 |                                     end)
  64 |                                 }
  65 |                             },
  66 |                             
  67 |                             -- Content
  68 |                             scope:New "Frame" {
  69 |                                 Name = "Content", Size = UDim2.new(1, -UIConfig.SidebarWidth, 1, 0), BackgroundTransparency = 1, LayoutOrder = 2, ClipsDescendants = true,
  70 |                                 [Children] = {
  71 |                                     scope:New "UIPadding" { PaddingTop = UDim.new(0, 24), PaddingBottom = UDim.new(0, 24), PaddingLeft = UDim.new(0, 24), PaddingRight = UDim.new(0, 24) },
  72 |                                     MainContent
  73 |                                 }
  74 |                             }
  75 |                         }
  76 |                     }
  77 |                 }
  78 |             },
  79 |             ConfirmationLayer -- Layer 2 (Alert Only)
  80 |         }
  81 |     }
  82 | end
  83 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Views/System/Components/ConfirmationDialog.luau</strong> (124 lines, 5.34 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Views.System.Components.ConfirmationDialog`

```lua
   1 | --!strict
   2 | -- @Component: Global Confirmation Dialog
   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)
   4 | local UI = Loader.UI.Foundation.API
   5 | local Children = UI.Children
   6 | 
   7 | return function(scope, props)
   8 |     local Data = props.Data -- { Title, Message, OnConfirm, OnCancel }
   9 |     
  10 |     -- Animasi Timer Bar (5 Detik berkurang)
  11 |     local TimeLeft = scope:Value(1) -- 1 = Penuh, 0 = Habis
  12 |     local Tween = UI.Fusion.Tween(scope, TimeLeft, 
  13 |         TweenInfo.new(5, Enum.EasingStyle.Linear)
  14 |     )
  15 |     
  16 |     -- Start Timer pas mount
  17 |     TimeLeft:set(0) 
  18 | 
  19 |     return scope:New "Frame" {
  20 |         Name = "ConfirmationOverlay",
  21 |         Size = UDim2.fromScale(1, 1),
  22 |         BackgroundColor3 = Color3.new(0, 0, 0),
  23 |         BackgroundTransparency = 0.6, -- Dimmed Background
  24 |         ZIndex = 1000, -- Paling Atas
  25 |         
  26 |         [Children] = {
  27 |             -- Modal Window
  28 |             scope:New "Frame" {
  29 |                 AnchorPoint = Vector2.new(0.5, 0.5),
  30 |                 Position = UDim2.fromScale(0.5, 0.5),
  31 |                 Size = UDim2.fromOffset(400, 220),
  32 |                 BackgroundColor3 = UI.Theme.Colors.Base.Main,
  33 |                 
  34 |                 [Children] = {
  35 |                     scope:New "UICorner" { CornerRadius = UDim.new(0, 12) },
  36 |                     scope:New "UIStroke" { Color = UI.Theme.Colors.Error.Main, Thickness = 2 }, -- Merah biar kerasa penting
  37 |                     scope:New "UIPadding" { PaddingTop=UDim.new(0,20), PaddingBottom=UDim.new(0,20), PaddingLeft=UDim.new(0,24), PaddingRight=UDim.new(0,24) },
  38 |                     
  39 |                     scope:New "UIListLayout" {
  40 |                         SortOrder = Enum.SortOrder.LayoutOrder,
  41 |                         HorizontalAlignment = Enum.HorizontalAlignment.Center,
  42 |                         Padding = UDim.new(0, 12)
  43 |                     },
  44 |                     
  45 |                     -- Header
  46 |                     scope:SmartText { 
  47 |                         Text = Data.Title or "CONFIRMATION", 
  48 |                         Variant = "Header", 
  49 |                         Size = 20, 
  50 |                         Color = "Error",
  51 |                         LayoutOrder = 1
  52 |                     },
  53 |                     
  54 |                     -- Message Body
  55 |                     scope:SmartText { 
  56 |                         Text = Data.Message or "Are you sure?", 
  57 |                         Variant = "Body", 
  58 |                         Size = 16, 
  59 |                         Align = Enum.TextXAlignment.Center,
  60 |                         LayoutOrder = 2,
  61 |                         Color = "BaseContent"
  62 |                     },
  63 |                     
  64 |                     -- Spacer
  65 |                     scope:New "Frame" { Size = UDim2.new(1,0,0,20), BackgroundTransparency = 1, LayoutOrder = 3 },
  66 |                     
  67 |                     -- Action Buttons
  68 |                     scope:New "Frame" {
  69 |                         Size = UDim2.new(1, 0, 0, 40),
  70 |                         BackgroundTransparency = 1,
  71 |                         LayoutOrder = 4,
  72 |                         [Children] = {
  73 |                             scope:New "UIListLayout" { 
  74 |                                 FillDirection = Enum.FillDirection.Horizontal, 
  75 |                                 HorizontalAlignment = Enum.HorizontalAlignment.Center,
  76 |                                 Padding = UDim.new(0, 16)
  77 |                             },
  78 |                             
  79 |                             -- Cancel
  80 |                             scope:AsyncButton {
  81 |                                 Text = "CANCEL",
  82 |                                 Size = UDim2.fromOffset(120, 40),
  83 |                                 Style = "Ghost",
  84 |                                 OnClick = function()
  85 |                                     if props.OnClose then props.OnClose(false) end
  86 |                                 end
  87 |                             },
  88 |                             
  89 |                             -- Confirm
  90 |                             scope:AsyncButton {
  91 |                                 Text = "CONFIRM",
  92 |                                 Size = UDim2.fromOffset(120, 40),
  93 |                                 Style = "Filled",
  94 |                                 Color = UI.Theme.Colors.Error.Main, -- Merah
  95 |                                 OnClick = function()
  96 |                                     if props.OnClose then props.OnClose(true) end
  97 |                                 end
  98 |                             }
  99 |                         }
 100 |                     },
 101 |                     
 102 |                     -- Timer Bar (Visual)
 103 |                     scope:New "Frame" {
 104 |                         Name = "TimerContainer",
 105 |                         Size = UDim2.new(1, 0, 0, 4),
 106 |                         Position = UDim2.new(0, 0, 1, -2), -- Nempel bawah
 107 |                         AnchorPoint = Vector2.new(0, 1),
 108 |                         BackgroundTransparency = 1,
 109 |                         LayoutOrder = 5, -- Paling bawah urutan
 110 |                         [Children] = {
 111 |                             scope:New "Frame" {
 112 |                                 BackgroundColor3 = UI.Theme.Colors.Error.Main,
 113 |                                 Size = UI.Computed(scope, function(use)
 114 |                                     return UDim2.fromScale(use(Tween), 1)
 115 |                                 end)
 116 |                             }
 117 |                         }
 118 |                     }
 119 |                 }
 120 |             }
 121 |         }
 122 |     }
 123 | end
 124 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Views/System/Components/PlayerInspector.luau</strong> (140 lines, 7.61 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Views.System.Components.PlayerInspector`

```lua
   1 | --!strict
   2 | -- @Component: Player Inspector Deck (Fixed: Solid Interaction & Dark Theme)
   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)
   4 | local UI = Loader.UI.Foundation.API
   5 | local Children = UI.Children
   6 | local Fusion = UI.Fusion
   7 | 
   8 | return function(scope, props)
   9 |     local PlayerData = props.Player
  10 |     local Actions = props.Actions
  11 |     local OnClose = props.OnClose
  12 |     
  13 |     local RANKS = {
  14 |         { Id = 0, Label = "GUEST", Color = "BaseContent" },
  15 |         { Id = 1, Label = "VIP",   Color = "Primary" },
  16 |         { Id = 2, Label = "MOD",   Color = "Primary" },
  17 |         { Id = 3, Label = "ADMIN", Color = "Primary" },
  18 |         { Id = 4, Label = "HEAD",  Color = "Error" },
  19 |         { Id = 5, Label = "OWNER", Color = "Error" }
  20 |     }
  21 | 
  22 |     return scope:SmartWindow {
  23 |         Title = "INSPECT: " .. PlayerData.Name,
  24 |         Size = UDim2.fromOffset(700, 400),
  25 |         OnClose = OnClose,
  26 |         Transition = "PopUp",
  27 |         
  28 |         [Children] = {
  29 |             -- MAIN LAYOUT
  30 |             scope:New "Frame" {
  31 |                 Size = UDim2.fromScale(1, 1),
  32 |                 BackgroundTransparency = 1,
  33 |                 -- [FIX 1] Active = true MENCEGAH KLIK TEMBUS KE BELAKANG
  34 |                 Active = true, 
  35 |                 
  36 |                 [Children] = {
  37 |                     scope:New "UIListLayout" { FillDirection = Enum.FillDirection.Horizontal, Padding = UDim.new(0, 0) },
  38 |                     
  39 |                     -- [[ KIRI: IDENTITY (35%) ]]
  40 |                     scope:New "Frame" {
  41 |                         Name = "IdentityCol",
  42 |                         Size = UDim2.new(0.35, 0, 1, 0),
  43 |                         -- [FIX 2] Force Dark Color (Zinc950) biar gak Putih
  44 |                         BackgroundColor3 = Color3.fromHex("09090b"), 
  45 |                         BorderSizePixel = 0,
  46 |                         
  47 |                         [Children] = {
  48 |                             scope:New "UIPadding" { PaddingTop=UDim.new(0,24), PaddingBottom=UDim.new(0,24), PaddingLeft=UDim.new(0,16), PaddingRight=UDim.new(0,16) },
  49 |                             scope:New "UIListLayout" { HorizontalAlignment = Enum.HorizontalAlignment.Center, Padding = UDim.new(0, 16), SortOrder=Enum.SortOrder.LayoutOrder },
  50 |                             
  51 |                             -- Big Avatar
  52 |                             scope:New "ImageLabel" {
  53 |                                 LayoutOrder = 1,
  54 |                                 Size = UDim2.fromOffset(120, 120),
  55 |                                 BackgroundTransparency = 1,
  56 |                                 Image = "rbxthumb://type=AvatarHeadShot&id=" .. PlayerData.UserId .. "&w=420&h=420",
  57 |                                 [Children] = { 
  58 |                                     scope:New "UICorner" { CornerRadius = UDim.new(1, 0) },
  59 |                                     scope:New "UIStroke" { Color = UI.Theme.Colors.BaseContent.Main, Thickness = 2, Transparency = 0.8 }
  60 |                                 }
  61 |                             },
  62 |                             
  63 |                             -- Names
  64 |                             scope:New "Frame" {
  65 |                                 LayoutOrder = 2,
  66 |                                 Size = UDim2.new(1, 0, 0, 60),
  67 |                                 BackgroundTransparency = 1,
  68 |                                 [Children] = {
  69 |                                     scope:New "UIListLayout" { HorizontalAlignment = Enum.HorizontalAlignment.Center, Padding = UDim.new(0, 4) },
  70 |                                     scope:SmartText { Text = PlayerData.Name, Size = 20, Variant = "Header", Align = Enum.TextXAlignment.Center },
  71 |                                     scope:SmartText { Text = "ID: " .. PlayerData.UserId, Size = 14, Color = "Neutral", Align = Enum.TextXAlignment.Center }
  72 |                                 }
  73 |                             },
  74 |                             
  75 |                             -- Current Rank Display
  76 |                             scope:New "Frame" {
  77 |                                 LayoutOrder = 3,
  78 |                                 Size = UDim2.new(1, 0, 0, 80),
  79 |                                 BackgroundColor3 = UI.Theme.Colors.Base.Main, -- Agak terang dikit dari background col
  80 |                                 [Children] = {
  81 |                                     scope:New "UICorner" { CornerRadius = UDim.new(0, 8) },
  82 |                                     scope:New "UIListLayout" { VerticalAlignment = Enum.VerticalAlignment.Center, HorizontalAlignment = Enum.HorizontalAlignment.Center },
  83 |                                     scope:SmartText { Text = "CURRENT RANK", Size = 12, Color = "Neutral" },
  84 |                                     scope:SmartText { Text = string.upper(PlayerData.Role) .. " ["..PlayerData.Rank.."]", Size = 24, Variant = "Header", Color = "Primary" }
  85 |                                 }
  86 |                             }
  87 |                         }
  88 |                     },
  89 |                     
  90 |                     -- [[ KANAN: CONTROL MATRIX (65%) ]]
  91 |                     scope:New "Frame" {
  92 |                         Name = "ControlCol",
  93 |                         Size = UDim2.new(0.65, 0, 1, 0),
  94 |                         BackgroundTransparency = 1,
  95 |                         
  96 |                         [Children] = {
  97 |                             scope:New "UIPadding" { PaddingTop=UDim.new(0,24), PaddingBottom=UDim.new(0,24), PaddingLeft=UDim.new(0,24), PaddingRight=UDim.new(0,24) },
  98 |                             scope:New "UIListLayout" { Padding = UDim.new(0, 12), SortOrder = Enum.SortOrder.LayoutOrder },
  99 |                             
 100 |                             scope:SmartText { Text = "SET RANK AUTHORITY", Variant = "Header", Size = 16, LayoutOrder = 1 },
 101 |                             
 102 |                             -- GRID BUTTONS
 103 |                             scope:New "Frame" {
 104 |                                 LayoutOrder = 2,
 105 |                                 Size = UDim2.new(1, 0, 0, 160),
 106 |                                 BackgroundTransparency = 1,
 107 |                                 
 108 |                                 [Children] = {
 109 |                                     scope:New "UIGridLayout" {
 110 |                                         CellSize = UDim2.new(0.3, 0, 0, 60),
 111 |                                         CellPadding = UDim2.new(0.05, 0, 0.05, 0),
 112 |                                         FillDirectionMaxCells = 3
 113 |                                     },
 114 |                                     
 115 |                                     UI.ForValues(scope, RANKS, function(use, innerScope, rank)
 116 |                                         local isCurrent = rank.Id == PlayerData.Rank
 117 |                                         local style = isCurrent and "Filled" or "Outline"
 118 |                                         
 119 |                                         return innerScope:AsyncButton {
 120 |                                             Text = rank.Label .. "\n["..rank.Id.."]",
 121 |                                             Style = style,
 122 |                                             Color = isCurrent and UI.Theme.Colors.Primary.Main or nil,
 123 |                                             
 124 |                                             OnClick = function()
 125 |                                                 if not isCurrent then
 126 |                                                     Actions.RequestRankChange(PlayerData, rank.Id, rank.Label)
 127 |                                                 end
 128 |                                             end
 129 |                                         }
 130 |                                     end)
 131 |                                 }
 132 |                             }
 133 |                         }
 134 |                     }
 135 |                 }
 136 |             }
 137 |         }
 138 |     }
 139 | end
 140 | 
```
</details>


<details>
<summary><strong>üåô src/ReplicatedStorage/OVHL/UI/Views/System/Pages/PermissionPage.luau</strong> (145 lines, 12.5 KB)</summary>

**Rojo Path:** `game.ReplicatedStorage.OVHL.UI.Views.System.Pages.PermissionPage`

```lua
   1 | --!strict
   2 | -- @Page: PermissionPage (Grid Layout Typo Fixed)
   3 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)
   4 | local UI = Loader.UI.Foundation.API
   5 | local Children = UI.Children
   6 | local Fusion = UI.Fusion
   7 | 
   8 | local DUMMY_DATA = {
   9 |     { UserId = 1, Name = "Roblox", Rank = 5, Role = "God" },
  10 |     { UserId = 2, Name = "JohnDoe", Rank = 2, Role = "Mod" },
  11 | }
  12 | 
  13 | local RANKS = {
  14 |     { Id = 0, Label = "GUEST", Color = "BaseContent" },
  15 |     { Id = 1, Label = "VIP",   Color = "Primary" },
  16 |     { Id = 2, Label = "MOD",   Color = "Primary" },
  17 |     { Id = 3, Label = "ADMIN", Color = "Primary" },
  18 |     { Id = 4, Label = "HEAD",  Color = "Error" },
  19 |     { Id = 5, Label = "OWNER", Color = "Error" }
  20 | }
  21 | 
  22 | return function(scope, props)
  23 |     local State = props.State
  24 |     local Actions = props.Actions
  25 |     local SearchText = scope:Value("")
  26 |     local C = UI.Theme.Colors
  27 | 
  28 |     -- [[ PLAYER ROW ]]
  29 |     local function PlayerRow(innerScope, player)
  30 |         local badgeColor = Fusion.peek(C.BaseContent.Main)
  31 |         local badgeText = "GUEST"
  32 |         if player.Rank >= 5 then badgeColor = Fusion.peek(C.Error.Main); badgeText = "OWNER"
  33 |         elseif player.Rank >= 3 then badgeColor = Fusion.peek(C.Primary.Main); badgeText = "ADMIN"
  34 |         elseif player.Rank >= 1 then badgeColor = Color3.fromHex("3b82f6"); badgeText = string.upper(player.Role)
  35 |         else badgeText = string.upper(player.Role) end
  36 | 
  37 |         return innerScope:New "TextButton" {
  38 |             Name = "Card_" .. player.Name, Size = UDim2.new(1, 0, 0, 72), BackgroundColor3 = UI.Theme.Colors.Base.Main, AutoButtonColor = true, Text = "",
  39 |             [UI.OnEvent "Activated"] = function() Actions.OpenInspector(player) end,
  40 |             [Children] = {
  41 |                 innerScope:New "UICorner" { CornerRadius = UDim.new(0, 8) },
  42 |                 innerScope:New "UIStroke" { Color = UI.Theme.Colors.Neutral.Main, Transparency = 0.6, Thickness = 1.5 },
  43 |                 innerScope:New "UIPadding" { PaddingLeft = UDim.new(0, 12), PaddingRight = UDim.new(0, 12) },
  44 |                 innerScope:New "UIListLayout" { FillDirection = Enum.FillDirection.Horizontal, VerticalAlignment = Enum.VerticalAlignment.Center, Padding = UDim.new(0, 12), SortOrder = Enum.SortOrder.LayoutOrder },
  45 |                 
  46 |                 innerScope:New "ImageLabel" { LayoutOrder = 1, Size = UDim2.fromOffset(48, 48), BackgroundColor3 = UI.Theme.Colors.Base.Alt, Image = "rbxthumb://type=AvatarHeadShot&id=" .. player.UserId .. "&w=150&h=150", [Children] = { innerScope:New "UICorner" { CornerRadius = UDim.new(1, 0) } } },
  47 |                 
  48 |                 innerScope:New "Frame" { LayoutOrder = 2, Size = UDim2.new(0.4, 0, 1, 0), BackgroundTransparency = 1, [Children] = {
  49 |                     innerScope:New "UIListLayout" { SortOrder = Enum.SortOrder.LayoutOrder, VerticalAlignment = Enum.VerticalAlignment.Center },
  50 |                     innerScope:SmartText { Text = player.Name, Variant = "Body", Size = 16, LayoutOrder = 1, Color = "BaseContent" },
  51 |                     innerScope:New "TextLabel" { LayoutOrder = 2, AutomaticSize = Enum.AutomaticSize.XY, BackgroundTransparency = 1, Text = "ID: " .. player.UserId, TextColor3 = UI.Theme.Colors.BaseContent.Main, TextTransparency = 0.4, TextSize = 14, FontFace = UI.Theme.Font.Body, TextXAlignment = Enum.TextXAlignment.Left }
  52 |                 }},
  53 |                 
  54 |                 innerScope:New "Frame" { LayoutOrder = 3, Size = UDim2.new(0.4, 0, 1, 0), BackgroundTransparency = 1, [Children] = {
  55 |                     innerScope:New "UIListLayout" { HorizontalAlignment = Enum.HorizontalAlignment.Right, VerticalAlignment = Enum.VerticalAlignment.Center },
  56 |                     innerScope:New "Frame" { Size = UDim2.fromOffset(100, 28), BackgroundColor3 = badgeColor, BackgroundTransparency = 0.9, [Children] = {
  57 |                         innerScope:New "UICorner" { CornerRadius = UDim.new(1, 0) },
  58 |                         innerScope:New "UIStroke" { Color = badgeColor, Transparency = 0.2, Thickness = 1.5 },
  59 |                         innerScope:New "TextLabel" { Size = UDim2.fromScale(1, 1), BackgroundTransparency = 1, Text = badgeText, TextColor3 = badgeColor, FontFace = UI.Theme.Font.Body, TextSize = 12, TextXAlignment = Enum.TextXAlignment.Center, TextYAlignment = Enum.TextYAlignment.Center }
  60 |                     }}
  61 |                 }}
  62 |             }
  63 |         }
  64 |     end
  65 | 
  66 |     -- [[ MAIN RENDERER ]]
  67 |     return UI.Computed(scope, function(use)
  68 |         local selectedPlayer = use(State.SelectedPlayer)
  69 | 
  70 |         -- === INSPECTOR VIEW ===
  71 |         if selectedPlayer then
  72 |             return scope:New "Frame" {
  73 |                 Name = "InspectorView", Size = UDim2.fromScale(1, 1), BackgroundTransparency = 1,
  74 |                 [Children] = {
  75 |                     scope:New "UIListLayout" { Padding = UDim.new(0, 16), SortOrder = Enum.SortOrder.LayoutOrder, FillDirection = Enum.FillDirection.Vertical },
  76 |                     
  77 |                     -- Header
  78 |                     scope:New "Frame" { Name = "Header", Size = UDim2.new(1, 0, 0, 40), BackgroundTransparency = 1, [Children] = {
  79 |                         scope:New "UIListLayout" { FillDirection = Enum.FillDirection.Horizontal, VerticalAlignment = Enum.VerticalAlignment.Center, Padding = UDim.new(0, 12) },
  80 |                         scope:AsyncButton { Text = "< BACK", Size = UDim2.fromOffset(80, 36), Style = "Outline", OnClick = function() Actions.CloseInspector() end },
  81 |                         scope:SmartText { Text = "INSPECTING: " .. string.upper(selectedPlayer.Name), Variant = "Header", Size = 18 }
  82 |                     }},
  83 |                     
  84 |                     -- Body
  85 |                     scope:New "Frame" { Name = "Body", Size = UDim2.new(1, 0, 1, -56), BackgroundTransparency = 1, [Children] = {
  86 |                         scope:New "UIListLayout" { FillDirection = Enum.FillDirection.Horizontal, Padding = UDim.new(0, 16) },
  87 |                         -- Identity
  88 |                         scope:New "Frame" { Size = UDim2.new(0.35, 0, 1, 0), BackgroundColor3 = UI.Theme.Colors.Base.Main, [Children] = {
  89 |                             scope:New "UICorner" { CornerRadius = UDim.new(0, 8) }, scope:New "UIStroke" { Color = UI.Theme.Colors.Neutral.Main, Transparency = 0.7 }, scope:New "UIPadding" { PaddingTop=UDim.new(0,20), PaddingBottom=UDim.new(0,20) }, scope:New "UIListLayout" { HorizontalAlignment = Enum.HorizontalAlignment.Center, Padding = UDim.new(0, 12), SortOrder = Enum.SortOrder.LayoutOrder },
  90 |                             scope:New "ImageLabel" { LayoutOrder = 1, Size = UDim2.fromOffset(100, 100), BackgroundColor3 = UI.Theme.Colors.Base.Alt, Image = "rbxthumb://type=AvatarHeadShot&id=" .. selectedPlayer.UserId .. "&w=420&h=420", [Children] = { scope:New "UICorner" { CornerRadius = UDim.new(1, 0) } } },
  91 |                             scope:SmartText { LayoutOrder=2, Text = selectedPlayer.Name, Size = 18, Variant = "Header", Align = Enum.TextXAlignment.Center },
  92 |                             scope:SmartText { LayoutOrder=3, Text = "Rank: " .. selectedPlayer.Rank, Size = 14, Color = "Neutral", Align = Enum.TextXAlignment.Center }
  93 |                         }},
  94 |                         -- Controls
  95 |                         scope:New "Frame" { Size = UDim2.new(0.65, -16, 1, 0), BackgroundColor3 = UI.Theme.Colors.Base.Main, [Children] = {
  96 |                             scope:New "UICorner" { CornerRadius = UDim.new(0, 8) }, scope:New "UIStroke" { Color = UI.Theme.Colors.Neutral.Main, Transparency = 0.7 }, scope:New "UIPadding" { PaddingTop=UDim.new(0,20), PaddingLeft=UDim.new(0,20), PaddingRight=UDim.new(0,20) }, scope:New "UIListLayout" { Padding = UDim.new(0, 12), SortOrder = Enum.SortOrder.LayoutOrder },
  97 |                             scope:SmartText { Text = "CHANGE RANK", Variant = "Header", Size = 16 },
  98 |                             scope:New "Frame" { Size = UDim2.new(1, 0, 0, 200), BackgroundTransparency = 1, [Children] = {
  99 |                                 -- [FIX] Typo Fixed: UDim2 for CellPadding
 100 |                                 scope:New "UIGridLayout" { CellSize = UDim2.new(0.31, 0, 0, 50), CellPadding = UDim2.new(0.03, 0, 0.03, 0), FillDirectionMaxCells = 3 },
 101 |                                 UI.ForValues(scope, RANKS, function(use, innerScope, rank)
 102 |                                     local isCurrent = rank.Id == selectedPlayer.Rank
 103 |                                     local style = isCurrent and "Filled" or "Outline"
 104 |                                     return innerScope:AsyncButton { Text = rank.Label .. "\n["..rank.Id.."]", Style = style, Color = isCurrent and UI.Theme.Colors.Primary.Main or nil, OnClick = function() if not isCurrent then Actions.RequestRankChange(selectedPlayer, rank.Id, rank.Label) end end }
 105 |                                 end)
 106 |                             }}
 107 |                         }}
 108 |                     }}
 109 |                 }
 110 |             }
 111 |         end
 112 | 
 113 |         -- === LIST VIEW ===
 114 |         local FilteredList = {}
 115 |         local query = use(SearchText):lower()
 116 |         local realData = use(State.PlayerList)
 117 |         local function match(p) if query == "" then return true end if string.find(p.Name:lower(), query, 1, true) then return true end if string.find(tostring(p.UserId), query, 1, true) then return true end return false end
 118 |         for _, p in ipairs(realData) do if match(p) then table.insert(FilteredList, p) end end
 119 |         for _, p in ipairs(DUMMY_DATA) do if match(p) then table.insert(FilteredList, p) end end
 120 | 
 121 |         return scope:New "Frame" {
 122 |             Name = "ListView", Size = UDim2.fromScale(1, 1), BackgroundTransparency = 1,
 123 |             [Children] = {
 124 |                 scope:New "UIListLayout" { Padding = UDim.new(0, 16), SortOrder = Enum.SortOrder.LayoutOrder, FillDirection = Enum.FillDirection.Vertical },
 125 |                 scope:New "Frame" { Name = "HeaderSplit", LayoutOrder = 1, Size = UDim2.new(1, 0, 0, 84), BackgroundTransparency = 1, [Children] = {
 126 |                     scope:New "Frame" { Name = "TopRow", Size = UDim2.new(1, 0, 0, 40), BackgroundTransparency = 1, [Children] = {
 127 |                         scope:New "UIListLayout" { FillDirection = Enum.FillDirection.Horizontal },
 128 |                         scope:New "Frame" { LayoutOrder = 1, Size = UDim2.new(0.7, 0, 1, 0), BackgroundTransparency = 1, [Children] = { scope:New "UIPadding" { PaddingTop = UDim.new(0, 8) }, scope:SmartText { Text = "USER MANAGEMENT", Variant = "Header", Size = 18 } }},
 129 |                         scope:New "Frame" { LayoutOrder = 2, Size = UDim2.new(0.3, 0, 1, 0), BackgroundTransparency = 1, [Children] = { scope:New "UIListLayout" { HorizontalAlignment = Enum.HorizontalAlignment.Right, VerticalAlignment = Enum.VerticalAlignment.Center }, scope:AsyncButton { Text = "REFRESH", Size = UDim2.fromOffset(90, 32), Style = "Outline", OnClick = function() Actions.RefreshPlayers() end } }}
 130 |                     }},
 131 |                     scope:New "Frame" { Name = "SearchRow", Size = UDim2.new(1, 0, 0, 40), Position = UDim2.fromOffset(0, 44), BackgroundColor3 = UI.Theme.Colors.Base.Main, [Children] = {
 132 |                         scope:New "UICorner" { CornerRadius = UDim.new(0, 8) }, scope:New "UIStroke" { Color = UI.Theme.Colors.Neutral.Main, Transparency = 0.6 }, scope:New "UIPadding" { PaddingLeft = UDim.new(0, 12), PaddingRight = UDim.new(0, 12) }, scope:New "UIListLayout" { FillDirection=Enum.FillDirection.Horizontal, VerticalAlignment=Enum.VerticalAlignment.Center, Padding=UDim.new(0,10) },
 133 |                         scope:New "ImageLabel" { Size = UDim2.fromOffset(18, 18), BackgroundTransparency = 1, Image = "rbxassetid://11293977827", ImageColor3 = UI.Theme.Colors.BaseContent.Muted },
 134 |                         scope:New "TextBox" { Size = UDim2.new(1, -30, 1, 0), BackgroundTransparency = 1, Text = SearchText, PlaceholderText = "Search by username...", PlaceholderColor3 = Color3.fromRGB(100,100,100), TextColor3 = UI.Theme.Colors.BaseContent.Main, TextSize = 16, FontFace = UI.Theme.Font.Body, TextXAlignment = Enum.TextXAlignment.Left, ClearTextOnFocus = false, [UI.OnChange "Text"] = function(newText) SearchText:set(newText) end }
 135 |                     }}
 136 |                 }},
 137 |                 scope:New "ScrollingFrame" { LayoutOrder = 2, Name = "ListContainer", Size = UDim2.new(1, 0, 1, -100), BackgroundTransparency = 1, CanvasSize = UDim2.new(0, 0, 0, 0), AutomaticCanvasSize = Enum.AutomaticSize.Y, ScrollBarThickness = 4, [Children] = {
 138 |                     scope:New "UIListLayout" { Padding = UDim.new(0, 8), SortOrder = Enum.SortOrder.LayoutOrder },
 139 |                     UI.ForValues(scope, FilteredList, function(use, innerScope, player) return PlayerRow(innerScope, player) end)
 140 |                 }}
 141 |             }
 142 |         }
 143 |     end)
 144 | end
 145 | 
```
</details>

### üì¶ Group: Server


<details>
<summary><strong>üåô src/ServerScriptService/OVHL/ServerRuntime.server.luau</strong> (4 lines, 92 Bytes)</summary>

**Rojo Path:** `game.ServerScriptService.OVHL.ServerRuntime.server`

```lua
   1 | --!strict
   2 | -- Server Runtime
   3 | require(game.ReplicatedStorage.OVHL.Bootstrap).StartServer()
   4 | 
```
</details>


<details>
<summary><strong>üåô src/ServerScriptService/OVHL/TestRunner.server.luau</strong> (64 lines, 1.8 KB)</summary>

**Rojo Path:** `game.ServerScriptService.OVHL.TestRunner.server`

```lua
   1 | --!strict
   2 | -- @System: TestRunner (Server Side)
   3 | local ReplicatedStorage = game:GetService("ReplicatedStorage")
   4 | local ServerScriptService = game:GetService("ServerScriptService")
   5 | local RunService = game:GetService("RunService")
   6 | 
   7 | -- Cuma jalan di Studio biar gak ganggu Production game
   8 | if not RunService:IsStudio() then
   9 | 	return
  10 | end
  11 | 
  12 | task.defer(function()
  13 | 	-- Tunggu sebentar biar loading game/plugin selesai dulu
  14 | 	task.wait(2)
  15 | 
  16 | 	print("\nüß™ [SERVER] STARTING TEST RUNNER...")
  17 | 
  18 | 	-- 1. Load TesEZ (Pake Loader framework lu biar konsisten)
  19 | 	local Loader = require(ReplicatedStorage.OVHL.Core.Loader)
  20 | 	local TesEZ
  21 | 
  22 | 	pcall(function()
  23 | 		TesEZ = Loader.Pkg("TestEZ") -- Atau require(ReplicatedStorage.Packages.TestEZ)
  24 | 	end)
  25 | 
  26 | 	if not TesEZ then
  27 | 		warn("‚ö†Ô∏è [SERVER] TesEZ not found! Please run 'wally install'.")
  28 | 		return
  29 | 	end
  30 | 
  31 | 	-- 2. Tentukan Folder Target (Sesuai Mapping Rojo yang baru)
  32 | 	-- Kita pake WaitForChild biar aman kalau loadingnya telat dikit
  33 | 	local testRoots = {
  34 | 		ReplicatedStorage:WaitForChild("Tests", 10), -- Shared Tests
  35 | 		ServerScriptService:WaitForChild("Tests", 10), -- Server Tests
  36 | 	}
  37 | 
  38 | 	-- Filter kalau foldernya ternyata kosong/gak ke-sync
  39 | 	local validRoots = {}
  40 | 	for _, folder in ipairs(testRoots) do
  41 | 		if folder then
  42 | 			table.insert(validRoots, folder)
  43 | 		else
  44 | 			warn("‚ö†Ô∏è [SERVER] Missing Test Folder (Check Rojo Mapping)")
  45 | 		end
  46 | 	end
  47 | 
  48 | 	if #validRoots == 0 then
  49 | 		warn("‚ö†Ô∏è [SERVER] No tests found to run.")
  50 | 		return
  51 | 	end
  52 | 
  53 | 	-- 3. JALANIN TES!
  54 | 	print("üìÇ [SERVER] Scanning folders: " .. #validRoots)
  55 | 	local results = TesEZ.TestBootstrap:run(validRoots)
  56 | 
  57 | 	-- 4. Laporan
  58 | 	if results.failureCount > 0 then
  59 | 		warn("‚ùå [SERVER] FAILED: " .. results.failureCount .. " tests broken.")
  60 | 	else
  61 | 		print("‚úÖ [SERVER] SUCCESS: All systems normal.")
  62 | 	end
  63 | end)
  64 | 
```
</details>


<details>
<summary><strong>üåô src/ServerScriptService/OVHL/Config/PermissionConfig.luau</strong> (9 lines, 173 Bytes)</summary>

**Rojo Path:** `game.ServerScriptService.OVHL.Config.PermissionConfig`

```lua
   1 | --!strict
   2 | return {
   3 |     Provider = "HDAdmin", -- Options: "HDAdmin", "Internal"
   4 |     Settings = { 
   5 |         OwnerIsSuperAdmin = true,
   6 |         LogChanges = true
   7 |     }
   8 | }
   9 | 
```
</details>


<details>
<summary><strong>üåô src/ServerScriptService/OVHL/Core/DataMigrator.luau</strong> (54 lines, 1.7 KB)</summary>

**Rojo Path:** `game.ServerScriptService.OVHL.Core.DataMigrator`

```lua
   1 | --!strict
   2 | -- @Module: DataMigrator
   3 | -- @Role: Menangani perubahan struktur data antar versi
   4 | local DataMigrator = {}
   5 | 
   6 | -- [CONFIG] Versi Data Saat Ini
   7 | DataMigrator.LATEST_VERSION = 1
   8 | 
   9 | -- [LOGIC] Daftar Migrasi (Fungsi untuk naik kelas)
  10 | local MIGRATIONS = {
  11 |     -- Contoh Migrasi ke V2 nanti:
  12 |     -- [2] = function(data)
  13 |     --     data.Pets = {} 
  14 |     --     return data
  15 |     -- end
  16 | }
  17 | 
  18 | function DataMigrator.Migrate(profile, logger)
  19 |     local data = profile.Data
  20 |     local currentVer = data._SchemaVersion or 0
  21 |     
  22 |     -- Jika data baru (kosong), langsung cap versi terbaru
  23 |     if currentVer == 0 and not next(data) then
  24 |         data._SchemaVersion = DataMigrator.LATEST_VERSION
  25 |         return
  26 |     end
  27 | 
  28 |     -- Loop migrasi dari versi lama ke terbaru
  29 |     if currentVer < DataMigrator.LATEST_VERSION then
  30 |         logger:Warn("Migrator", string.format("Migrating Data v%d -> v%d", currentVer, DataMigrator.LATEST_VERSION))
  31 |         
  32 |         for v = currentVer + 1, DataMigrator.LATEST_VERSION do
  33 |             local migrationFunc = MIGRATIONS[v]
  34 |             if migrationFunc then
  35 |                 -- Jalankan fungsi migrasi
  36 |                 local success, err = pcall(function()
  37 |                     data = migrationFunc(data)
  38 |                 end)
  39 |                 
  40 |                 if not success then
  41 |                     logger:Error("MigrationFail", { Version = v, Error = err })
  42 |                     break -- Stop migrasi jika gagal, biarkan load apa adanya (safety)
  43 |                 end
  44 |             end
  45 |         end
  46 |         
  47 |         -- Update versi di data
  48 |         data._SchemaVersion = DataMigrator.LATEST_VERSION
  49 |         logger:Info("Migrator", "Migration Complete.")
  50 |     end
  51 | end
  52 | 
  53 | return DataMigrator
  54 | 
```
</details>


<details>
<summary><strong>üåô src/ServerScriptService/OVHL/Core/NetworkBridge.luau</strong> (129 lines, 4.65 KB)</summary>

**Rojo Path:** `game.ServerScriptService.OVHL.Core.NetworkBridge`

```lua
   1 | --!strict
   2 | -- @Component: NetworkBridge (Server v2.2 - PATCHED)
   3 | -- @Role: Traffic Controller & Security Checkpoint
   4 | local RS = game:GetService('ReplicatedStorage')
   5 | local SS = game:GetService('ServerScriptService')
   6 | 
   7 | local Guard = require(SS.OVHL.Core.NetworkGuard)
   8 | local Loader = require(RS.OVHL.Core.Loader)
   9 | local TypeValidator = Loader.Core("TypeValidator")
  10 | 
  11 | local Bridge = {}
  12 | Bridge.__index = Bridge
  13 | 
  14 | function Bridge.New(ctx)
  15 |     -- Create Dedicated Security Logger
  16 |     local secLog = ctx:CreateLogger("SECURITY")
  17 |     local netLog = ctx:CreateLogger("NETWORK")
  18 | 
  19 |     local self = setmetatable({ 
  20 |         _logger = netLog,
  21 |         _secLog = secLog,
  22 |         _limit = ctx.RateLimiter,
  23 |         _root = nil,
  24 |         _services = {} -- Initialize here to be safe
  25 |     }, Bridge)
  26 |     
  27 |     self._root = RS:FindFirstChild('OVHL_Remotes') or Instance.new('Folder', RS)
  28 |     self._root.Name = 'OVHL_Remotes'
  29 |     
  30 |     -- [CCTV] Verification Log
  31 |     self._secLog:Info("System", "üõ°Ô∏è Security Systems (Guard & Limiter) Connected")
  32 |     
  33 |     return self
  34 | end
  35 | 
  36 | function Bridge:Register(serviceName, netConfig)
  37 |     local reqs = netConfig and netConfig.Requests or {}
  38 |     for methodName, rules in pairs(reqs) do
  39 |         local remoteName = serviceName .. '_' .. methodName
  40 |         local rf = self._root:FindFirstChild(remoteName) or Instance.new('RemoteFunction', self._root)
  41 |         rf.Name = remoteName
  42 |         
  43 |         local limitKey = serviceName .. ':' .. methodName
  44 |         if rules.RateLimit and self._limit then
  45 |             self._limit:SetRule(limitKey, rules.RateLimit.Max, rules.RateLimit.Interval)
  46 |         end
  47 |         
  48 |         rf.OnServerInvoke = function(player, ...)
  49 |             return self:_handleInvoke(player, serviceName, methodName, rules, ...)
  50 |         end
  51 |     end
  52 | 
  53 |     local events = netConfig and netConfig.Events or {}
  54 |     for _, eventName in ipairs(events) do
  55 |         local remoteName = serviceName .. '/' .. eventName
  56 |         local re = self._root:FindFirstChild(remoteName) or Instance.new("RemoteEvent", self._root)
  57 |         re.Name = remoteName
  58 |     end
  59 |     
  60 |     -- Return handle for local context usage if needed
  61 |     return { 
  62 |         OnInvoke = function() end, 
  63 |         Fire = function(plr, evt, ...) self:Fire(plr, serviceName, evt, ...) end,
  64 |         FireAll = function(evt, ...) self:FireAll(serviceName, evt, ...) end
  65 |     }
  66 | end
  67 | 
  68 | function Bridge:_handleInvoke(player, serviceName, methodName, rules, ...)
  69 |     -- A. Rate Limit
  70 |     local limitKey = serviceName .. ':' .. methodName
  71 |     if rules.RateLimit and self._limit and not self._limit:Check(player, limitKey) then
  72 |         self._secLog:Warn("RateLimit", {Plr=player.Name, Action=methodName})
  73 |         return { Success=false, Error='Too Many Requests', Code=429 }
  74 |     end
  75 |     
  76 |     -- B. Inbound Guard
  77 |     local rawArgs = {...}
  78 |     local cleanArgs = {}
  79 |     for i,v in ipairs(rawArgs) do cleanArgs[i] = Guard.CleanIn(v, 0, player) end
  80 |     
  81 |     -- C. Type Validator
  82 |     if rules.Args then
  83 |         local ok, err = TypeValidator.Validate(cleanArgs, rules.Args)
  84 |         if not ok then return { Success=false, Error='Invalid Arguments', Code=400 } end
  85 |     end
  86 |     
  87 |     -- D. Execution
  88 |     local service = self._services[serviceName]
  89 |     if service and service[methodName] then
  90 |         local success, result = pcall(service[methodName], service, player, table.unpack(cleanArgs))
  91 |         if not success then 
  92 |             self._logger:Error("ExecError", {Srv=serviceName, Mtd=methodName, Err=result})
  93 |             return { Success=false, Error='Internal Server Error' } 
  94 |         end
  95 |         
  96 |         -- E. Outbound Guard
  97 |         local sanitized = Guard.SanitizeOutbound(result)
  98 |         if type(sanitized) == "table" and sanitized.Success ~= nil then return sanitized end
  99 |         return { Success=true, Data=sanitized }
 100 |     end
 101 |     
 102 |     return { Success=false, Error='Service Not Bound' }
 103 | end
 104 | 
 105 | function Bridge:Bind(name, srv) self._services[name] = srv end
 106 | 
 107 | -- [PATCH] MISSING METHODS RESTORED
 108 | function Bridge:Fire(player, serviceName, eventName, ...)
 109 |     local remoteName = serviceName .. '/' .. eventName
 110 |     local re = self._root:FindFirstChild(remoteName)
 111 |     if re and re:IsA("RemoteEvent") then
 112 |         re:FireClient(player, ...)
 113 |     else
 114 |         warn("[Bridge] Fire Failed: RemoteEvent '"..remoteName.."' not found")
 115 |     end
 116 | end
 117 | 
 118 | function Bridge:FireAll(serviceName, eventName, ...)
 119 |     local remoteName = serviceName .. '/' .. eventName
 120 |     local re = self._root:FindFirstChild(remoteName)
 121 |     if re and re:IsA("RemoteEvent") then
 122 |         re:FireAllClients(...)
 123 |     else
 124 |         warn("[Bridge] FireAll Failed: RemoteEvent '"..remoteName.."' not found")
 125 |     end
 126 | end
 127 | 
 128 | return Bridge
 129 | 
```
</details>


<details>
<summary><strong>üåô src/ServerScriptService/OVHL/Core/NetworkGuard.luau</strong> (98 lines, 2.78 KB)</summary>

**Rojo Path:** `game.ServerScriptService.OVHL.Core.NetworkGuard`

```lua
   1 | --!strict
   2 | -- @Core: NetworkGuard v1.1 (With CCTV)
   3 | -- @Role: Firewall with Logging Capabilities
   4 | local RS = game:GetService("ReplicatedStorage")
   5 | -- [FIX] Manual Path for internal core usage prevents circular dep issues in Loader
   6 | local SmartLogger = require(RS.OVHL.Core.SmartLogger) 
   7 | 
   8 | local NetworkGuard = {}
   9 | local Logger = SmartLogger.New("SECURITY")
  10 | 
  11 | local MAX_DEPTH = 10
  12 | local SENSITIVE_KEYS = {
  13 |     "token", "api_key", "secret", "password", "auth", "private"
  14 | }
  15 | 
  16 | -- [[ INBOUND: CLIENT -> SERVER ]]
  17 | function NetworkGuard.CleanIn(val, depth, player)
  18 |     depth = depth or 0
  19 |     if depth > MAX_DEPTH then 
  20 |         Logger:Warn("Overflow", {Msg="Recursion depth exceeded", Plr=tostring(player)})
  21 |         return nil 
  22 |     end
  23 |     
  24 |     local t = typeof(val)
  25 |     
  26 |     -- 1. Block Instances (CRITICAL LOG)
  27 |     if t == "Instance" then
  28 |         Logger:Warn("ExploitAttempt", {
  29 |             Msg = "Instance type dropped from request",
  30 |             Val = tostring(val),
  31 |             Plr = tostring(player)
  32 |         })
  33 |         return nil 
  34 |     end
  35 |     
  36 |     -- 2. Sanitize Strings
  37 |     if t == "string" then
  38 |         if #val > 2048 then 
  39 |             return string.sub(val, 1, 2048) 
  40 |         end
  41 |         return val
  42 |     end
  43 |     
  44 |     -- 3. Recursively Clean Tables
  45 |     if t == "table" then
  46 |         local clean = {}
  47 |         for k, v in pairs(val) do
  48 |             if type(k) == "string" or type(k) == "number" then
  49 |                 local cleanVal = NetworkGuard.CleanIn(v, depth + 1, player)
  50 |                 if cleanVal ~= nil then
  51 |                     clean[k] = cleanVal
  52 |                 end
  53 |             end
  54 |         end
  55 |         return clean
  56 |     end
  57 |     
  58 |     return val
  59 | end
  60 | 
  61 | -- [[ OUTBOUND: SERVER -> CLIENT ]]
  62 | function NetworkGuard.SanitizeOutbound(val, depth)
  63 |     depth = depth or 0
  64 |     if depth > MAX_DEPTH then return nil end
  65 |     
  66 |     local t = typeof(val)
  67 |     
  68 |     if t == "table" then
  69 |         local clean = {}
  70 |         for k, v in pairs(val) do
  71 |             local isSafe = true
  72 |             
  73 |             -- Redact Sensitive Keys (AUDIT LOG)
  74 |             if type(k) == "string" then
  75 |                 local lowerKey = k:lower()
  76 |                 for _, badWord in ipairs(SENSITIVE_KEYS) do
  77 |                     if lowerKey:find(badWord) then
  78 |                         clean[k] = "[REDACTED]"
  79 |                         isSafe = false
  80 |                         -- Kita log di Debug level aja biar gak spam kalau emang intentional
  81 |                         Logger:Debug("Redacted", {Key=k})
  82 |                         break
  83 |                     end
  84 |                 end
  85 |             end
  86 |             
  87 |             if isSafe then
  88 |                 clean[k] = NetworkGuard.SanitizeOutbound(v, depth + 1)
  89 |             end
  90 |         end
  91 |         return clean
  92 |     end
  93 |     
  94 |     return val
  95 | end
  96 | 
  97 | return NetworkGuard
  98 | 
```
</details>


<details>
<summary><strong>üåô src/ServerScriptService/OVHL/Core/RateLimiter.luau</strong> (64 lines, 1.75 KB)</summary>

**Rojo Path:** `game.ServerScriptService.OVHL.Core.RateLimiter`

```lua
   1 | --!strict
   2 | -- @Core: RateLimiter v1.0
   3 | -- @Algo: Token Bucket (Allows Burst, Throttles Sustained)
   4 | local RateLimiter = {}
   5 | RateLimiter.__index = RateLimiter
   6 | 
   7 | -- Cache Structure:
   8 | -- _buckets[PlayerId][ActionKey] = { Tokens = number, LastUpdate = os.time() }
   9 | 
  10 | function RateLimiter.New()
  11 |     local self = setmetatable({
  12 |         _buckets = {}
  13 |     }, RateLimiter)
  14 |     return self
  15 | end
  16 | 
  17 | function RateLimiter:Check(player, actionKey, maxTokens, interval)
  18 |     -- 1. Validasi Input
  19 |     if not player or not actionKey then return false end
  20 |     maxTokens = maxTokens or 10
  21 |     interval = interval or 1
  22 |     
  23 |     local userId = player.UserId
  24 |     local now = os.clock() -- Gunakan clock untuk presisi sub-detik
  25 |     
  26 |     -- 2. Init Player Cache
  27 |     if not self._buckets[userId] then
  28 |         self._buckets[userId] = {}
  29 |     end
  30 |     
  31 |     -- 3. Init Action Bucket
  32 |     local bucket = self._buckets[userId][actionKey]
  33 |     if not bucket then
  34 |         bucket = {
  35 |             Tokens = maxTokens,
  36 |             LastUpdate = now
  37 |         }
  38 |         self._buckets[userId][actionKey] = bucket
  39 |     end
  40 |     
  41 |     -- 4. Refill Logic (Token regeneration)
  42 |     local delta = now - bucket.LastUpdate
  43 |     local refillRate = maxTokens / interval -- Token per detik
  44 |     local tokensToAdd = delta * refillRate
  45 |     
  46 |     bucket.Tokens = math.min(maxTokens, bucket.Tokens + tokensToAdd)
  47 |     bucket.LastUpdate = now
  48 |     
  49 |     -- 5. Consumption Logic
  50 |     if bucket.Tokens >= 1 then
  51 |         bucket.Tokens = bucket.Tokens - 1
  52 |         return true -- Allowed
  53 |     else
  54 |         return false -- Rate Limited
  55 |     end
  56 | end
  57 | 
  58 | -- Optional: Cleanup mechanism for disconnected players could go here
  59 | function RateLimiter:Cleanup(player)
  60 |     self._buckets[player.UserId] = nil
  61 | end
  62 | 
  63 | return RateLimiter
  64 | 
```
</details>


<details>
<summary><strong>üåô src/ServerScriptService/OVHL/Core/ServerKernel.luau</strong> (88 lines, 2.31 KB)</summary>

**Rojo Path:** `game.ServerScriptService.OVHL.Core.ServerKernel`

```lua
   1 | --!strict
   2 | -- @Kernel: Server v0.6.2 (Luau Standard)
   3 | local ServerScriptService = game:GetService("ServerScriptService")
   4 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)
   5 | 
   6 | local Context = Loader.Core("Context")
   7 | local SmartLogger = Loader.Core("SmartLogger")
   8 | local Manifest = Loader.Core("Manifest")
   9 | -- Loader will automatically resolve "Networking/Bridge" to Bridge.luau
  10 | local Bridge = Loader.Server("Core/NetworkBridge")
  11 | 
  12 | local Adapters = {
  13 | 	DB = require(ServerScriptService.OVHL.Core.Permissions.Adapters.InternalDB),
  14 | 	HD = require(ServerScriptService.OVHL.Core.Permissions.Adapters.HDAdmin),
  15 | }
  16 | 
  17 | local ServerKernel = {}
  18 | 
  19 | function ServerKernel.Boot()
  20 | 	local Log = SmartLogger.New("SYSTEM")
  21 | 	Log:Info(
  22 | 		string.format(
  23 | 			"üöÄ %s v%s (%s) SERVER STARTING...",
  24 | 			Manifest.Identity.Name,
  25 | 			Manifest.Version.Full,
  26 | 			Manifest.Metadata.BuildType
  27 | 		)
  28 | 	)
  29 | 
  30 | 	local services = {}
  31 | 
  32 | 	local function register(module, featureName)
  33 | 		if module:IsA("ModuleScript") then
  34 | 			local ok, res = pcall(require, module)
  35 | 			if ok then
  36 | 				local finalName = module.Name
  37 | 				if featureName and (module.Name == "Service" or module.Name == "Service.luau") then
  38 | 					finalName = featureName .. "Service"
  39 | 				end
  40 | 				services[finalName] = res
  41 | 				Log:Debug(string.format("   + Service Registered: %-20s (Source: %s)", finalName, module.Name))
  42 | 			end
  43 | 		end
  44 | 	end
  45 | 
  46 | 	Log:Info("üîç Scanning Services...")
  47 | 	local coreFolder = ServerScriptService.OVHL.Services
  48 | 	for _, mod in ipairs(coreFolder:GetChildren()) do
  49 | 		register(mod)
  50 | 	end
  51 | 
  52 | 	local modulesFolder = ServerScriptService.OVHL.Modules
  53 | 	for _, feature in ipairs(modulesFolder:GetChildren()) do
  54 | 		if feature:IsA("Folder") then
  55 | 			for _, file in ipairs(feature:GetChildren()) do
  56 | 				if file.Name:match("Service$") then
  57 | 					register(file, feature.Name)
  58 | 				end
  59 | 			end
  60 | 		end
  61 | 	end
  62 | 
  63 | 	services.Adapters = Adapters
  64 | 
  65 | 	local ctx = Context.New(services)
  66 | 
  67 | 	-- [FIX] Pass Context to Bridge (Critical for Security Logger)
  68 | 	ctx.Network = Bridge.New(ctx)
  69 | 
  70 | 	Log:Info("Phase 1: Init")
  71 | 	for _, srv in pairs(services) do
  72 | 		if srv.Init then
  73 | 			pcall(srv.Init, srv, ctx)
  74 | 		end
  75 | 	end
  76 | 
  77 | 	Log:Info("Phase 2: Start")
  78 | 	for _, srv in pairs(services) do
  79 | 		if srv.Start then
  80 | 			task.spawn(srv.Start, srv)
  81 | 		end
  82 | 	end
  83 | 
  84 | 	Log:Info("‚úÖ SERVER BOOT COMPLETE")
  85 | end
  86 | 
  87 | return ServerKernel
  88 | 
```
</details>


<details>
<summary><strong>üåô src/ServerScriptService/OVHL/Services/DataManagerService.luau</strong> (124 lines, 2.89 KB)</summary>

**Rojo Path:** `game.ServerScriptService.OVHL.Services.DataManagerService`

```lua
   1 | --!strict
   2 | -- @Service: DataManager v2.4 (FINAL AUDIT FIX)
   3 | local Players = game:GetService("Players")
   4 | local RS = game:GetService("ReplicatedStorage")
   5 | local SS = game:GetService("ServerScriptService")
   6 | 
   7 | local Loader = require(RS.OVHL.Core.Loader)
   8 | local ProfileService = Loader.Pkg("ProfileService")
   9 | local Env = Loader.Core.Env
  10 | local DataMigrator = require(SS.OVHL.Core.DataMigrator)
  11 | 
  12 | local DataManager = {}
  13 | local ProfileStore = nil
  14 | local Profiles = {}
  15 | 
  16 | local DATA_TEMPLATE = {
  17 | 	_SchemaVersion = 1,
  18 | 	Coins = 0,
  19 | 	Level = 1,
  20 | 	Inventory = {},
  21 | 	Meta = { FirstJoin = 0, LastLogin = 0 },
  22 | }
  23 | 
  24 | function DataManager:Init(ctx)
  25 | 	self.Logger = ctx:CreateLogger("DATA")
  26 | 	local storeName = Env.IsStudio() and "OVHL_Dev_01" or "OVHL_Prod_01"
  27 | 
  28 | 	-- Setup Store
  29 | 	if Env.MockDataStore() then
  30 | 		ProfileStore = ProfileService.GetProfileStore({ Name = storeName, Scope = "Mock" }, DATA_TEMPLATE)
  31 | 		ProfileStore = ProfileStore.Mock
  32 | 	else
  33 | 		ProfileStore = ProfileService.GetProfileStore(storeName, DATA_TEMPLATE)
  34 | 	end
  35 | 
  36 | 	-- Bind Cleanup
  37 | 	game:BindToClose(function()
  38 | 		self:Shutdown()
  39 | 	end)
  40 | end
  41 | 
  42 | function DataManager:Start()
  43 | 	-- Listeners
  44 | 	Players.PlayerAdded:Connect(function(p)
  45 | 		task.spawn(function()
  46 | 			self:OnJoin(p)
  47 | 		end)
  48 | 	end)
  49 | 	Players.PlayerRemoving:Connect(function(p)
  50 | 		self:OnQuit(p)
  51 | 	end)
  52 | 
  53 | 	-- Handle existing
  54 | 	for _, player in ipairs(Players:GetPlayers()) do
  55 | 		task.spawn(function()
  56 | 			self:OnJoin(player)
  57 | 		end)
  58 | 	end
  59 | end
  60 | 
  61 | function DataManager:Shutdown()
  62 | 	-- CLEANUP WITHOUT WAIT (ProfileService handles sync internally on Close)
  63 | 	for player, profile in pairs(Profiles) do
  64 | 		if profile then
  65 | 			profile:Release()
  66 | 		end
  67 | 	end
  68 | end
  69 | 
  70 | function DataManager:OnJoin(player)
  71 | 	if Profiles[player] then
  72 | 		return
  73 | 	end
  74 | 
  75 | 	-- NO MANUAL RETRY/WAIT HERE - Rely on ProfileService auto-retry logic
  76 | 	local profile = ProfileStore:LoadProfileAsync("Player_" .. player.UserId)
  77 | 
  78 | 	if profile then
  79 | 		profile:AddUserId(player.UserId)
  80 | 		profile:Reconcile()
  81 | 		DataMigrator.Migrate(profile, self.Logger)
  82 | 
  83 | 		profile:ListenToRelease(function()
  84 | 			Profiles[player] = nil
  85 | 			pcall(function()
  86 | 				player:Kick("Session End")
  87 | 			end)
  88 | 		end)
  89 | 
  90 | 		if player:IsDescendantOf(Players) then
  91 | 			Profiles[player] = profile
  92 | 			-- Init timestamps
  93 | 			local d = profile.Data
  94 | 			if d.Meta.FirstJoin == 0 then
  95 | 				d.Meta.FirstJoin = os.time()
  96 | 			end
  97 | 			d.Meta.LastLogin = os.time()
  98 | 			self.Logger:Info("LoadOK", { User = player.Name })
  99 | 		else
 100 | 			profile:Release()
 101 | 		end
 102 | 	else
 103 | 		self.Logger:Error("LoadFail", "DataStore Critical Failure: " .. player.Name)
 104 | 		pcall(function()
 105 | 			player:Kick("Data Load Failed. Please Rejoin.")
 106 | 		end)
 107 | 	end
 108 | end
 109 | 
 110 | function DataManager:OnQuit(player)
 111 | 	local profile = Profiles[player]
 112 | 	if profile then
 113 | 		profile:Release()
 114 | 	end
 115 | 	Profiles[player] = nil
 116 | end
 117 | 
 118 | function DataManager:Get(player)
 119 | 	local profile = Profiles[player]
 120 | 	return profile and profile.Data
 121 | end
 122 | 
 123 | return DataManager
 124 | 
```
</details>


<details>
<summary><strong>üåô src/ServerScriptService/OVHL/Services/MonetizationService.luau</strong> (48 lines, 1.38 KB)</summary>

**Rojo Path:** `game.ServerScriptService.OVHL.Services.MonetizationService`

```lua
   1 | --!strict
   2 | -- @Service: MonetizationService
   3 | local MarketplaceService = game:GetService("MarketplaceService")
   4 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)
   5 | 
   6 | local MonetizationService = {}
   7 | local Handlers = {}
   8 | 
   9 | function MonetizationService:Init(ctx)
  10 |     self.Logger = ctx:CreateLogger("SHOP")
  11 | 	self.Network = ctx.Network
  12 | 	self.Network:Bind("Monetization", self)
  13 | end
  14 | 
  15 | function MonetizationService:Start()
  16 |     MarketplaceService.ProcessReceipt = function(info)
  17 |         return self:Process(info)
  18 |     end
  19 | end
  20 | 
  21 | function MonetizationService:Shutdown() 
  22 |     -- No critical cleanup needed for receipts, handled by Roblox retry
  23 | end
  24 | 
  25 | function MonetizationService:RegisterProduct(id, func)
  26 |     Handlers[id] = func
  27 | end
  28 | 
  29 | function MonetizationService:Process(info)
  30 |     local handler = Handlers[info.ProductId]
  31 |     local player = game.Players:GetPlayerByUserId(info.PlayerId)
  32 |     
  33 |     if not player then return Enum.ProductPurchaseDecision.NotProcessedYet end
  34 |     
  35 |     if handler then
  36 |         local s, r = pcall(handler, player, info)
  37 |         if s then
  38 |             self.Logger:Info("Purchase OK", {Product=info.ProductId})
  39 |             return Enum.ProductPurchaseDecision.PurchaseGranted
  40 |         else
  41 |             self.Logger:Error("Purchase Error", {Error=r})
  42 |         end
  43 |     end
  44 |     return Enum.ProductPurchaseDecision.NotProcessedYet
  45 | end
  46 | 
  47 | return MonetizationService
  48 | 
```
</details>


<details>
<summary><strong>üåô src/ServerScriptService/OVHL/Services/PermissionService.luau</strong> (133 lines, 4.67 KB)</summary>

**Rojo Path:** `game.ServerScriptService.OVHL.Services.PermissionService`

```lua
   1 | --!strict
   2 | -- @Service: PermissionService (REFACTORED: V3 COMPLIANT)
   3 | local Players = game:GetService("Players")
   4 | local SSS = game:GetService("ServerScriptService")
   5 | local Cfg = require(SSS.OVHL.Config.PermissionConfig)
   6 | 
   7 | local Hub = {}
   8 | 
   9 | function Hub:Init(ctx)
  10 |     -- [1] Init bersih: Hanya setup dependencies & register routes
  11 |     self.Logger = ctx:CreateLogger("PERMISSION")
  12 |     self.DB = ctx.Adapters.DB
  13 |     self.HD = ctx.Adapters.HD
  14 |     self.Network = ctx.Network
  15 |     self._cache = {} 
  16 |     self.RANKS = { GUEST = 0, VIP = 1, MOD = 2, ADMIN = 3, HEAD = 4, OWNER = 5 }
  17 | 
  18 |     self.Network:Register("Permission", {
  19 |         Requests = {
  20 |             SetRank = {
  21 |                 RateLimit = { Max = 10, Interval = 60 },
  22 |                 Args = { { name = "targetUserId", type = "number" }, { name = "rankId", type = "number" } }
  23 |             },
  24 |             GetPlayers = { 
  25 |                 RateLimit = { Max = 5, Interval = 1 }, 
  26 |                 Args = {} 
  27 |             },
  28 |         },
  29 |         Events = { "RankChanged" },
  30 |     })
  31 | 
  32 |     self.Network:Bind("Permission", self)
  33 |     self.Logger:Info("System", "üõ°Ô∏è Permission System Initialized")
  34 | end
  35 | 
  36 | function Hub:Start()
  37 |     -- [2] Pindahkan Logic Berat ke Start (Async)
  38 |     Players.PlayerAdded:Connect(function(p) self:OnJoin(p) end)
  39 |     
  40 |     -- Scan players existing
  41 |     for _, p in ipairs(Players:GetPlayers()) do self:OnJoin(p) end
  42 | 
  43 |     -- Handle HD Admin Integration Async
  44 |     if Cfg.Provider == "HDAdmin" then
  45 |         task.spawn(function()
  46 |             -- Retry logic moved to dedicated routine outside Init blocker
  47 |             local ready = self.HD.WaitForAPI(10) -- Max 10s wait but inside spawn
  48 |             if ready then
  49 |                 self.Logger:Info("Link", "HD Admin Integration Ready")
  50 |                 -- Re-resolve all players
  51 |                 for _, p in ipairs(Players:GetPlayers()) do self:Resolve(p) end
  52 |             else
  53 |                 self.Logger:Warn("Link", "HD Admin not found within timeout. Defaulting to InternalDB.")
  54 |             end
  55 |         end)
  56 |     end
  57 | end
  58 | 
  59 | function Hub:OnJoin(p)
  60 |     if not p.Parent then return end
  61 |     self:Resolve(p)
  62 | end
  63 | 
  64 | function Hub:Resolve(p)
  65 |     local rawDB = self.DB.Get(p.UserId) or 0
  66 |     local rawHD = 0
  67 | 
  68 |     -- HD Admin Check (Safe Call)
  69 |     if Cfg.Provider == "HDAdmin" and self.HD then
  70 |         local success, rank = pcall(function() return self.HD.GetRank(p) end)
  71 |         if success and type(rank) == "number" then rawHD = rank end
  72 |     end
  73 | 
  74 |     local isOwner = (p.UserId == game.CreatorId and Cfg.Settings.OwnerIsSuperAdmin)
  75 |     local r, s = 0, "GUEST"
  76 | 
  77 |     if rawDB > r then r = rawDB; s = "INTERNAL_DB" end
  78 |     if rawHD > r then r = rawHD; s = "HD_ADMIN" end
  79 |     if isOwner then r = 5; s = "OWNER" end
  80 | 
  81 |     local oldRank = p:GetAttribute("OVHL_Rank")
  82 |     if oldRank ~= r then
  83 |         p:SetAttribute("OVHL_Rank", r)
  84 |         p:SetAttribute("OVHL_Role", s)
  85 |         self.Network:FireAll("Permission", "RankChanged", p.UserId, r)
  86 |         
  87 |         -- Logging Identity (Structured)
  88 |         self.Logger:Debug("IdentityResolve", { User=p.Name, Rank=r, Source=s })
  89 |     end
  90 | end
  91 | 
  92 | function Hub:SetRank(adminPlayer, targetUserId, newRank)
  93 |     -- Security Check
  94 |     local myRank = adminPlayer:GetAttribute("OVHL_Rank") or 0
  95 |     if myRank < self.RANKS.HEAD then
  96 |         self.Logger:Warn("Security", { Attempt="SetRank", Actor=adminPlayer.Name })
  97 |         -- [3] Error Masking: Jangan bocorkan logic internal
  98 |         return { Success = false, Error = "E-403: Access Denied" }
  99 |     end
 100 | 
 101 |     if newRank < 0 or newRank > self.RANKS.OWNER then
 102 |         return { Success = false, Error = "E-400: Invalid Argument" }
 103 |     end
 104 | 
 105 |     local success = self.DB.Set(targetUserId, newRank)
 106 |     if success then
 107 |         self.Logger:Info("AdminAction", { Action="SetRank", Actor=adminPlayer.Name, Target=targetUserId, Val=newRank })
 108 |         
 109 |         -- Refresh target if online
 110 |         local target = Players:GetPlayerByUserId(targetUserId)
 111 |         if target then self:Resolve(target) end
 112 |         
 113 |         return { Success = true, Data = "Rank Updated" }
 114 |     else
 115 |         -- [3] Error Masking
 116 |         self.Logger:Error("DBWrite", "Failed to set rank for "..targetUserId)
 117 |         return { Success = false, Error = "E-500: System Error" }
 118 |     end
 119 | end
 120 | 
 121 | function Hub:GetPlayers(player)
 122 |     local myRank = player:GetAttribute("OVHL_Rank") or 0
 123 |     if myRank < self.RANKS.ADMIN then return { Success = false, Data = {} } end
 124 | 
 125 |     local list = {}
 126 |     for _, p in ipairs(Players:GetPlayers()) do
 127 |         table.insert(list, { UserId = p.UserId, Name = p.Name, Rank = p:GetAttribute("OVHL_Rank") or 0, Role = p:GetAttribute("OVHL_Role") })
 128 |     end
 129 |     return { Success = true, Data = list }
 130 | end
 131 | 
 132 | return Hub
 133 | 
```
</details>


<details>
<summary><strong>üåô src/ServerScriptService/OVHL/Modules/Inventory/InventoryService.luau</strong> (62 lines, 2.35 KB)</summary>

**Rojo Path:** `game.ServerScriptService.OVHL.Modules.Inventory.InventoryService`

```lua
   1 | --!strict
   2 | -- @Service: InventoryService (REFACTORED: Scoped Data)
   3 | local RS = game:GetService("ReplicatedStorage")
   4 | local Loader = require(RS.OVHL.Core.Loader)
   5 | local Cfg = Loader.Module("Inventory").SharedConfig
   6 | 
   7 | local Hub = {}
   8 | 
   9 | function Hub:Init(ctx)
  10 |     self.Logger = ctx:CreateLogger("INVENTORY")
  11 |     self.Network = ctx.Network
  12 |     
  13 |     -- [FIX] Move Data from Global to Instance
  14 |     self._mockStorage = {
  15 |         { Id = 1, Name = "Excalibur", Rarity = "Epic", Count = 1, Icon = "rbxassetid://13006407439", Equipped = false },
  16 |         { Id = 2, Name = "Health Potion", Rarity = "Common", Count = 5, Icon = "rbxassetid://12905487363", Equipped = false },
  17 |         { Id = 3, Name = "Mana Crystal", Rarity = "Rare", Count = 2, Icon = "", Equipped = false },
  18 |         { Id = 4, Name = "God Apple", Rarity = "Legendary", Count = 1, Icon = "", Equipped = false },
  19 |         { Id = 5, Name = "Rusty Dagger", Rarity = "Common", Count = 1, Icon = "rbxassetid://13006407439", Equipped = false },
  20 |     }
  21 |     
  22 |     self.Network:Register("Inventory", Cfg.Network)
  23 |     self.Network:Bind("Inventory", self)
  24 |     
  25 |     self.Logger:Info("System", "Inventory Active (Mock Storage)")
  26 | end
  27 | 
  28 | function Hub:Start() end
  29 | 
  30 | function Hub:GetItems(player)
  31 |     -- Simulated fetch per player
  32 |     self.Logger:Debug("Data", { User = player.Name, Op = "Fetch" })
  33 |     return { Success = true, Data = self._mockStorage }
  34 | end
  35 | 
  36 | function Hub:PerformAction(player, itemId, action)
  37 |     local targetItem, index
  38 |     for i, v in ipairs(self._mockStorage) do
  39 |         if v.Id == itemId then targetItem = v; index = i; break end
  40 |     end
  41 |     
  42 |     if not targetItem then 
  43 |         -- [FIX] Sanitized Error
  44 |         return { Success = false, Error = "Item unavailable" } 
  45 |     end
  46 |     
  47 |     if action == "Equip" then
  48 |         targetItem.Equipped = not targetItem.Equipped
  49 |         self.Logger:Info("Action", { User = player.Name, Type = action, Item = targetItem.Name })
  50 |         return { Success = true, Data = { Msg = targetItem.Equipped and "Equipped" or "Unequipped" } }
  51 |         
  52 |     elseif action == "Drop" then
  53 |         table.remove(self._mockStorage, index)
  54 |         self.Logger:Info("Action", { User = player.Name, Type = action, Item = targetItem.Name })
  55 |         return { Success = true, Data = { Msg = "Item dropped" } }
  56 |     end
  57 |     
  58 |     return { Success = false, Error = "Invalid Action" }
  59 | end
  60 | 
  61 | return Hub
  62 | 
```
</details>


<details>
<summary><strong>üåô src/ServerScriptService/OVHL/Core/Permissions/Adapters/HDAdmin.luau</strong> (54 lines, 1.3 KB)</summary>

**Rojo Path:** `game.ServerScriptService.OVHL.Core.Permissions.Adapters.HDAdmin`

```lua
   1 | --!strict
   2 | -- @Adapter: HDAdmin (REFACTORED)
   3 | local RS = game:GetService("ReplicatedStorage")
   4 | 
   5 | local HD = {}
   6 | local _api = nil
   7 | 
   8 | -- Non-Blocking Wait Function
   9 | function HD.WaitForAPI(timeout)
  10 |     if _api then return true end
  11 |     
  12 |     local start = os.clock()
  13 |     timeout = timeout or 5
  14 |     
  15 |     -- Attempt 1: Check Global Directly
  16 |     if _G.HDAdminMain then 
  17 |         _api = _G.HDAdminMain
  18 |         return true
  19 |     end
  20 | 
  21 |     -- Attempt 2: Scan safely
  22 |     repeat
  23 |         local setup = RS:FindFirstChild("HDAdminSetup")
  24 |         if setup and setup:IsA("ModuleScript") then
  25 |             local success, mod = pcall(require, setup)
  26 |             if success and mod and mod.GetMain then
  27 |                 _api = mod:GetMain()
  28 |                 return true
  29 |             end
  30 |         end
  31 |         
  32 |         task.wait(1) -- Polling acceptable here ONLY inside task.spawn context
  33 |     until (os.clock() - start) > timeout
  34 |     
  35 |     return false
  36 | end
  37 | 
  38 | -- Fallback Function
  39 | function HD.StartScan(logger)
  40 |     -- Deprecated: Handled by Service Logic now
  41 | end
  42 | 
  43 | function HD.GetRank(player)
  44 |     if not _api then return 0 end
  45 |     local s, cf = pcall(function() return _api:GetModule("cf") end)
  46 |     if s and cf then
  47 |         local id = cf:GetRankId(player)
  48 |         return tonumber(id) or 0
  49 |     end
  50 |     return 0
  51 | end
  52 | 
  53 | return HD
  54 | 
```
</details>


<details>
<summary><strong>üåô src/ServerScriptService/OVHL/Core/Permissions/Adapters/InternalDB.luau</strong> (26 lines, 642 Bytes)</summary>

**Rojo Path:** `game.ServerScriptService.OVHL.Core.Permissions.Adapters.InternalDB`

```lua
   1 | --!strict
   2 | -- @Adapter: InternalDB
   3 | -- Menyimpan Rank admin custom (selain HD Admin)
   4 | local DataStoreService = game:GetService("DataStoreService")
   5 | local Store = DataStoreService:GetDataStore("OVHL_Perms_V1")
   6 | 
   7 | local DB = {}
   8 | 
   9 | function DB.Get(userId)
  10 |     local s, r = pcall(function() return Store:GetAsync(tostring(userId)) end)
  11 |     if s and r then return r end
  12 |     return 0
  13 | end
  14 | 
  15 | function DB.Set(userId, rank)
  16 |     local key = tostring(userId)
  17 |     if rank <= 0 then
  18 |         pcall(function() Store:RemoveAsync(key) end)
  19 |     else
  20 |         pcall(function() Store:SetAsync(key, rank) end)
  21 |     end
  22 |     return true
  23 | end
  24 | 
  25 | return DB
  26 | 
```
</details>

### üì¶ Group: Client


<details>
<summary><strong>üåô src/StarterPlayer/StarterPlayerScripts/OVHL/ClientRuntime.client.luau</strong> (4 lines, 92 Bytes)</summary>

**Rojo Path:** `game.StarterPlayer.StarterPlayerScripts.OVHL.ClientRuntime.client`

```lua
   1 | --!strict
   2 | -- Client Runtime
   3 | require(game.ReplicatedStorage.OVHL.Bootstrap).StartClient()
   4 | 
```
</details>


<details>
<summary><strong>üåô src/StarterPlayer/StarterPlayerScripts/OVHL/TestRunner.client.luau</strong> (53 lines, 1.4 KB)</summary>

**Rojo Path:** `game.StarterPlayer.StarterPlayerScripts.OVHL.TestRunner.client`

```lua
   1 | --!strict
   2 | -- @System: TestRunner (Client Side)
   3 | local ReplicatedStorage = game:GetService("ReplicatedStorage")
   4 | local Players = game:GetService("Players")
   5 | local RunService = game:GetService("RunService")
   6 | 
   7 | if not RunService:IsStudio() then
   8 | 	return
   9 | end
  10 | 
  11 | task.defer(function()
  12 | 	task.wait(3) -- Client biasanya butuh waktu lebih lama buat loading UI
  13 | 
  14 | 	print("\nüß™ [CLIENT] STARTING TEST RUNNER...")
  15 | 
  16 | 	-- 1. Load TesEZ
  17 | 	local Loader = require(ReplicatedStorage.OVHL.Core.Loader)
  18 | 	local TesEZ
  19 | 
  20 | 	pcall(function()
  21 | 		TesEZ = Loader.Pkg("TestEZ")
  22 | 	end)
  23 | 
  24 | 	if not TesEZ then
  25 | 		return
  26 | 	end -- Silent fail kalau gak ada (biasanya udah teriak di server)
  27 | 
  28 | 	-- 2. Cari Folder Test di PlayerScripts
  29 | 	local PlayerScripts = Players.LocalPlayer:WaitForChild("PlayerScripts")
  30 | 	local ClientTests = PlayerScripts:WaitForChild("Tests", 10)
  31 | 
  32 | 	local testRoots = {}
  33 | 	if ClientTests then
  34 | 		table.insert(testRoots, ClientTests)
  35 | 	end
  36 | 
  37 | 	-- Optional: Kalau mau ngetes Shared Logic (ReplicatedStorage) di client juga
  38 | 	-- table.insert(testRoots, ReplicatedStorage:WaitForChild("Tests"))
  39 | 
  40 | 	if #testRoots == 0 then
  41 | 		return -- Gak ada test client, skip aja
  42 | 	end
  43 | 
  44 | 	-- 3. JALANIN TES!
  45 | 	local results = TesEZ.TestBootstrap:run(testRoots)
  46 | 
  47 | 	if results.failureCount > 0 then
  48 | 		warn("‚ùå [CLIENT] FAILED: " .. results.failureCount .. " tests broken.")
  49 | 	else
  50 | 		print("‚úÖ [CLIENT] SUCCESS: UI & Controllers secure.")
  51 | 	end
  52 | end)
  53 | 
```
</details>


<details>
<summary><strong>üåô src/StarterPlayer/StarterPlayerScripts/OVHL/Controllers/FrameworkController.luau</strong> (136 lines, 4.83 KB)</summary>

**Rojo Path:** `game.StarterPlayer.StarterPlayerScripts.OVHL.Controllers.FrameworkController`

```lua
   1 | --!strict
   2 | -- @Controller: FrameworkController (V2 Standard)
   3 | local RS = game:GetService("ReplicatedStorage")
   4 | local Loader = require(RS.OVHL.Core.Loader)
   5 | local OVHL = require(RS.OVHL.Core.Framework) -- Central Import
   6 | 
   7 | -- Libs (View & Utils tetap manual)
   8 | local Fusion = Loader.Pkg("Fusion")
   9 | local Trove = Loader.Pkg("Trove")
  10 | local UI = Loader.UI.Foundation.API
  11 | local Topbar = Loader.UI.Foundation.Bridges.Topbar
  12 | local FrameworkPanelView = Loader.UI("Views/System/FrameworkPanelView")
  13 | 
  14 | local Ctrl = OVHL.CreateController({
  15 |     Name = "Framework",
  16 |     ConfigName = "SystemPanelConfig" -- Auto-load Config ke self.Config
  17 | })
  18 | 
  19 | function Ctrl:Init()
  20 |     self.Player = game.Players.LocalPlayer
  21 |     self._trove = Trove.new()
  22 |     self.Scope = UI.NewScope()
  23 |     
  24 |     self.State = {
  25 |         Visible = self.Scope:Value(false),
  26 |         CurrentTab = self.Scope:Value("Dashboard"), 
  27 |         PlayerList = self.Scope:Value({}),
  28 |         IsLoading = self.Scope:Value(false),
  29 |         SelectedPlayer = self.Scope:Value(nil),
  30 |         Confirmation = self.Scope:Value(nil)
  31 |     }
  32 | 
  33 |     local mounted = UI.SafeLoader.Mount(self.Scope, FrameworkPanelView, {
  34 |         Config = self.Config,
  35 |         State = self.State,
  36 |         OnClose = function() self:Toggle(false) end,
  37 |         
  38 |         Actions = {
  39 |             RefreshPlayers = function() self:FetchPlayers() end,
  40 |             OpenInspector = function(p) self.State.SelectedPlayer:set(p) end,
  41 |             CloseInspector = function() self.State.SelectedPlayer:set(nil) end,
  42 |             
  43 |             -- [GUARDED ACTION via self.Guard]
  44 |             RequestRankChange = function(targetData, newRankId, rankLabel)
  45 |                 self.Guard.Run({ 
  46 |                     Confirm = {
  47 |                         Title = "CONFIRM RANK CHANGE",
  48 |                         Msg = "Are you sure you want to promote/demote\n" .. targetData.Name .. " to " .. rankLabel .. "?"
  49 |                     }
  50 |                 }, function()
  51 |                     self:SetRank(targetData.UserId, newRankId)
  52 |                 end)
  53 |             end,
  54 | 
  55 |             ResolveConfirmation = function(confirmed)
  56 |                 self:HandleConfirmationUI(confirmed)
  57 |             end
  58 |         }
  59 |     })
  60 |     
  61 |     if mounted then self._trove:Add(mounted) end
  62 |     self:UpdateTopbar()
  63 |     
  64 |     -- [LISTENERS via self.Bridge]
  65 |     self.Bridge:Listen("Permission", "RankChanged", function(u, r)
  66 |         if u == self.Player.UserId then self:UpdateTopbar() end
  67 |         if Fusion.peek(self.State.Visible) then self:FetchPlayers() end
  68 |     end)
  69 | 
  70 |     -- [GLOBAL SIGNAL]
  71 |     Loader.Core("Signals"):Connect("SystemUI:RequestConfirm", function(payload)
  72 |         self:ShowConfirmationUI(payload)
  73 |     end)
  74 | end
  75 | 
  76 | function Ctrl:ShowConfirmationUI(payload)
  77 |     self._pendingGuardCallback = payload.OnResult
  78 |     self.State.Confirmation:set({ Title = payload.Title, Message = payload.Message })
  79 |     task.delay(5, function()
  80 |         local current = Fusion.peek(self.State.Confirmation)
  81 |         if current and current.Title == payload.Title then
  82 |             self.Logger:Info("AutoCancel", "Timeout 5s reached")
  83 |             self:HandleConfirmationUI(false)
  84 |         end
  85 |     end)
  86 | end
  87 | 
  88 | function Ctrl:HandleConfirmationUI(confirmed)
  89 |     if self._pendingGuardCallback then self._pendingGuardCallback(confirmed) end
  90 |     if confirmed then self.Logger:Info("UserConfirmed", "Action executed")
  91 |     else self.Logger:Info("UserCanceled", "Action aborted") end
  92 |     self.State.Confirmation:set(nil)
  93 |     self._pendingGuardCallback = nil
  94 | end
  95 | 
  96 | function Ctrl:UpdateTopbar()
  97 |     if self.Icon then return end 
  98 |     self.Icon = Topbar.Register("Framework", self.Config.Topbar, function(isOpened) self:Toggle(isOpened) end)
  99 | end
 100 | 
 101 | function Ctrl:Toggle(forceState)
 102 |     local current = Fusion.peek(self.State.Visible)
 103 |     local newState = if forceState ~= nil then forceState else not current
 104 |     self.State.Visible:set(newState)
 105 |     if self.Icon then if newState then self.Icon:select() else self.Icon:deselect() end end
 106 |     if newState then self:FetchPlayers() end
 107 | end
 108 | 
 109 | function Ctrl:FetchPlayers()
 110 |     self.State.IsLoading:set(true)
 111 |     self.Bridge:Request("Permission", "GetPlayers")
 112 |         :andThen(function(res)
 113 |             self.State.PlayerList:set(res)
 114 |             self.State.IsLoading:set(false)
 115 |         end)
 116 |         :catch(function(err)
 117 |             self.State.IsLoading:set(false)
 118 |         end)
 119 | end
 120 | 
 121 | function Ctrl:SetRank(targetId, newRank)
 122 |     self.State.IsLoading:set(true)
 123 |     self.State.SelectedPlayer:set(nil) 
 124 |     self.Bridge:Request("Permission", "SetRank", tonumber(targetId), tonumber(newRank))
 125 |         :andThen(function(res)
 126 |             self.Logger:Info("Success", res)
 127 |             self:FetchPlayers()
 128 |         end)
 129 |         :catch(function(err)
 130 |             warn("[Framework] SetRank Failed: " .. tostring(err))
 131 |             self.State.IsLoading:set(false)
 132 |         end)
 133 | end
 134 | 
 135 | return Ctrl
 136 | 
```
</details>


<details>
<summary><strong>üåô src/StarterPlayer/StarterPlayerScripts/OVHL/Controllers/PermissionController.luau</strong> (33 lines, 834 Bytes)</summary>

**Rojo Path:** `game.StarterPlayer.StarterPlayerScripts.OVHL.Controllers.PermissionController`

```lua
   1 | --!strict
   2 | -- @Controller: PermissionController (V2 Standard)
   3 | local RS = game:GetService("ReplicatedStorage")
   4 | local OVHL = require(RS.OVHL.Core.Framework)
   5 | 
   6 | local Ctrl = OVHL.CreateController({
   7 |     Name = "Permission",
   8 |     -- Tidak ada Config khusus
   9 | })
  10 | 
  11 | function Ctrl:Init()
  12 |     self.Player = game.Players.LocalPlayer
  13 | end
  14 | 
  15 | function Ctrl:Start()
  16 |     self.Player:GetAttributeChangedSignal("OVHL_Rank"):Connect(function()
  17 |         self:OnRankChanged()
  18 |     end)
  19 |     self:OnRankChanged()
  20 | end
  21 | 
  22 | function Ctrl:OnRankChanged()
  23 |     local rank = self.Player:GetAttribute("OVHL_Rank") or 0
  24 |     local role = self.Player:GetAttribute("OVHL_Role") or "Guest"
  25 |     self.Logger:Info("Update", { Rank = rank, Role = role })
  26 | end
  27 | 
  28 | function Ctrl:GetRank()
  29 |     return self.Player:GetAttribute("OVHL_Rank") or 0
  30 | end
  31 | 
  32 | return Ctrl
  33 | 
```
</details>


<details>
<summary><strong>üåô src/StarterPlayer/StarterPlayerScripts/OVHL/Core/ClientKernel.luau</strong> (89 lines, 3.02 KB)</summary>

**Rojo Path:** `game.StarterPlayer.StarterPlayerScripts.OVHL.Core.ClientKernel`

```lua
   1 | --!strict
   2 | -- @Kernel: Client v0.4.0 (Standardized)
   3 | local Players = game:GetService("Players")
   4 | local RS = game:GetService("ReplicatedStorage")
   5 | local Loader = require(RS.OVHL.Core.Loader)
   6 | 
   7 | -- [STANDARD] Load Core Systems yang BENAR-BENAR ADA
   8 | local ConfigLoader = Loader.Core("SharedConfigLoader")
   9 | local Bridge = Loader.Core("Networking/Bridge")
  10 | local Context = Loader.Core("Context")
  11 | local SmartLogger = Loader.Core("SmartLogger")
  12 | local Manifest = Loader.Core("Manifest")
  13 | 
  14 | local ClientKernel = {}
  15 | 
  16 | function ClientKernel.Boot()
  17 |     local Log = SmartLogger.New("SYSTEM")
  18 |     Log:Info(string.format("üéÆ %s v%s (%s) CLIENT STARTING...", Manifest.Identity.Name, Manifest.Version.Full, Manifest.Metadata.BuildType))
  19 |     
  20 |     -- [STANDARD] Systems Container
  21 |     local systems = {
  22 |         ConfigLoader = ConfigLoader,
  23 |         Network = Bridge.New(), 
  24 |         Controllers = {} 
  25 |     }
  26 |     
  27 |     local PlayerScripts = Players.LocalPlayer:WaitForChild("PlayerScripts")
  28 |     local Root = PlayerScripts:WaitForChild("OVHL")
  29 |     
  30 |     -- [[ DISCOVERY FUNCTION ]]
  31 |     local function register(module)
  32 |         if module:IsA("ModuleScript") then
  33 |             local ok, res = pcall(require, module)
  34 |             if ok then 
  35 |                 systems.Controllers[module.Name] = res
  36 |                 systems[module.Name] = res 
  37 |                 Log:Debug("   + Controller: " .. module.Name)
  38 |             else
  39 |                 Log:Error("   x Failed: " .. module.Name, res)
  40 |             end
  41 |         end
  42 |     end
  43 |     
  44 |     -- 1. Scan Controllers & Modules
  45 |     Log:Info("üîç Scanning Client Modules...")
  46 |     if Root:FindFirstChild("Controllers") then
  47 |         for _, mod in ipairs(Root.Controllers:GetChildren()) do register(mod) end
  48 |     end
  49 |     if Root:FindFirstChild("Modules") then
  50 |         for _, feature in ipairs(Root.Modules:GetChildren()) do
  51 |             if feature:IsA("Folder") then
  52 |                 for _, file in ipairs(feature:GetChildren()) do
  53 |                     if file.Name:match("Controller$") then register(file) end
  54 |                 end
  55 |             end
  56 |         end
  57 |     end
  58 |     
  59 |     -- [STANDARD] Context New (Context akan auto-inject SmartLogger helper)
  60 |     local ctx = Context.New(systems)
  61 |     
  62 |     -- Lifecycle: Init
  63 |     Log:Info("Phase 1: Init")
  64 |     for name, ctrl in pairs(systems.Controllers) do
  65 |         if ctrl.Init then 
  66 |             task.spawn(function()
  67 |                 local s, r = pcall(function() ctrl:Init(ctx) end)
  68 |                 if not s then Log:Error("Init Fail: " .. name, r) end
  69 |             end)
  70 |         end
  71 |     end
  72 |     
  73 |     -- Lifecycle: Start
  74 |     task.delay(0.1, function()
  75 |         Log:Info("Phase 2: Start")
  76 |         for name, ctrl in pairs(systems.Controllers) do
  77 |             if ctrl.Start then 
  78 |                 task.spawn(function() 
  79 |                     local s, r = pcall(function() ctrl:Start() end)
  80 |                     if not s then Log:Error("Start Fail: " .. name, r) end
  81 |                 end) 
  82 |             end
  83 |         end
  84 |         Log:Info("‚úÖ CLIENT BOOT COMPLETE")
  85 |     end)
  86 | end
  87 | 
  88 | return ClientKernel
  89 | 
```
</details>


<details>
<summary><strong>üåô src/StarterPlayer/StarterPlayerScripts/OVHL/Core/FinderService.luau</strong> (87 lines, 2.69 KB)</summary>

**Rojo Path:** `game.StarterPlayer.StarterPlayerScripts.OVHL.Core.FinderService`

```lua
   1 | --!strict
   2 | -- @Core: FinderService (Auto Scanner with CCTV)
   3 | -- @Role: Robust UI Element Lookup
   4 | local CollectionService = game:GetService("CollectionService")
   5 | local Players = game:GetService("Players")
   6 | 
   7 | local Player = Players.LocalPlayer
   8 | local PlayerGui = Player:WaitForChild("PlayerGui")
   9 | 
  10 | -- [DEPENDENCIES]
  11 | local Loader = require(game.ReplicatedStorage.OVHL.Core.Loader)
  12 | local Logger = Loader.Core("SmartLogger").New("UI")
  13 | 
  14 | local Finder = {}
  15 | 
  16 | -- Strategy: Direct Attribute > Tag > Recursive Name
  17 | function Finder.Get(query, root)
  18 |     root = root or PlayerGui
  19 |     
  20 |     -- 1. Direct Reference by Attribute (O(1))
  21 |     if type(query) == "string" then
  22 |         local attrRef = root:GetAttribute(query)
  23 |         if attrRef and typeof(attrRef) == "Instance" then
  24 |             -- Logger:Debug("Finder", {Msg="Found by Attribute", Query=query}) 
  25 |             return attrRef
  26 |         end
  27 |     end
  28 |     
  29 |     -- 2. CollectionService Tag (O(1) Lookup)
  30 |     local tagged = CollectionService:GetTagged(query)
  31 |     for _, obj in ipairs(tagged) do
  32 |         if obj:IsDescendantOf(root) then 
  33 |             -- Logger:Debug("Finder", {Msg="Found by Tag", Query=query})
  34 |             return obj 
  35 |         end
  36 |     end
  37 | 
  38 |     -- 3. Standard Name Search (Fast Child & Recursive)
  39 |     local child = root:FindFirstChild(query, true) 
  40 |     if child then 
  41 |         -- Logger:Debug("Finder", {Msg="Found by Name", Query=query})
  42 |         return child 
  43 |     end
  44 |     
  45 |     -- [CCTV] Lapor jika Gagal Total
  46 |     Logger:Warn("Missing", {
  47 |         Msg = "GUI Element Not Found", 
  48 |         Query = query, 
  49 |         Root = root.Name
  50 |     })
  51 |     
  52 |     return nil
  53 | end
  54 | 
  55 | -- Digunakan untuk resolve list component dari Config
  56 | function Finder.ResolveMap(screenName, componentMap)
  57 |     local root = PlayerGui:FindFirstChild(screenName)
  58 |     if not root then 
  59 |         Logger:Error("MissingScreen", {Screen=screenName})
  60 |         return nil, "ScreenGui " .. screenName .. " not found" 
  61 |     end
  62 |     
  63 |     local results = { _Root = root }
  64 |     local missing = {}
  65 |     
  66 |     for key, spec in pairs(componentMap) do
  67 |         local searchKey = (type(spec) == "table") and (spec.Tag or spec.Name) or spec
  68 |         local found = Finder.Get(searchKey, root)
  69 |         
  70 |         if found then
  71 |             results[key] = found
  72 |         else
  73 |             table.insert(missing, key .. " (" .. tostring(searchKey) .. ")")
  74 |         end
  75 |     end
  76 |     
  77 |     if #missing > 0 then
  78 |         Logger:Warn("IncompleteMap", {Screen=screenName, Missing=table.concat(missing, ",")})
  79 |         return nil, "Missing Components: " .. table.concat(missing, ", ")
  80 |     end
  81 |     
  82 |     -- Logger:Info("Resolved", {Screen=screenName, Count=0}) -- Optional info
  83 |     return results
  84 | end
  85 | 
  86 | return Finder
  87 | 
```
</details>


<details>
<summary><strong>üåô src/StarterPlayer/StarterPlayerScripts/OVHL/Modules/Inventory/InventoryController.luau</strong> (92 lines, 2.87 KB)</summary>

**Rojo Path:** `game.StarterPlayer.StarterPlayerScripts.OVHL.Modules.Inventory.InventoryController`

```lua
   1 | --!strict
   2 | -- @Controller: InventoryController (V2 Standard)
   3 | local RS = game:GetService("ReplicatedStorage")
   4 | local Loader = require(RS.OVHL.Core.Loader)
   5 | local OVHL = require(RS.OVHL.Core.Framework)
   6 | 
   7 | local UI = Loader.UI.Foundation.API
   8 | local Fusion = UI.Fusion
   9 | local Trove = Loader.Pkg("Trove")
  10 | local Topbar = Loader.UI.Foundation.Bridges.Topbar
  11 | local InventoryView = Loader.UI.Views.Inventory.InventoryView
  12 | 
  13 | local Ctrl = OVHL.CreateController({
  14 |     Name = "Inventory",
  15 |     ConfigName = "Inventory" -- Auto-load Config
  16 | })
  17 | 
  18 | function Ctrl:Init()
  19 |     self._trove = Trove.new()
  20 |     self.Scope = UI.NewScope()
  21 |     
  22 |     self.State = {
  23 |         Visible = self.Scope:Value(false),
  24 |         Items = self.Scope:Value({})
  25 |     }
  26 |     
  27 |     local mounted = UI.SafeLoader.Mount(self.Scope, InventoryView, {
  28 |         Config = self.Config,
  29 |         State = self.State,
  30 |         OnClose = function() self:Toggle(false) end,
  31 |         OnAction = function(item, actionId, unlockUI) self:HandleAction(item, actionId, unlockUI) end
  32 |     })
  33 |     if mounted then self._trove:Add(mounted) end
  34 | 
  35 |     self.Icon = Topbar.Register("Inventory", self.Config.Topbar, function(isOpened)
  36 |         self:Toggle(isOpened)
  37 |     end)
  38 | end
  39 | 
  40 | function Ctrl:Start()
  41 |     self:FetchData()
  42 | end
  43 | 
  44 | -- [CRITICAL FIX] Memory Cleanup
  45 | -- Metode ini dipersiapkan untuk dipanggil oleh Framework saat Controller di-unload
  46 | -- atau saat Player Reset/Keluar (tergantung implementasi Framework Kernel kedepannya)
  47 | function Ctrl:Shutdown()
  48 |     if self._trove then
  49 |         self._trove:Destroy()
  50 |         self._trove = nil
  51 |     end
  52 |     -- Scope Fusion juga perlu dibersihkan jika Framework support hot-reload
  53 |     if self.Scope and self.Scope.doCleanup then
  54 |         self.Scope:doCleanup()
  55 |         self.Scope = nil
  56 |     end
  57 | end
  58 | 
  59 | function Ctrl:HandleAction(item, actionId, unlockUI)
  60 |     -- [FIX] Pake self.Guard
  61 |     self.Guard.Run({ Debounce = 0.5 }, function()
  62 |         -- [FIX] Pake self.Bridge
  63 |         self.Bridge:Request("Inventory", "PerformAction", item.Id, actionId)
  64 |             :andThen(function(res)
  65 |                 self.Logger:Info("ActionSuccess", res.Msg)
  66 |                 return self:FetchData() 
  67 |             end)
  68 |             :catch(function(err)
  69 |                 self.Logger:Warn("ActionFail", err)
  70 |             end)
  71 |             :finally(function()
  72 |                 unlockUI()
  73 |             end)
  74 |     end)
  75 | end
  76 | 
  77 | function Ctrl:FetchData()
  78 |     return self.Bridge:Request("Inventory", "GetItems")
  79 |         :andThen(function(items) 
  80 |             self.State.Items:set(items)
  81 |         end)
  82 | end
  83 | 
  84 | function Ctrl:Toggle(forceState)
  85 |     local current = Fusion.peek(self.State.Visible)
  86 |     local newState = if forceState ~= nil then forceState else not current
  87 |     self.State.Visible:set(newState)
  88 |     if self.Icon then if newState then self.Icon:select() else self.Icon:deselect() end end
  89 |     if newState then self:FetchData() end
  90 | end
  91 | 
  92 | return Ctrl
```
</details>

### üì¶ Group: Tests (Shared)


<details>
<summary><strong>üåô tests/ReplicatedStorage/Mocks/MockDataStore.luau</strong> (14 lines, 380 Bytes)</summary>

**Rojo Path:** `game.ReplicatedStorage.Tests.Mocks.MockDataStore`

```lua
   1 | --!strict
   2 | -- @Mock: DataStore
   3 | local MockDS = {}
   4 | MockDS.__index = MockDS
   5 | function MockDS.new() return setmetatable({_d={}}, MockDS) end
   6 | function MockDS:GetAsync(k) return self._d[k] end
   7 | function MockDS:SetAsync(k, v) self._d[k] = v end
   8 | function MockDS:UpdateAsync(k, cb) 
   9 |     local v = cb(self._d[k])
  10 |     if v~=nil then self._d[k]=v end
  11 |     return v
  12 | end
  13 | return MockDS
  14 | 
```
</details>


<details>
<summary><strong>üåô tests/ReplicatedStorage/Mocks/MockPlayer.luau</strong> (14 lines, 505 Bytes)</summary>

**Rojo Path:** `game.ReplicatedStorage.Tests.Mocks.MockPlayer`

```lua
   1 | --!strict
   2 | -- @Mock: Player
   3 | local MockPlayer = {}
   4 | MockPlayer.__index = MockPlayer
   5 | function MockPlayer.new(userId, name) 
   6 | 	local self = setmetatable({UserId=userId or 1, Name=name or "TestPlr", Parent=game.Players, _attr={}}, MockPlayer) 
   7 | 	return self 
   8 | end
   9 | function MockPlayer:GetAttribute(k) return self._attr[k] end
  10 | function MockPlayer:SetAttribute(k, v) self._attr[k] = v end
  11 | function MockPlayer:Kick() end
  12 | function MockPlayer:IsDescendantOf(p) return self.Parent == p end
  13 | return MockPlayer
  14 | 
```
</details>


<details>
<summary><strong>üåô tests/ReplicatedStorage/OVHL/Core/Context.spec.luau</strong> (35 lines, 984 Bytes)</summary>

**Rojo Path:** `game.ReplicatedStorage.Tests.OVHL.Core.Context.spec`

```lua
   1 | --!strict
   2 | return function()
   3 | 	local ReplicatedStorage = game:GetService("ReplicatedStorage")
   4 | 	local Loader = require(ReplicatedStorage.OVHL.Core.Loader)
   5 | 	local Context = Loader.Core("Context")
   6 | 
   7 | 	describe("Context", function()
   8 | 		it("should inject services", function()
   9 | 			local mockServices = {
  10 | 				AuthService = { Name = "Auth" },
  11 | 				DataService = { Name = "Data" }
  12 | 			}
  13 | 			local ctx = Context.New(mockServices)
  14 | 			
  15 | 			expect(ctx).to.be.ok()
  16 | 			expect(ctx.AuthService).to.be.ok()
  17 | 			expect(ctx.DataService).to.be.ok()
  18 | 		end)
  19 | 
  20 | 		it("should provide CreateLogger helper", function()
  21 | 			local ctx = Context.New({})
  22 | 			expect(ctx.CreateLogger).to.be.a("function")
  23 | 			
  24 | 			local log = ctx:CreateLogger("CTX_TEST")
  25 | 			expect(log).to.be.ok()
  26 | 		end)
  27 |         
  28 |         it("should expose shared libs", function()
  29 |             local ctx = Context.New({})
  30 |             expect(ctx.Signals).to.be.ok()
  31 |             expect(ctx.Manifest).to.be.ok()
  32 |         end)
  33 | 	end)
  34 | end
  35 | 
```
</details>


<details>
<summary><strong>üåô tests/ReplicatedStorage/OVHL/Core/Loader.spec.luau</strong> (26 lines, 873 Bytes)</summary>

**Rojo Path:** `game.ReplicatedStorage.Tests.OVHL.Core.Loader.spec`

```lua
   1 | --!strict
   2 | return function()
   3 | 	local ReplicatedStorage = game:GetService("ReplicatedStorage")
   4 | 	local Loader = require(ReplicatedStorage.OVHL.Core.Loader)
   5 | 
   6 | 	describe("Loader V2", function()
   7 | 		it("should support Dot Syntax (Loader.Core.Module)", function()
   8 | 			local Signals = Loader.Core.Signals
   9 | 			expect(Signals).to.be.ok()
  10 | 		end)
  11 | 
  12 | 		it("should support Legacy Call Syntax (Loader.Core('Module'))", function()
  13 | 			expect(function()
  14 |                 local Signals = Loader.Core("Signals")
  15 |                 expect(Signals).to.be.ok()
  16 |             end).never.to.throw()
  17 | 		end)
  18 |         
  19 |         it("should list available files on error", function()
  20 |             local ok, err = pcall(function() return Loader.Core.Ngawur end)
  21 |             expect(ok).to.equal(false)
  22 |             expect(string.find(tostring(err), "Available:")).to.be.ok()
  23 |         end)
  24 | 	end)
  25 | end
  26 | 
```
</details>


<details>
<summary><strong>üåô tests/ReplicatedStorage/OVHL/Core/SmartLogger.spec.luau</strong> (30 lines, 881 Bytes)</summary>

**Rojo Path:** `game.ReplicatedStorage.Tests.OVHL.Core.SmartLogger.spec`

```lua
   1 | --!strict
   2 | return function()
   3 | 	local ReplicatedStorage = game:GetService("ReplicatedStorage")
   4 | 	local Loader = require(ReplicatedStorage.OVHL.Core.Loader)
   5 | 	local SmartLogger = Loader.Core("SmartLogger")
   6 | 
   7 | 	describe("SmartLogger", function()
   8 | 		it("should create new instance", function()
   9 | 			local log = SmartLogger.New("UNIT_TEST")
  10 | 			expect(log).to.be.ok()
  11 | 			expect(log._rawDomain).to.equal("UNIT_TEST")
  12 | 		end)
  13 | 
  14 | 		it("should handle logging without error", function()
  15 | 			local log = SmartLogger.New("TEST")
  16 | 			expect(function()
  17 | 				log:Info("Info Check")
  18 | 				log:Warn("Warn Check")
  19 | 			end).never.to.throw()
  20 | 		end)
  21 | 
  22 |         it("should accept data table", function()
  23 |             local log = SmartLogger.New("TEST")
  24 |             expect(function()
  25 |                 log:Info("Data Check", { Value = 123 })
  26 |             end).never.to.throw()
  27 |         end)
  28 | 	end)
  29 | end
  30 | 
```
</details>

### üì¶ Group: Tests (Server)


<details>
<summary><strong>üåô tests/ServerScriptService/OVHL/Core/DataMigrator.spec.luau</strong> (29 lines, 1.09 KB)</summary>

**Rojo Path:** `game.ServerScriptService.Tests.OVHL.Core.DataMigrator.spec`

```lua
   1 | --!strict
   2 | return function()
   3 |     local SS = game:GetService("ServerScriptService")
   4 |     local DataMigrator = require(SS.OVHL.Core.DataMigrator)
   5 |     
   6 |     -- Mock Logger untuk menangkap output
   7 |     local MockLogger = {
   8 |         Warn = function() end,
   9 |         Info = function() end,
  10 |         Error = function() end
  11 |     }
  12 | 
  13 |     describe("DataMigrator", function()
  14 |         it("should auto-tag new data with latest version", function()
  15 |             local profile = { Data = {} }
  16 |             DataMigrator.Migrate(profile, MockLogger)
  17 |             expect(profile.Data._SchemaVersion).to.equal(DataMigrator.LATEST_VERSION)
  18 |         end)
  19 |         
  20 |         it("should skip migration if version matches", function()
  21 |             local profile = { Data = { _SchemaVersion = DataMigrator.LATEST_VERSION } }
  22 |             -- Kita tidak bisa mudah detect 'skip' tanpa spy, 
  23 |             -- tapi setidaknya pastikan tidak error dan versi tidak berubah
  24 |             DataMigrator.Migrate(profile, MockLogger)
  25 |             expect(profile.Data._SchemaVersion).to.equal(DataMigrator.LATEST_VERSION)
  26 |         end)
  27 |     end)
  28 | end
  29 | 
```
</details>

### üì¶ Group: Tests (Client)

> *(No files found in this category)*

### üì¶ Group: Automation / Root


<details>
<summary><strong>üåô run.luau</strong> (2 lines, 4 Bytes)</summary>

**Rojo Path:** `Unmapped`

```lua
   1 | --
   2 | 
```
</details>

### üì¶ Group: Unknown

> *(No files found in this category)*


---
## üéØ AI QUICK REFERENCE

### üìÇ Rojo Architecture Mapping (Active Configuration)
> This is the **EXACT** mapping from `default.project.json`. 
> AI Agents MUST use these virtual paths when suggesting `require()` calls.

| Source Folder (Disk) | Roblox Service (Virtual) |
|---|---|
| `src/ReplicatedStorage/OVHL` | `game.ReplicatedStorage.OVHL` |
| `Packages` | `game.ReplicatedStorage.Packages` |
| `tests/ReplicatedStorage` | `game.ReplicatedStorage.Tests` |
| `src/ServerScriptService/OVHL` | `game.ServerScriptService.OVHL` |
| `tests/ServerScriptService` | `game.ServerScriptService.Tests` |
| `src/StarterPlayer/StarterPlayerScripts/OVHL` | `game.StarterPlayer.StarterPlayerScripts.OVHL` |
| `tests/StarterPlayer/StarterPlayerScripts` | `game.StarterPlayer.StarterPlayerScripts.Tests` |


---
*Generated by OVHL Tools | Enterprise Edition*
